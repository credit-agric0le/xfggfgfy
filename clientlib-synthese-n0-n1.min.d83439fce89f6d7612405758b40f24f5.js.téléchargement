/*
 AngularJS
 (c) 2010-2020 Google LLC. http://angularjs.org
 License: MIT
 @license XLTS for AngularJS License Agreement
 (c) 2022 XLTS.dev All Rights Reserved. https://xlts.dev/angularjs
 v1.9.0
 @license AngularJS
 (c) 2010-2020 Google LLC. http://angularjs.org
 License: MIT
 XLTS for AngularJS v1.9.0
 (c) 2022 XLTS.dev All Rights Reserved. https://xlts.dev/angularjs
 License: Obtain a commercial license from XLTS.dev before using this software.
*/
(function(window){var minErrConfig={objectMaxDepth:5,urlErrorParamsEnabled:true};function errorHandlingConfig(config){if(isObject(config)){if(isDefined(config.objectMaxDepth))minErrConfig.objectMaxDepth=isValidObjectMaxDepth(config.objectMaxDepth)?config.objectMaxDepth:NaN;if(isDefined(config.urlErrorParamsEnabled)&&isBoolean(config.urlErrorParamsEnabled))minErrConfig.urlErrorParamsEnabled=config.urlErrorParamsEnabled}else return minErrConfig}function isValidObjectMaxDepth(maxDepth){return isNumber(maxDepth)&&
maxDepth>0}function minErr(module,ErrorConstructor){ErrorConstructor=ErrorConstructor||Error;var url="https://errors.angularjs.xlts.dev/1.9.0/";var regex=url.replace(".","\\.")+"[\\s\\S]*";var errRegExp=new RegExp(regex,"g");return function(){var code=arguments[0],template=arguments[1],message="["+(module?module+":":"")+code+"] ",templateArgs=sliceArgs(arguments,2).map(function(arg){return toDebugString(arg,minErrConfig.objectMaxDepth)}),paramPrefix,i;message+=template.replace(/\{\d+\}/g,function(match){var index=
+match.slice(1,-1);if(index<templateArgs.length)return templateArgs[index].replace(errRegExp,"");return match});message+="\n"+url+(module?module+"/":"")+code;if(minErrConfig.urlErrorParamsEnabled)for(i=0,paramPrefix="?";i<templateArgs.length;i++,paramPrefix="\x26")message+=paramPrefix+"p"+i+"\x3d"+encodeURIComponent(templateArgs[i]);return new ErrorConstructor(message)}}var REGEX_STRING_REGEXP=/^\/(.+)\/([a-z]*)$/;var VALIDITY_STATE_PROPERTY="validity";var hasOwnProperty=Object.prototype.hasOwnProperty;
var lowercase=function(string){return isString(string)?string.toLowerCase():string};var uppercase=function(string){return isString(string)?string.toUpperCase():string};var msie,jqLite,jQuery,slice=[].slice,splice=[].splice,push=[].push,toString=Object.prototype.toString,getPrototypeOf=Object.getPrototypeOf,ngMinErr=minErr("ng"),angular=window.angular||(window.angular={}),angularModule,uid=0;msie=window.document.documentMode;function isArrayLike(obj){if(obj==null||isWindow(obj))return false;if(isArray(obj)||
isString(obj)||jqLite&&obj instanceof jqLite)return true;var length="length"in Object(obj)&&obj.length;return isNumber(length)&&(length>=0&&length-1 in obj||typeof obj.item==="function")}function forEach(obj,iterator,context){var key,length;if(obj)if(isFunction(obj))for(key in obj){if(key!=="prototype"&&key!=="length"&&key!=="name"&&obj.hasOwnProperty(key))iterator.call(context,obj[key],key,obj)}else if(isArray(obj)||isArrayLike(obj)){var isPrimitive=typeof obj!=="object";for(key=0,length=obj.length;key<
length;key++)if(isPrimitive||key in obj)iterator.call(context,obj[key],key,obj)}else if(obj.forEach&&obj.forEach!==forEach)obj.forEach(iterator,context,obj);else if(isBlankObject(obj))for(key in obj)iterator.call(context,obj[key],key,obj);else if(typeof obj.hasOwnProperty==="function")for(key in obj){if(obj.hasOwnProperty(key))iterator.call(context,obj[key],key,obj)}else for(key in obj)if(hasOwnProperty.call(obj,key))iterator.call(context,obj[key],key,obj);return obj}function forEachSorted(obj,iterator,
context){var keys=Object.keys(obj).sort();for(var i=0;i<keys.length;i++)iterator.call(context,obj[keys[i]],keys[i]);return keys}function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value)}}function nextUid(){return++uid}function setHashKey(obj,h){if(h)obj.$$hashKey=h;else delete obj.$$hashKey}function baseExtend(dst,objs,deep){var h=dst.$$hashKey;for(var i=0,ii=objs.length;i<ii;++i){var obj=objs[i];if(!isObject(obj)&&!isFunction(obj))continue;var keys=Object.keys(obj);for(var j=
0,jj=keys.length;j<jj;j++){var key=keys[j];var src=obj[key];if(deep&&isObject(src))if(isDate(src))dst[key]=new Date(src.valueOf());else if(isRegExp(src))dst[key]=new RegExp(src);else if(src.nodeName)dst[key]=src.cloneNode(true);else if(isElement(src))dst[key]=src.clone();else{if(key!=="__proto__"){if(!isObject(dst[key]))dst[key]=isArray(src)?[]:{};baseExtend(dst[key],[src],true)}}else dst[key]=src}}setHashKey(dst,h);return dst}function extend(dst){return baseExtend(dst,slice.call(arguments,1),false)}
function merge(dst){return baseExtend(dst,slice.call(arguments,1),true)}function toInt(str){return parseInt(str,10)}var isNumberNaN=Number.isNaN||function isNumberNaN(num){return num!==num};function inherit(parent,extra){return extend(Object.create(parent),extra)}function noop(){}noop.$inject=[];function identity($){return $}identity.$inject=[];function valueFn(value){return function valueRef(){return value}}function hasCustomToString(obj){return isFunction(obj.toString)&&obj.toString!==toString}
function isUndefined(value){return typeof value==="undefined"}function isDefined(value){return typeof value!=="undefined"}function isObject(value){return value!==null&&typeof value==="object"}function isBlankObject(value){return value!==null&&typeof value==="object"&&!getPrototypeOf(value)}function isString(value){return typeof value==="string"}function isNumber(value){return typeof value==="number"}function isDate(value){return toString.call(value)==="[object Date]"}function isArray(arr){return Array.isArray(arr)||
arr instanceof Array}function isError(value){var tag=toString.call(value);switch(tag){case "[object Error]":return true;case "[object Exception]":return true;case "[object DOMException]":return true;default:return value instanceof Error}}function isFunction(value){return typeof value==="function"}function isRegExp(value){return toString.call(value)==="[object RegExp]"}function isWindow(obj){return obj&&obj.window===obj}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isFile(obj){return toString.call(obj)===
"[object File]"}function isFormData(obj){return toString.call(obj)==="[object FormData]"}function isBlob(obj){return toString.call(obj)==="[object Blob]"}function isBoolean(value){return typeof value==="boolean"}function isPromiseLike(obj){return obj&&isFunction(obj.then)}var TYPED_ARRAY_REGEXP=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;function isTypedArray(value){return value&&isNumber(value.length)&&TYPED_ARRAY_REGEXP.test(toString.call(value))}function isArrayBuffer(obj){return toString.call(obj)===
"[object ArrayBuffer]"}var trim=function(value){return isString(value)?value.trim():value};var escapeForRegexp=function(s){return s.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function isElement(node){return!!(node&&(node.nodeName||node.prop&&node.attr&&node.find))}function makeMap(str){var obj={},items=str.split(","),i;for(i=0;i<items.length;i++)obj[items[i]]=true;return obj}function nodeName_(element){return lowercase(element.nodeName||element[0]&&element[0].nodeName)}
function includes(array,obj){return Array.prototype.indexOf.call(array,obj)!==-1}function arrayRemove(array,value){var index=array.indexOf(value);if(index>=0)array.splice(index,1);return index}function copy(source,destination,maxDepth){var stackSource=[];var stackDest=[];maxDepth=isValidObjectMaxDepth(maxDepth)?maxDepth:NaN;if(destination){if(isTypedArray(destination)||isArrayBuffer(destination))throw ngMinErr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(source===destination)throw ngMinErr("cpi",
"Can't copy! Source and destination are identical.");if(isArray(destination))destination.length=0;else forEach(destination,function(value,key){if(key!=="$$hashKey")delete destination[key]});stackSource.push(source);stackDest.push(destination);return copyRecurse(source,destination,maxDepth)}return copyElement(source,maxDepth);function copyRecurse(source,destination,maxDepth){maxDepth--;if(maxDepth<0)return"...";var h=destination.$$hashKey;var key;if(isArray(source))for(var i=0,ii=source.length;i<ii;i++)destination.push(copyElement(source[i],
maxDepth));else if(isBlankObject(source))for(key in source)destination[key]=copyElement(source[key],maxDepth);else if(source&&typeof source.hasOwnProperty==="function")for(key in source){if(source.hasOwnProperty(key))destination[key]=copyElement(source[key],maxDepth)}else for(key in source)if(hasOwnProperty.call(source,key))destination[key]=copyElement(source[key],maxDepth);setHashKey(destination,h);return destination}function copyElement(source,maxDepth){if(!isObject(source))return source;var index=
stackSource.indexOf(source);if(index!==-1)return stackDest[index];if(isWindow(source)||isScope(source))throw ngMinErr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var needsRecurse=false;var destination=copyType(source);if(destination===undefined){destination=isArray(source)?[]:Object.create(getPrototypeOf(source));needsRecurse=true}stackSource.push(source);stackDest.push(destination);return needsRecurse?copyRecurse(source,destination,maxDepth):destination}function copyType(source){switch(toString.call(source)){case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Float32Array]":case "[object Float64Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return new source.constructor(copyElement(source.buffer),
source.byteOffset,source.length);case "[object ArrayBuffer]":if(!source.slice){var copied=new ArrayBuffer(source.byteLength);(new Uint8Array(copied)).set(new Uint8Array(source));return copied}return source.slice(0);case "[object Boolean]":case "[object Number]":case "[object String]":case "[object Date]":return new source.constructor(source.valueOf());case "[object RegExp]":var re=new RegExp(source.source,source.toString().match(/[^/]*$/)[0]);re.lastIndex=source.lastIndex;return re;case "[object Blob]":return new source.constructor([source],
{type:source.type})}if(isFunction(source.cloneNode))return source.cloneNode(true)}}function simpleCompare(a,b){return a===b||a!==a&&b!==b}function equals(o1,o2){if(o1===o2)return true;if(o1===null||o2===null)return false;if(o1!==o1&&o2!==o2)return true;var t1=typeof o1,t2=typeof o2,length,key,keySet;if(t1===t2&&t1==="object")if(isArray(o1)){if(!isArray(o2))return false;if((length=o1.length)===o2.length){for(key=0;key<length;key++)if(!equals(o1[key],o2[key]))return false;return true}}else if(isDate(o1)){if(!isDate(o2))return false;
return simpleCompare(o1.getTime(),o2.getTime())}else if(isRegExp(o1)){if(!isRegExp(o2))return false;return o1.toString()===o2.toString()}else{if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2)||isDate(o2)||isRegExp(o2))return false;keySet=createMap();for(key in o1){if(key.charAt(0)==="$"||isFunction(o1[key]))continue;if(!equals(o1[key],o2[key]))return false;keySet[key]=true}for(key in o2)if(!(key in keySet)&&key.charAt(0)!=="$"&&isDefined(o2[key])&&!isFunction(o2[key]))return false;
return true}return false}var csp=function(){if(!isDefined(csp.rules)){var ngCspElement=window.document.querySelector("[ng-csp]")||window.document.querySelector("[data-ng-csp]");if(ngCspElement){var ngCspAttribute=ngCspElement.getAttribute("ng-csp")||ngCspElement.getAttribute("data-ng-csp");csp.rules={noUnsafeEval:!ngCspAttribute||ngCspAttribute.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!ngCspAttribute||ngCspAttribute.indexOf("no-inline-style")!==-1}}else csp.rules={noUnsafeEval:noUnsafeEval(),
noInlineStyle:false}}return csp.rules;function noUnsafeEval(){try{new Function("");return false}catch(e){return true}}};var jq=function(){if(isDefined(jq.name_))return jq.name_;var el;var i,ii=ngAttrPrefixes.length,prefix,name;for(i=0;i<ii;++i){prefix=ngAttrPrefixes[i];el=window.document.querySelector("["+prefix.replace(":","\\:")+"jq]");if(el){name=el.getAttribute(prefix+"jq");break}}return jq.name_=name};function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}function sliceArgs(args,
startIndex){return slice.call(args,startIndex||0)}function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];if(isFunction(fn)&&!(fn instanceof RegExp))return curryArgs.length?function(){return arguments.length?fn.apply(self,concat(curryArgs,arguments,0)):fn.apply(self,curryArgs)}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self)};else return fn}function toJsonReplacer(key,value){var val=value;if(typeof key==="string"&&key.charAt(0)==="$"&&key.charAt(1)===
"$")val=undefined;else if(isWindow(value))val="$WINDOW";else if(value&&window.document===value)val="$DOCUMENT";else if(isScope(value))val="$SCOPE";return val}function toJson(obj,pretty){if(isUndefined(obj))return undefined;if(!isNumber(pretty))pretty=pretty?2:null;return JSON.stringify(obj,toJsonReplacer,pretty)}function fromJson(json){return isString(json)?JSON.parse(json):json}var ALL_COLONS=/:/g;function timezoneToOffset(timezone,fallback){timezone=timezone.replace(ALL_COLONS,"");var requestedTimezoneOffset=
Date.parse("Jan 01, 1970 00:00:00 "+timezone)/6E4;return isNumberNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset}function addDateMinutes(date,minutes){date=new Date(date.getTime());date.setMinutes(date.getMinutes()+minutes);return date}function convertTimezoneToLocal(date,timezone,reverse){reverse=reverse?-1:1;var dateTimezoneOffset=date.getTimezoneOffset();var timezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);return addDateMinutes(date,reverse*(timezoneOffset-dateTimezoneOffset))}
function startingTag(element){element=jqLite(element).clone().empty();var elemHtml=jqLite("\x3cdiv\x3e\x3c/div\x3e").append(element).html();try{return element[0].nodeType===NODE_TYPE_TEXT?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(match,nodeName){return"\x3c"+lowercase(nodeName)})}catch(e){return lowercase(elemHtml)}}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}function parseKeyValue(keyValue){var obj={};forEach((keyValue||
"").split("\x26"),function(keyValue){var splitPoint,key,val;if(keyValue){key=keyValue=keyValue.replace(/\+/g,"%20");splitPoint=keyValue.indexOf("\x3d");if(splitPoint!==-1){key=keyValue.substring(0,splitPoint);val=keyValue.substring(splitPoint+1)}key=tryDecodeURIComponent(key);if(isDefined(key)){val=isDefined(val)?tryDecodeURIComponent(val):true;if(!hasOwnProperty.call(obj,key))obj[key]=val;else if(isArray(obj[key]))obj[key].push(val);else obj[key]=[obj[key],val]}}});return obj}function toKeyValue(obj){var parts=
[];forEach(obj,function(value,key){if(isArray(value))forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,true)+(arrayValue===true?"":"\x3d"+encodeUriQuery(arrayValue,true)))});else parts.push(encodeUriQuery(key,true)+(value===true?"":"\x3d"+encodeUriQuery(value,true)))});return parts.length?parts.join("\x26"):""}function encodeUriSegment(val){return encodeUriQuery(val,true).replace(/%26/gi,"\x26").replace(/%3D/gi,"\x3d").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,
"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,pctEncodeSpaces?"%20":"+")}var ngAttrPrefixes=["ng-","data-ng-","ng:","x-ng-"];function getNgAttribute(element,ngAttr){var attr,i,ii=ngAttrPrefixes.length;for(i=0;i<ii;++i){attr=ngAttrPrefixes[i]+ngAttr;if(isString(attr=element.getAttribute(attr)))return attr}return null}function allowAutoBootstrap(document){var script=document.currentScript;if(!script)return true;if(!(script instanceof window.HTMLScriptElement||
script instanceof window.SVGScriptElement))return false;var attributes=script.attributes;var srcs=[attributes.getNamedItem("src"),attributes.getNamedItem("href"),attributes.getNamedItem("xlink:href")];return srcs.every(function(src){if(!src)return true;if(!src.value)return false;var link=document.createElement("a");link.href=src.value;if(document.location.origin===link.origin)return true;switch(link.protocol){case "http:":case "https:":case "ftp:":case "blob:":case "file:":case "data:":return true;
default:return false}})}var isAutoBootstrapAllowed=allowAutoBootstrap(window.document);function angularInit(element,bootstrap){var appElement,module,config={};forEach(ngAttrPrefixes,function(prefix){var name=prefix+"app";if(!appElement&&element.hasAttribute&&element.hasAttribute(name)){appElement=element;module=element.getAttribute(name)}});forEach(ngAttrPrefixes,function(prefix){var name=prefix+"app";var candidate;if(!appElement&&(candidate=element.querySelector("["+name.replace(":","\\:")+"]"))){appElement=
candidate;module=candidate.getAttribute(name)}});if(appElement){if(!isAutoBootstrapAllowed){window.console.error("AngularJS: disabling automatic bootstrap. \x3cscript\x3e protocol indicates "+"an extension, document.location.href does not match.");return}config.strictDi=getNgAttribute(appElement,"strict-di")!==null;bootstrap(appElement,module?[module]:[],config)}}function bootstrap(element,modules,config){if(!isObject(config))config={};var defaultConfig={strictDi:false};config=extend(defaultConfig,
config);var doBootstrap=function(){element=jqLite(element);if(element.injector()){var tag=element[0]===window.document?"document":startingTag(element);throw ngMinErr("btstrpd","App already bootstrapped with this element '{0}'",tag.replace(/</,"\x26lt;").replace(/>/,"\x26gt;"));}modules=modules||[];modules.unshift(["$provide",function($provide){$provide.value("$rootElement",element)}]);if(config.debugInfoEnabled)modules.push(["$compileProvider",function($compileProvider){$compileProvider.debugInfoEnabled(true)}]);
modules.unshift("ng");var injector=createInjector(modules,config.strictDi);injector.invoke(["$rootScope","$rootElement","$compile","$injector",function bootstrapApply(scope,element,compile,injector){scope.$apply(function(){element.data("$injector",injector);compile(element)(scope)})}]);return injector};var NG_ENABLE_DEBUG_INFO=/^NG_ENABLE_DEBUG_INFO!/;var NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;if(window&&NG_ENABLE_DEBUG_INFO.test(window.name)){config.debugInfoEnabled=true;window.name=window.name.replace(NG_ENABLE_DEBUG_INFO,
"")}if(window&&!NG_DEFER_BOOTSTRAP.test(window.name))return doBootstrap();window.name=window.name.replace(NG_DEFER_BOOTSTRAP,"");angular.resumeBootstrap=function(extraModules){forEach(extraModules,function(module){modules.push(module)});return doBootstrap()};if(isFunction(angular.resumeDeferredBootstrap))angular.resumeDeferredBootstrap()}function reloadWithDebugInfo(){window.name="NG_ENABLE_DEBUG_INFO!"+window.name;window.location.reload()}function getTestability(rootElement){var injector=angular.element(rootElement).injector();
if(!injector)throw ngMinErr("test","no injector found for element argument to getTestability");return injector.get("$$testability")}var SNAKE_CASE_REGEXP=/[A-Z]/g;function snake_case(name,separator){separator=separator||"_";return name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}var bindJQueryFired=false;function bindJQuery(){var originalCleanData;if(bindJQueryFired)return;var jqName=jq();jQuery=isUndefined(jqName)?window.jQuery:!jqName?undefined:
window[jqName];if(jQuery&&jQuery.fn.on){jqLite=jQuery;extend(jQuery.fn,{scope:JQLitePrototype.scope,isolateScope:JQLitePrototype.isolateScope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData})}else jqLite=JQLite;originalCleanData=jqLite.cleanData;jqLite.cleanData=function(elems){var events;for(var i=0,elem;(elem=elems[i])!=null;i++){events=(jqLite._data(elem)||{}).events;if(events&&events.$destroy)jqLite(elem).triggerHandler("$destroy")}originalCleanData(elems)};
angular.element=jqLite;bindJQueryFired=true}var XHTML_TAG_REGEXP=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)(?:[^\w:>-][^>]*)?)\/>/gi;function UNSAFE_restoreLegacyJqLiteXHTMLReplacement(){JQLite.htmlPrefilter=function(html){var finalHtml=html.replace(XHTML_TAG_REGEXP,"\x3c$1\x3e\x3c/$2\x3e");if(window.console&&window.console.warn&&html!==finalHtml)window.console.warn("JQLite changed the HTML string:\n"+"\n"+html+"\n"+"\n"+"to remove self-closing tags, resulting in this HTML string:\n"+
"\n"+finalHtml+"\n"+"\n"+"JQLite no longer does this replacement when you stop calling "+"UNSAFE_restoreLegacyJqLiteXHTMLReplacement; please update your code "+"to avoid self-closing tags.");return finalHtml}}function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function assertArgFn(arg,name,acceptArrayAnnotation){if(acceptArrayAnnotation&&isArray(arg))arg=arg[arg.length-1];assertArg(isFunction(arg),name,"not a function, got "+
(arg&&typeof arg==="object"?arg.constructor.name||"Object":typeof arg));return arg}function assertNotHasOwnProperty(name,context){if(name==="hasOwnProperty")throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context);}function getter(obj,path,bindFnToScope){if(!path)return obj;var keys=path.split(".");var key;var lastInstance=obj;var len=keys.length;for(var i=0;i<len;i++){key=keys[i];if(obj)obj=(lastInstance=obj)[key]}if(!bindFnToScope&&isFunction(obj))return bind(lastInstance,obj);
return obj}function getBlockNodes(nodes){var node=nodes[0];var endNode=nodes[nodes.length-1];var blockNodes;for(var i=1;node!==endNode&&(node=node.nextSibling);i++)if(blockNodes||nodes[i]!==node){if(!blockNodes)blockNodes=jqLite(slice.call(nodes,0,i));blockNodes.push(node)}return blockNodes||nodes}function createMap(){return Object.create(null)}function stringify(value){if(value==null)return"";switch(typeof value){case "string":break;case "number":value=""+value;break;default:if(hasCustomToString(value)&&
!isArray(value)&&!isDate(value))value=value.toString();else value=toJson(value)}return value}var NODE_TYPE_ELEMENT=1;var NODE_TYPE_ATTRIBUTE=2;var NODE_TYPE_TEXT=3;var NODE_TYPE_COMMENT=8;var NODE_TYPE_DOCUMENT=9;var NODE_TYPE_DOCUMENT_FRAGMENT=11;function setupModuleLoader(window){var $injectorMinErr=minErr("$injector");var ngMinErr=minErr("ng");function ensure(obj,name,factory){return obj[name]||(obj[name]=factory())}var angular=ensure(window,"angular",Object);angular.$$minErr=angular.$$minErr||
minErr;return ensure(angular,"module",function(){var modules={};return function module(name,requires,configFn){var info={};var assertNotHasOwnProperty=function(name,context){if(name==="hasOwnProperty")throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context);};assertNotHasOwnProperty(name,"module");if(requires&&modules.hasOwnProperty(name))modules[name]=null;return ensure(modules,name,function(){if(!requires)throw $injectorMinErr("nomod","Module '{0}' is not available! You either misspelled "+
"the module name or forgot to load it. If registering a module ensure that you "+"specify the dependencies as the second argument.",name);var invokeQueue=[];var configBlocks=[];var runBlocks=[];var config=invokeLater("$injector","invoke","push",configBlocks);var moduleInstance={_invokeQueue:invokeQueue,_configBlocks:configBlocks,_runBlocks:runBlocks,info:function(value){if(isDefined(value)){if(!isObject(value))throw ngMinErr("aobj","Argument '{0}' must be an object","value");info=value;return this}return info},
requires:requires,name:name,provider:invokeLaterAndSetModuleName("$provide","provider"),factory:invokeLaterAndSetModuleName("$provide","factory"),service:invokeLaterAndSetModuleName("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),decorator:invokeLaterAndSetModuleName("$provide","decorator",configBlocks),animation:invokeLaterAndSetModuleName("$animateProvider","register"),filter:invokeLaterAndSetModuleName("$filterProvider","register"),
controller:invokeLaterAndSetModuleName("$controllerProvider","register"),directive:invokeLaterAndSetModuleName("$compileProvider","directive"),component:invokeLaterAndSetModuleName("$compileProvider","component"),config:config,run:function(block){runBlocks.push(block);return this}};if(configFn)config(configFn);return moduleInstance;function invokeLater(provider,method,insertMethod,queue){if(!queue)queue=invokeQueue;return function(){queue[insertMethod||"push"]([provider,method,arguments]);return moduleInstance}}
function invokeLaterAndSetModuleName(provider,method,queue){if(!queue)queue=invokeQueue;return function(recipeName,factoryFunction){if(factoryFunction&&isFunction(factoryFunction))factoryFunction.$$moduleName=name;queue.push([provider,method,arguments]);return moduleInstance}}})}})}function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i<ii;i++)dst[i]=src[i]}else if(isObject(src)){dst=dst||{};for(var key in src)if(!(key.charAt(0)==="$"&&key.charAt(1)==="$"))dst[key]=
src[key]}return dst||src}function serializeObject(obj,maxDepth){var seen=[];if(isValidObjectMaxDepth(maxDepth))obj=angular.copy(obj,null,maxDepth);return JSON.stringify(obj,function(key,val){val=toJsonReplacer(key,val);if(isObject(val)){if(seen.indexOf(val)>=0)return"...";seen.push(val)}return val})}function toDebugString(obj,maxDepth){if(typeof obj==="function")return obj.toString().replace(/ \{[\s\S]*$/,"");else if(isUndefined(obj))return"undefined";else if(typeof obj!=="string")return serializeObject(obj,
maxDepth);return obj}var version={vendor:"XLTS.dev",full:"1.9.0",major:1,minor:9,dot:0,codeName:"crossly-blocking"};function publishExternalAPI(angular){extend(angular,{"errorHandlingConfig":errorHandlingConfig,"bootstrap":bootstrap,"copy":copy,"extend":extend,"merge":merge,"equals":equals,"element":jqLite,"forEach":forEach,"injector":createInjector,"noop":noop,"bind":bind,"toJson":toJson,"fromJson":fromJson,"identity":identity,"isUndefined":isUndefined,"isDefined":isDefined,"isString":isString,"isFunction":isFunction,
"isObject":isObject,"isNumber":isNumber,"isElement":isElement,"isArray":isArray,"version":version,"isDate":isDate,"callbacks":{$$counter:0},"getTestability":getTestability,"reloadWithDebugInfo":reloadWithDebugInfo,"UNSAFE_restoreLegacyJqLiteXHTMLReplacement":UNSAFE_restoreLegacyJqLiteXHTMLReplacement,"$$minErr":minErr,"$$csp":csp,"$$encodeUriSegment":encodeUriSegment,"$$encodeUriQuery":encodeUriQuery,"$$lowercase":lowercase,"$$stringify":stringify,"$$uppercase":uppercase});angularModule=setupModuleLoader(window);
angularModule("ng",["ngLocale"],["$provide",function ngModule($provide){$provide.provider({$$sanitizeUri:$$SanitizeUriProvider});$provide.provider("$compile",$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtml:ngBindHtmlDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,
ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRef:ngRefDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngTransclude:ngTranscludeDirective,
ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,pattern:patternDirective,ngPattern:patternDirective,required:requiredDirective,ngRequired:requiredDirective,minlength:minlengthDirective,ngMinlength:minlengthDirective,maxlength:maxlengthDirective,ngMaxlength:maxlengthDirective,ngValue:ngValueDirective,ngModelOptions:ngModelOptionsDirective}).directive({ngInclude:ngIncludeFillContentDirective,input:hiddenInputBrowserCacheDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives);
$provide.provider({$anchorScroll:$AnchorScrollProvider,$animate:$AnimateProvider,$animateCss:$CoreAnimateCssProvider,$$animateJs:$$CoreAnimateJsProvider,$$animateQueue:$$CoreAnimateQueueProvider,$$AnimateRunner:$$AnimateRunnerFactoryProvider,$$animateAsyncRun:$$AnimateAsyncRunFactoryProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$$isDocumentHidden:$$IsDocumentHiddenProvider,$exceptionHandler:$ExceptionHandlerProvider,
$filter:$FilterProvider,$$forceReflow:$$ForceReflowProvider,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$$intervalFactory:$$IntervalFactoryProvider,$http:$HttpProvider,$httpParamSerializer:$HttpParamSerializerProvider,$httpParamSerializerJQLike:$HttpParamSerializerJQLikeProvider,$httpBackend:$HttpBackendProvider,$xhrFactory:$xhrFactoryProvider,$jsonpCallbacks:$jsonpCallbacksProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,
$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$$taskTrackerFactory:$$TaskTrackerFactoryProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$jqLite:$$jqLiteProvider,$$Map:$$MapProvider,$$cookieReader:$$CookieReaderProvider})}]).info({angularVersion:"1.9.0"})}JQLite.expando="ng339";var jqCache=JQLite.cache=
{},jqId=1;JQLite._data=function(node){return this.cache[node[this.expando]]||{}};function jqNextId(){return++jqId}var DASH_LOWERCASE_REGEXP=/-([a-z])/g;var MS_HACK_REGEXP=/^-ms-/;var MOUSE_EVENT_MAP={mouseleave:"mouseout",mouseenter:"mouseover"};var jqLiteMinErr=minErr("jqLite");function cssKebabToCamel(name){return kebabToCamel(name.replace(MS_HACK_REGEXP,"ms-"))}function fnCamelCaseReplace(all,letter){return letter.toUpperCase()}function kebabToCamel(name){return name.replace(DASH_LOWERCASE_REGEXP,
fnCamelCaseReplace)}var SINGLE_TAG_REGEXP=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/;var HTML_REGEXP=/<|&#?\w+;/;var TAG_NAME_REGEXP=/<([\w:-]+)/;var wrapMap={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;var wrapMapIE9={option:[1,'\x3cselect multiple\x3d"multiple"\x3e',"\x3c/select\x3e"],_default:[0,"",""]};for(var key in wrapMap){var wrapMapValueClosing=wrapMap[key];var wrapMapValue=
wrapMapValueClosing.slice().reverse();wrapMapIE9[key]=[wrapMapValue.length,"\x3c"+wrapMapValue.join("\x3e\x3c")+"\x3e","\x3c/"+wrapMapValueClosing.join("\x3e\x3c/")+"\x3e"]}wrapMapIE9.optgroup=wrapMapIE9.option;function jqLiteIsTextNode(html){return!HTML_REGEXP.test(html)}function jqLiteAcceptsData(node){var nodeType=node.nodeType;return nodeType===NODE_TYPE_ELEMENT||!nodeType||nodeType===NODE_TYPE_DOCUMENT}function jqLiteHasData(node){for(var key in jqCache[node.ng339])return true;return false}function jqLiteBuildFragment(html,
context){var tmp,tag,wrap,finalHtml,fragment=context.createDocumentFragment(),nodes=[],i;if(jqLiteIsTextNode(html))nodes.push(context.createTextNode(html));else{tmp=fragment.appendChild(context.createElement("div"));tag=(TAG_NAME_REGEXP.exec(html)||["",""])[1].toLowerCase();finalHtml=JQLite.htmlPrefilter(html);if(msie<10){wrap=wrapMapIE9[tag]||wrapMapIE9._default;tmp.innerHTML=wrap[1]+finalHtml+wrap[2];i=wrap[0];while(i--)tmp=tmp.firstChild}else{wrap=wrapMap[tag]||[];i=wrap.length;while(--i>-1){tmp.appendChild(window.document.createElement(wrap[i]));
tmp=tmp.firstChild}tmp.innerHTML=finalHtml}nodes=concat(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent=""}fragment.textContent="";fragment.innerHTML="";forEach(nodes,function(node){fragment.appendChild(node)});return fragment}function jqLiteParseHTML(html,context){context=context||window.document;var parsed;if(parsed=SINGLE_TAG_REGEXP.exec(html))return[context.createElement(parsed[1])];if(parsed=jqLiteBuildFragment(html,context))return parsed.childNodes;return[]}function jqLiteWrapNode(node,
wrapper){var parent=node.parentNode;if(parent)parent.replaceChild(wrapper,node);wrapper.appendChild(node)}var jqLiteContains=window.Node.prototype.contains||function(arg){return!!(this.compareDocumentPosition(arg)&16)};function JQLite(element){if(element instanceof JQLite)return element;var argIsString;if(isString(element)){element=trim(element);argIsString=true}if(!(this instanceof JQLite)){if(argIsString&&element.charAt(0)!=="\x3c")throw jqLiteMinErr("nosel","Looking up elements via selectors is not supported by jqLite! See: https://docs.angularjs.xlts.dev/api/ng/function/angular.element");
return new JQLite(element)}if(argIsString)jqLiteAddNodes(this,jqLiteParseHTML(element));else if(isFunction(element))jqLiteReady(element);else jqLiteAddNodes(this,element)}function jqLiteClone(element){return element.cloneNode(true)}function jqLiteDealoc(element,onlyDescendants){if(!onlyDescendants&&jqLiteAcceptsData(element))jqLite.cleanData([element]);if(element.querySelectorAll)jqLite.cleanData(element.querySelectorAll("*"))}function isEmptyObject(obj){var name;for(name in obj)return false;return true}
function removeIfEmptyData(element){var expandoId=element.ng339;var expandoStore=expandoId&&jqCache[expandoId];var events=expandoStore&&expandoStore.events;var data=expandoStore&&expandoStore.data;if((!data||isEmptyObject(data))&&(!events||isEmptyObject(events))){delete jqCache[expandoId];element.ng339=undefined}}function jqLiteOff(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("offargs","jqLite#off() does not support the `selector` argument");var expandoStore=jqLiteExpandoStore(element);
var events=expandoStore&&expandoStore.events;var handle=expandoStore&&expandoStore.handle;if(!handle)return;if(!type)for(type in events){if(type!=="$destroy")element.removeEventListener(type,handle);delete events[type]}else{var removeHandler=function(type){var listenerFns=events[type];if(isDefined(fn))arrayRemove(listenerFns||[],fn);if(!(isDefined(fn)&&listenerFns&&listenerFns.length>0)){element.removeEventListener(type,handle);delete events[type]}};forEach(type.split(" "),function(type){removeHandler(type);
if(MOUSE_EVENT_MAP[type])removeHandler(MOUSE_EVENT_MAP[type])})}removeIfEmptyData(element)}function jqLiteRemoveData(element,name){var expandoId=element.ng339;var expandoStore=expandoId&&jqCache[expandoId];if(expandoStore){if(name)delete expandoStore.data[name];else expandoStore.data={};removeIfEmptyData(element)}}function jqLiteExpandoStore(element,createIfNecessary){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];if(createIfNecessary&&!expandoStore){element.ng339=expandoId=
jqNextId();expandoStore=jqCache[expandoId]={events:{},data:{},handle:undefined}}return expandoStore}function jqLiteData(element,key,value){if(jqLiteAcceptsData(element)){var prop;var isSimpleSetter=isDefined(value);var isSimpleGetter=!isSimpleSetter&&key&&!isObject(key);var massGetter=!key;var expandoStore=jqLiteExpandoStore(element,!isSimpleGetter);var data=expandoStore&&expandoStore.data;if(isSimpleSetter)data[kebabToCamel(key)]=value;else if(massGetter)return data;else if(isSimpleGetter)return data&&
data[kebabToCamel(key)];else for(prop in key)data[kebabToCamel(prop)]=key[prop]}}function jqLiteHasClass(element,selector){if(!element.getAttribute)return false;return(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1}function jqLiteRemoveClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");var newClasses=existingClasses;forEach(cssClasses.split(" "),function(cssClass){cssClass=
trim(cssClass);newClasses=newClasses.replace(" "+cssClass+" "," ")});if(newClasses!==existingClasses)element.setAttribute("class",trim(newClasses))}}function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");var newClasses=existingClasses;forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass);if(newClasses.indexOf(" "+cssClass+" ")===-1)newClasses+=cssClass+" "});if(newClasses!==
existingClasses)element.setAttribute("class",trim(newClasses))}}function jqLiteAddNodes(root,elements){if(elements)if(elements.nodeType)root[root.length++]=elements;else{var length=elements.length;if(typeof length==="number"&&elements.window!==elements){if(length)for(var i=0;i<length;i++)root[root.length++]=elements[i]}else root[root.length++]=elements}}function jqLiteController(element,name){return jqLiteInheritedData(element,"$"+(name||"ngController")+"Controller")}function jqLiteInheritedData(element,
name,value){if(element.nodeType===NODE_TYPE_DOCUMENT)element=element.documentElement;var names=isArray(name)?name:[name];while(element){for(var i=0,ii=names.length;i<ii;i++)if(isDefined(value=jqLite.data(element,names[i])))return value;element=element.parentNode||element.nodeType===NODE_TYPE_DOCUMENT_FRAGMENT&&element.host}}function jqLiteEmpty(element){jqLiteDealoc(element,true);while(element.firstChild)element.removeChild(element.firstChild)}function jqLiteRemove(element,keepData){if(!keepData)jqLiteDealoc(element);
var parent=element.parentNode;if(parent)parent.removeChild(element)}function jqLiteDocumentLoaded(action,win){win=win||window;if(win.document.readyState==="complete")win.setTimeout(action);else jqLite(win).on("load",action)}function jqLiteReady(fn){function trigger(){window.document.removeEventListener("DOMContentLoaded",trigger);window.removeEventListener("load",trigger);fn()}if(window.document.readyState==="complete")window.setTimeout(fn);else{window.document.addEventListener("DOMContentLoaded",
trigger);window.addEventListener("load",trigger)}}var JQLitePrototype=JQLite.prototype={ready:jqLiteReady,toString:function(){var value=[];forEach(this,function(e){value.push(""+e)});return"["+value.join(", ")+"]"},eq:function(index){return index>=0?jqLite(this[index]):jqLite(this[this.length+index])},length:0,push:push,sort:[].sort,splice:[].splice};var BOOLEAN_ATTR={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(value){BOOLEAN_ATTR[lowercase(value)]=value});
var BOOLEAN_ELEMENTS={};forEach("input,select,option,textarea,button,form,details".split(","),function(value){BOOLEAN_ELEMENTS[value]=true});var ALIASED_ATTR={"ngMinlength":"minlength","ngMaxlength":"maxlength","ngMin":"min","ngMax":"max","ngPattern":"pattern","ngStep":"step"};function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[nodeName_(element)]&&booleanAttr}function getAliasedAttrName(name){return ALIASED_ATTR[name]}forEach({data:jqLiteData,
removeData:jqLiteRemoveData,hasData:jqLiteHasData,cleanData:function jqLiteCleanData(nodes){for(var i=0,ii=nodes.length;i<ii;i++){jqLiteRemoveData(nodes[i]);jqLiteOff(nodes[i])}},htmlPrefilter:function jqLiteHtmlPrefilter(html){return html}},function(fn,name){JQLite[name]=fn});forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(element){return jqLite.data(element,"$scope")||jqLiteInheritedData(element.parentNode||element,["$isolateScope","$scope"])},isolateScope:function(element){return jqLite.data(element,
"$isolateScope")||jqLite.data(element,"$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(element){return jqLiteInheritedData(element,"$injector")},removeAttr:function(element,name){element.removeAttribute(name)},hasClass:jqLiteHasClass,css:function(element,name,value){name=cssKebabToCamel(name);if(isDefined(value))element.style[name]=value;else return element.style[name]},attr:function(element,name,value){var ret;var nodeType=element.nodeType;if(nodeType===NODE_TYPE_TEXT||nodeType===
NODE_TYPE_ATTRIBUTE||nodeType===NODE_TYPE_COMMENT||!element.getAttribute)return;var lowercasedName=lowercase(name);var isBooleanAttr=BOOLEAN_ATTR[lowercasedName];if(isDefined(value))if(value===null||value===false&&isBooleanAttr)element.removeAttribute(name);else element.setAttribute(name,isBooleanAttr?lowercasedName:value);else{ret=element.getAttribute(name);if(isBooleanAttr&&ret!==null)ret=lowercasedName;return ret===null?undefined:ret}},prop:function(element,name,value){if(isDefined(value))element[name]=
value;else return element[name]},text:function(){getText.$dv="";return getText;function getText(element,value){if(isUndefined(value)){var nodeType=element.nodeType;return nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_TEXT?element.textContent:""}element.textContent=value}}(),val:function(element,value){if(isUndefined(value)){if(element.multiple&&nodeName_(element)==="select"){var result=[];forEach(element.options,function(option){if(option.selected)result.push(option.value||option.text)});return result}return element.value}element.value=
value},html:function(element,value){if(isUndefined(value))return element.innerHTML;jqLiteDealoc(element,true);element.innerHTML=value},empty:jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key;var nodeCount=this.length;if(fn!==jqLiteEmpty&&isUndefined(fn.length===2&&(fn!==jqLiteHasClass&&fn!==jqLiteController)?arg1:arg2))if(isObject(arg1)){for(i=0;i<nodeCount;i++)if(fn===jqLiteData)fn(this[i],arg1);else for(key in arg1)fn(this[i],key,arg1[key]);return this}else{var value=
fn.$dv;var jj=isUndefined(value)?Math.min(nodeCount,1):nodeCount;for(var j=0;j<jj;j++){var nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue}return value}else{for(i=0;i<nodeCount;i++)fn(this[i],arg1,arg2);return this}}});function createEventHandler(element,events){var eventHandler=function(event,type){event.isDefaultPrevented=function(){return event.defaultPrevented};var eventFns=events[type||event.type];var eventFnsLength=eventFns?eventFns.length:0;if(!eventFnsLength)return;if(isUndefined(event.immediatePropagationStopped)){var originalStopImmediatePropagation=
event.stopImmediatePropagation;event.stopImmediatePropagation=function(){event.immediatePropagationStopped=true;if(event.stopPropagation)event.stopPropagation();if(originalStopImmediatePropagation)originalStopImmediatePropagation.call(event)}}event.isImmediatePropagationStopped=function(){return event.immediatePropagationStopped===true};var handlerWrapper=eventFns.specialHandlerWrapper||defaultHandlerWrapper;if(eventFnsLength>1)eventFns=shallowCopy(eventFns);for(var i=0;i<eventFnsLength;i++)if(!event.isImmediatePropagationStopped())handlerWrapper(element,
event,eventFns[i])};eventHandler.elem=element;return eventHandler}function defaultHandlerWrapper(element,event,handler){handler.call(element,event)}function specialMouseHandlerWrapper(target,event,handler){var related=event.relatedTarget;if(!related||related!==target&&!jqLiteContains.call(target,related))handler.call(target,event)}forEach({removeData:jqLiteRemoveData,on:function jqLiteOn(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");
if(!jqLiteAcceptsData(element))return;var expandoStore=jqLiteExpandoStore(element,true);var events=expandoStore.events;var handle=expandoStore.handle;if(!handle)handle=expandoStore.handle=createEventHandler(element,events);var types=type.indexOf(" ")>=0?type.split(" "):[type];var i=types.length;var addHandler=function(type,specialHandlerWrapper,noEventListener){var eventFns=events[type];if(!eventFns){eventFns=events[type]=[];eventFns.specialHandlerWrapper=specialHandlerWrapper;if(type!=="$destroy"&&
!noEventListener)element.addEventListener(type,handle)}eventFns.push(fn)};while(i--){type=types[i];if(MOUSE_EVENT_MAP[type]){addHandler(MOUSE_EVENT_MAP[type],specialMouseHandlerWrapper);addHandler(type,undefined,true)}else addHandler(type)}},off:jqLiteOff,one:function(element,type,fn){element=jqLite(element);element.on(type,function onFn(){element.off(type,fn);element.off(type,onFn)});element.on(type,fn)},replaceWith:function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element);
forEach(new JQLite(replaceNode),function(node){if(index)parent.insertBefore(node,index.nextSibling);else parent.replaceChild(node,element);index=node})},children:function(element){var children=[];forEach(element.childNodes,function(element){if(element.nodeType===NODE_TYPE_ELEMENT)children.push(element)});return children},contents:function(element){return element.contentDocument||element.childNodes||[]},append:function(element,node){var nodeType=element.nodeType;if(nodeType!==NODE_TYPE_ELEMENT&&nodeType!==
NODE_TYPE_DOCUMENT_FRAGMENT)return;node=new JQLite(node);for(var i=0,ii=node.length;i<ii;i++){var child=node[i];element.appendChild(child)}},prepend:function(element,node){if(element.nodeType===NODE_TYPE_ELEMENT){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index)})}},wrap:function(element,wrapNode){jqLiteWrapNode(element,jqLite(wrapNode).eq(0).clone()[0])},remove:jqLiteRemove,detach:function(element){jqLiteRemove(element,true)},after:function(element,
newElement){var index=element,parent=element.parentNode;if(parent){newElement=new JQLite(newElement);for(var i=0,ii=newElement.length;i<ii;i++){var node=newElement[i];parent.insertBefore(node,index.nextSibling);index=node}}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(element,selector,condition){if(selector)forEach(selector.split(" "),function(className){var classCondition=condition;if(isUndefined(classCondition))classCondition=!jqLiteHasClass(element,className);(classCondition?
jqLiteAddClass:jqLiteRemoveClass)(element,className)})},parent:function(element){var parent=element.parentNode;return parent&&parent.nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT?parent:null},next:function(element){return element.nextElementSibling},find:function(element,selector){if(element.getElementsByTagName)return element.getElementsByTagName(selector);else return[]},clone:jqLiteClone,triggerHandler:function(element,event,extraParameters){var dummyEvent,eventFnsCopy,handlerArgs;var eventName=event.type||
event;var expandoStore=jqLiteExpandoStore(element);var events=expandoStore&&expandoStore.events;var eventFns=events&&events[eventName];if(eventFns){dummyEvent={preventDefault:function(){this.defaultPrevented=true},isDefaultPrevented:function(){return this.defaultPrevented===true},stopImmediatePropagation:function(){this.immediatePropagationStopped=true},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===true},stopPropagation:noop,type:eventName,target:element};if(event.type)dummyEvent=
extend(dummyEvent,event);eventFnsCopy=shallowCopy(eventFns);handlerArgs=extraParameters?[dummyEvent].concat(extraParameters):[dummyEvent];forEach(eventFnsCopy,function(fn){if(!dummyEvent.isImmediatePropagationStopped())fn.apply(element,handlerArgs)})}}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){var value;for(var i=0,ii=this.length;i<ii;i++)if(isUndefined(value)){value=fn(this[i],arg1,arg2,arg3);if(isDefined(value))value=jqLite(value)}else jqLiteAddNodes(value,fn(this[i],arg1,
arg2,arg3));return isDefined(value)?value:this}});JQLite.prototype.bind=JQLite.prototype.on;JQLite.prototype.unbind=JQLite.prototype.off;function $$jqLiteProvider(){this.$get=function $$jqLite(){return extend(JQLite,{hasClass:function(node,classes){if(node.attr)node=node[0];return jqLiteHasClass(node,classes)},addClass:function(node,classes){if(node.attr)node=node[0];return jqLiteAddClass(node,classes)},removeClass:function(node,classes){if(node.attr)node=node[0];return jqLiteRemoveClass(node,classes)}})}}
function hashKey(obj,nextUidFn){var key=obj&&obj.$$hashKey;if(key){if(typeof key==="function")key=obj.$$hashKey();return key}var objType=typeof obj;if(objType==="function"||objType==="object"&&obj!==null)key=obj.$$hashKey=objType+":"+(nextUidFn||nextUid)();else key=objType+":"+obj;return key}var nanKey=Object.create(null);function NgMapShim(){this._keys=[];this._values=[];this._lastKey=NaN;this._lastIndex=-1}NgMapShim.prototype={_idx:function(key){if(key!==this._lastKey){this._lastKey=key;this._lastIndex=
this._keys.indexOf(key)}return this._lastIndex},_transformKey:function(key){return isNumberNaN(key)?nanKey:key},get:function(key){key=this._transformKey(key);var idx=this._idx(key);if(idx!==-1)return this._values[idx]},has:function(key){key=this._transformKey(key);var idx=this._idx(key);return idx!==-1},set:function(key,value){key=this._transformKey(key);var idx=this._idx(key);if(idx===-1)idx=this._lastIndex=this._keys.length;this._keys[idx]=key;this._values[idx]=value},delete:function(key){key=this._transformKey(key);
var idx=this._idx(key);if(idx===-1)return false;this._keys.splice(idx,1);this._values.splice(idx,1);this._lastKey=NaN;this._lastIndex=-1;return true}};var NgMap=NgMapShim;var $$MapProvider=[function(){this.$get=[function(){return NgMap}]}];var ARROW_ARG=/^([^(]+?)=>/;var FN_ARGS=/^[^(]*\(\s*([^)]*)\)/m;var FN_ARG_SPLIT=/,/;var FN_ARG=/^\s*(_?)(\S+?)\1\s*$/;var STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;var $injectorMinErr=minErr("$injector");function stringifyFn(fn){return Function.prototype.toString.call(fn)}
function extractArgs(fn){var fnText=stringifyFn(fn).replace(STRIP_COMMENTS,""),args=fnText.match(ARROW_ARG)||fnText.match(FN_ARGS);return args}function anonFn(fn){var args=extractArgs(fn);if(args)return"function("+(args[1]||"").replace(/[\s\r\n]+/," ")+")";return"fn"}function annotate(fn,strictDi,name){var $inject,argDecl,last;if(typeof fn==="function"){if(!($inject=fn.$inject)){$inject=[];if(fn.length){if(strictDi){if(!isString(name)||!name)name=fn.name||anonFn(fn);throw $injectorMinErr("strictdi",
"{0} is not using explicit annotation and cannot be invoked in strict mode",name);}argDecl=extractArgs(fn);forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name)})})}fn.$inject=$inject}}else if(isArray(fn)){last=fn.length-1;assertArgFn(fn[last],"fn");$inject=fn.slice(0,last)}else assertArgFn(fn,"fn",true);return $inject}function createInjector(modulesToLoad,strictDi){strictDi=strictDi===true;var INSTANTIATING={},providerSuffix="Provider",
path=[],loadedModules=new NgMap,providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=providerCache.$injector=createInternalInjector(providerCache,function(serviceName,caller){if(angular.isString(caller))path.push(caller);throw $injectorMinErr("unpr","Unknown provider: {0}",path.join(" \x3c- "));}),instanceCache={},protoInstanceInjector=
createInternalInjector(instanceCache,function(serviceName,caller){var provider=providerInjector.get(serviceName+providerSuffix,caller);return instanceInjector.invoke(provider.$get,provider,undefined,serviceName)}),instanceInjector=protoInstanceInjector;providerCache["$injector"+providerSuffix]={$get:valueFn(protoInstanceInjector)};instanceInjector.modules=providerInjector.modules=createMap();var runBlocks=loadModules(modulesToLoad);instanceInjector=protoInstanceInjector.get("$injector");instanceInjector.strictDi=
strictDi;forEach(runBlocks,function(fn){if(fn)instanceInjector.invoke(fn)});instanceInjector.loadNewModules=function(mods){forEach(loadModules(mods),function(fn){if(fn)instanceInjector.invoke(fn)})};return instanceInjector;function supportObject(delegate){return function(key,value){if(isObject(key))forEach(key,reverseParams(delegate));else return delegate(key,value)}}function provider(name,provider_){assertNotHasOwnProperty(name,"service");if(isFunction(provider_)||isArray(provider_))provider_=providerInjector.instantiate(provider_);
if(!provider_.$get)throw $injectorMinErr("pget","Provider '{0}' must define $get factory method.",name);return providerCache[name+providerSuffix]=provider_}function enforceReturnValue(name,factory){return function enforcedReturnValue(){var result=instanceInjector.invoke(factory,this);if(isUndefined(result))throw $injectorMinErr("undef","Provider '{0}' must return a value from $get factory method.",name);return result}}function factory(name,factoryFn,enforce){return provider(name,{$get:enforce!==false?
enforceReturnValue(name,factoryFn):factoryFn})}function service(name,constructor){return factory(name,["$injector",function($injector){return $injector.instantiate(constructor)}])}function value(name,val){return factory(name,valueFn(val),false)}function constant(name,value){assertNotHasOwnProperty(name,"constant");providerCache[name]=value;instanceCache[name]=value}function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;
origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance})}}function loadModules(modulesToLoad){assertArg(isUndefined(modulesToLoad)||isArray(modulesToLoad),"modulesToLoad","not an array");var runBlocks=[],moduleFn;forEach(modulesToLoad,function(module){if(loadedModules.get(module))return;loadedModules.set(module,true);function runInvokeQueue(queue){var i,ii;for(i=0,ii=queue.length;i<ii;i++){var invokeArgs=
queue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2])}}try{if(isString(module)){moduleFn=angularModule(module);instanceInjector.modules[module]=moduleFn;runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks);runInvokeQueue(moduleFn._invokeQueue);runInvokeQueue(moduleFn._configBlocks)}else if(isFunction(module))runBlocks.push(providerInjector.invoke(module));else if(isArray(module))runBlocks.push(providerInjector.invoke(module));
else assertArgFn(module,"module")}catch(e){if(isArray(module))module=module[module.length-1];if(e.message&&e.stack&&e.stack.indexOf(e.message)===-1)e=e.message+"\n"+e.stack;throw $injectorMinErr("modulerr","Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e);}});return runBlocks}function createInternalInjector(cache,factory){function getService(serviceName,caller){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING)throw $injectorMinErr("cdep","Circular dependency found: {0}",
serviceName+" \x3c- "+path.join(" \x3c- "));return cache[serviceName]}else try{path.unshift(serviceName);cache[serviceName]=INSTANTIATING;cache[serviceName]=factory(serviceName,caller);return cache[serviceName]}catch(err){if(cache[serviceName]===INSTANTIATING)delete cache[serviceName];throw err;}finally{path.shift()}}function injectionArgs(fn,locals,serviceName){var args=[],$inject=createInjector.$$annotate(fn,strictDi,serviceName);for(var i=0,length=$inject.length;i<length;i++){var key=$inject[i];
if(typeof key!=="string")throw $injectorMinErr("itkn","Incorrect injection token! Expected service name as string, got {0}",key);args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key,serviceName))}return args}function isClass(func){if(msie||typeof func!=="function")return false;var result=func.$$ngIsClass;if(!isBoolean(result))result=func.$$ngIsClass=/^class\b/.test(stringifyFn(func));return result}function invoke(fn,self,locals,serviceName){if(typeof locals==="string"){serviceName=
locals;locals=null}var args=injectionArgs(fn,locals,serviceName);if(isArray(fn))fn=fn[fn.length-1];if(!isClass(fn))return fn.apply(self,args);else{args.unshift(null);return new (Function.prototype.bind.apply(fn,args))}}function instantiate(Type,locals,serviceName){var ctor=isArray(Type)?Type[Type.length-1]:Type;var args=injectionArgs(Type,locals,serviceName);args.unshift(null);return new (Function.prototype.bind.apply(ctor,args))}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:createInjector.$$annotate,
has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name)}}}}createInjector.$$annotate=annotate;function $AnchorScrollProvider(){var autoScrollingEnabled=true;this.disableAutoScrolling=function(){autoScrollingEnabled=false};this.$get=["$window","$location","$rootScope",function($window,$location,$rootScope){var document=$window.document;function getFirstAnchor(list){var result=null;Array.prototype.some.call(list,function(element){if(nodeName_(element)===
"a"){result=element;return true}});return result}function getYOffset(){var offset=scroll.yOffset;if(isFunction(offset))offset=offset();else if(isElement(offset)){var elem=offset[0];var style=$window.getComputedStyle(elem);if(style.position!=="fixed")offset=0;else offset=elem.getBoundingClientRect().bottom}else if(!isNumber(offset))offset=0;return offset}function scrollTo(elem){if(elem){elem.scrollIntoView();var offset=getYOffset();if(offset){var elemTop=elem.getBoundingClientRect().top;$window.scrollBy(0,
elemTop-offset)}}else $window.scrollTo(0,0)}function scroll(hash){hash=isString(hash)?hash:isNumber(hash)?hash.toString():$location.hash();var elm;if(!hash)scrollTo(null);else if(elm=document.getElementById(hash))scrollTo(elm);else if(elm=getFirstAnchor(document.getElementsByName(hash)))scrollTo(elm);else if(hash==="top")scrollTo(null)}if(autoScrollingEnabled)$rootScope.$watch(function autoScrollWatch(){return $location.hash()},function autoScrollWatchAction(newVal,oldVal){if(newVal===oldVal&&newVal===
"")return;jqLiteDocumentLoaded(function(){$rootScope.$evalAsync(scroll)})});return scroll}]}var $animateMinErr=minErr("$animate");var ELEMENT_NODE=1;var NG_ANIMATE_CLASSNAME="ng-animate";function mergeClasses(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;if(isArray(a))a=a.join(" ");if(isArray(b))b=b.join(" ");return a+" "+b}function extractElementNode(element){for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType===ELEMENT_NODE)return elm}}function splitClasses(classes){if(isString(classes))classes=
classes.split(" ");var obj=createMap();forEach(classes,function(klass){if(klass.length)obj[klass]=true});return obj}function prepareAnimateOptions(options){return isObject(options)?options:{}}var $$CoreAnimateJsProvider=function(){this.$get=noop};var $$CoreAnimateQueueProvider=function(){var postDigestQueue=new NgMap;var postDigestElements=[];this.$get=["$$AnimateRunner","$rootScope",function($$AnimateRunner,$rootScope){return{enabled:noop,on:noop,off:noop,pin:noop,push:function(element,event,options,
domOperation){if(domOperation)domOperation();options=options||{};if(options.from)element.css(options.from);if(options.to)element.css(options.to);if(options.addClass||options.removeClass)addRemoveClassesPostDigest(element,options.addClass,options.removeClass);var runner=new $$AnimateRunner;runner.complete();return runner}};function updateData(data,classes,value){var changed=false;if(classes){classes=isString(classes)?classes.split(" "):isArray(classes)?classes:[];forEach(classes,function(className){if(className){changed=
true;data[className]=value}})}return changed}function handleCSSClassChanges(){forEach(postDigestElements,function(element){var data=postDigestQueue.get(element);if(data){var existing=splitClasses(element.attr("class"));var toAdd="";var toRemove="";forEach(data,function(status,className){var hasClass=!!existing[className];if(status!==hasClass)if(status)toAdd+=(toAdd.length?" ":"")+className;else toRemove+=(toRemove.length?" ":"")+className});forEach(element,function(elm){if(toAdd)jqLiteAddClass(elm,
toAdd);if(toRemove)jqLiteRemoveClass(elm,toRemove)});postDigestQueue.delete(element)}});postDigestElements.length=0}function addRemoveClassesPostDigest(element,add,remove){var data=postDigestQueue.get(element)||{};var classesAdded=updateData(data,add,true);var classesRemoved=updateData(data,remove,false);if(classesAdded||classesRemoved){postDigestQueue.set(element,data);postDigestElements.push(element);if(postDigestElements.length===1)$rootScope.$$postDigest(handleCSSClassChanges)}}}]};var $AnimateProvider=
["$provide",function($provide){var provider=this;var classNameFilter=null;var customFilter=null;this.$$registeredAnimations=Object.create(null);this.register=function(name,factory){if(name&&name.charAt(0)!==".")throw $animateMinErr("notcsel","Expecting class selector starting with '.' got '{0}'.",name);var key=name+"-animation";provider.$$registeredAnimations[name.substr(1)]=key;$provide.factory(key,factory)};this.customFilter=function(filterFn){if(arguments.length===1)customFilter=isFunction(filterFn)?
filterFn:null;return customFilter};this.classNameFilter=function(expression){if(arguments.length===1){classNameFilter=expression instanceof RegExp?expression:null;if(classNameFilter){var reservedRegex=new RegExp("[(\\s|\\/)]"+NG_ANIMATE_CLASSNAME+"[(\\s|\\/)]");if(reservedRegex.test(classNameFilter.toString())){classNameFilter=null;throw $animateMinErr("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',NG_ANIMATE_CLASSNAME);
}}}return classNameFilter};this.$get=["$$animateQueue",function($$animateQueue){function domInsert(element,parentElement,afterElement){if(afterElement){var afterNode=extractElementNode(afterElement);if(afterNode&&!afterNode.parentNode&&!afterNode.previousElementSibling)afterElement=null}if(afterElement)afterElement.after(element);else parentElement.prepend(element)}return{on:$$animateQueue.on,off:$$animateQueue.off,pin:$$animateQueue.pin,enabled:$$animateQueue.enabled,cancel:function(runner){if(runner.cancel)runner.cancel()},
enter:function(element,parent,after,options){parent=parent&&jqLite(parent);after=after&&jqLite(after);parent=parent||after.parent();domInsert(element,parent,after);return $$animateQueue.push(element,"enter",prepareAnimateOptions(options))},move:function(element,parent,after,options){parent=parent&&jqLite(parent);after=after&&jqLite(after);parent=parent||after.parent();domInsert(element,parent,after);return $$animateQueue.push(element,"move",prepareAnimateOptions(options))},leave:function(element,
options){return $$animateQueue.push(element,"leave",prepareAnimateOptions(options),function(){element.remove()})},addClass:function(element,className,options){options=prepareAnimateOptions(options);options.addClass=mergeClasses(options.addclass,className);return $$animateQueue.push(element,"addClass",options)},removeClass:function(element,className,options){options=prepareAnimateOptions(options);options.removeClass=mergeClasses(options.removeClass,className);return $$animateQueue.push(element,"removeClass",
options)},setClass:function(element,add,remove,options){options=prepareAnimateOptions(options);options.addClass=mergeClasses(options.addClass,add);options.removeClass=mergeClasses(options.removeClass,remove);return $$animateQueue.push(element,"setClass",options)},animate:function(element,from,to,className,options){options=prepareAnimateOptions(options);options.from=options.from?extend(options.from,from):from;options.to=options.to?extend(options.to,to):to;className=className||"ng-inline-animate";options.tempClasses=
mergeClasses(options.tempClasses,className);return $$animateQueue.push(element,"animate",options)}}}]}];var $$AnimateAsyncRunFactoryProvider=function(){this.$get=["$$rAF",function($$rAF){var waitQueue=[];function waitForTick(fn){waitQueue.push(fn);if(waitQueue.length>1)return;$$rAF(function(){for(var i=0;i<waitQueue.length;i++)waitQueue[i]();waitQueue=[]})}return function(){var passed=false;waitForTick(function(){passed=true});return function(callback){if(passed)callback();else waitForTick(callback)}}}]};
var $$AnimateRunnerFactoryProvider=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function($q,$sniffer,$$animateAsyncRun,$$isDocumentHidden,$timeout){var INITIAL_STATE=0;var DONE_PENDING_STATE=1;var DONE_COMPLETE_STATE=2;AnimateRunner.chain=function(chain,callback){var index=0;next();function next(){if(index===chain.length){callback(true);return}chain[index](function(response){if(response===false){callback(false);return}index++;next()})}};AnimateRunner.all=
function(runners,callback){var count=0;var status=true;forEach(runners,function(runner){runner.done(onProgress)});function onProgress(response){status=status&&response;if(++count===runners.length)callback(status)}};function AnimateRunner(host){this.setHost(host);var rafTick=$$animateAsyncRun();var timeoutTick=function(fn){$timeout(fn,0,false)};this._doneCallbacks=[];this._tick=function(fn){if($$isDocumentHidden())timeoutTick(fn);else rafTick(fn)};this._state=0}AnimateRunner.prototype={setHost:function(host){this.host=
host||{}},done:function(fn){if(this._state===DONE_COMPLETE_STATE)fn();else this._doneCallbacks.push(fn)},progress:noop,getPromise:function(){if(!this.promise){var self=this;this.promise=$q(function(resolve,reject){self.done(function(status){if(status===false)reject();else resolve()})})}return this.promise},then:function(resolveHandler,rejectHandler){return this.getPromise().then(resolveHandler,rejectHandler)},"catch":function(handler){return this.getPromise()["catch"](handler)},"finally":function(handler){return this.getPromise()["finally"](handler)},
pause:function(){if(this.host.pause)this.host.pause()},resume:function(){if(this.host.resume)this.host.resume()},end:function(){if(this.host.end)this.host.end();this._resolve(true)},cancel:function(){if(this.host.cancel)this.host.cancel();this._resolve(false)},complete:function(response){var self=this;if(self._state===INITIAL_STATE){self._state=DONE_PENDING_STATE;self._tick(function(){self._resolve(response)})}},_resolve:function(response){if(this._state!==DONE_COMPLETE_STATE){forEach(this._doneCallbacks,
function(fn){fn(response)});this._doneCallbacks.length=0;this._state=DONE_COMPLETE_STATE}}};return AnimateRunner}]};var $CoreAnimateCssProvider=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function($$rAF,$q,$$AnimateRunner){return function(element,initialOptions){var options=initialOptions||{};if(!options.$$prepared)options=copy(options);if(options.cleanupStyles)options.from=options.to=null;if(options.from){element.css(options.from);options.from=null}var closed,runner=new $$AnimateRunner;
return{start:run,end:run};function run(){$$rAF(function(){applyAnimationContents();if(!closed)runner.complete();closed=true});return runner}function applyAnimationContents(){if(options.addClass){element.addClass(options.addClass);options.addClass=null}if(options.removeClass){element.removeClass(options.removeClass);options.removeClass=null}if(options.to){element.css(options.to);options.to=null}}}}]};function getHash(url){var index=url.indexOf("#");return index===-1?"":url.substr(index)}function trimEmptyHash(url){return url.replace(/#$/,
"")}function Browser(window,document,$log,$sniffer,$$taskTrackerFactory){var self=this,location=window.location,history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={},taskTracker=$$taskTrackerFactory($log);self.isMock=false;self.$$completeOutstandingRequest=taskTracker.completeTask;self.$$incOutstandingRequestCount=taskTracker.incTaskCount;self.notifyWhenNoOutstandingRequests=taskTracker.notifyWhenNoPendingTasks;var cachedState,lastHistoryState,lastBrowserUrl=
location.href,baseElement=document.find("base"),pendingLocation=null,getCurrentState=!$sniffer.history?noop:function getCurrentState(){try{return history.state}catch(e){}};cacheState();self.url=function(url,replace,state){if(isUndefined(state))state=null;if(location!==window.location)location=window.location;if(history!==window.history)history=window.history;if(url){var sameState=lastHistoryState===state;url=urlResolve(url).href;if(lastBrowserUrl===url&&(!$sniffer.history||sameState))return self;
var sameBase=lastBrowserUrl&&stripHash(lastBrowserUrl)===stripHash(url);lastBrowserUrl=url;lastHistoryState=state;if($sniffer.history&&(!sameBase||!sameState)){history[replace?"replaceState":"pushState"](state,"",url);cacheState()}else{if(!sameBase)pendingLocation=url;if(replace)location.replace(url);else if(!sameBase)location.href=url;else location.hash=getHash(url);if(location.href!==url)pendingLocation=url}if(pendingLocation)pendingLocation=url;return self}else return trimEmptyHash(pendingLocation||
location.href)};self.state=function(){return cachedState};var urlChangeListeners=[],urlChangeInit=false;function cacheStateAndFireUrlChange(){pendingLocation=null;fireStateOrUrlChange()}var lastCachedState=null;function cacheState(){cachedState=getCurrentState();cachedState=isUndefined(cachedState)?null:cachedState;if(equals(cachedState,lastCachedState))cachedState=lastCachedState;lastCachedState=cachedState;lastHistoryState=cachedState}function fireStateOrUrlChange(){var prevLastHistoryState=lastHistoryState;
cacheState();if(lastBrowserUrl===self.url()&&prevLastHistoryState===cachedState)return;lastBrowserUrl=self.url();lastHistoryState=cachedState;forEach(urlChangeListeners,function(listener){listener(self.url(),cachedState)})}self.onUrlChange=function(callback){if(!urlChangeInit){if($sniffer.history)jqLite(window).on("popstate",cacheStateAndFireUrlChange);jqLite(window).on("hashchange",cacheStateAndFireUrlChange);urlChangeInit=true}urlChangeListeners.push(callback);return callback};self.$$applicationDestroyed=
function(){jqLite(window).off("hashchange popstate",cacheStateAndFireUrlChange)};self.$$checkUrlChange=fireStateOrUrlChange;self.baseHref=function(){var href=baseElement.attr("href");return href?href.replace(/^(https?:)?\/\/[^/]*/,""):""};self.defer=function(fn,delay,taskType){var timeoutId;delay=delay||0;taskType=taskType||taskTracker.DEFAULT_TASK_TYPE;taskTracker.incTaskCount(taskType);timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId];taskTracker.completeTask(fn,taskType)},delay);
pendingDeferIds[timeoutId]=taskType;return timeoutId};self.defer.cancel=function(deferId){if(pendingDeferIds.hasOwnProperty(deferId)){var taskType=pendingDeferIds[deferId];delete pendingDeferIds[deferId];clearTimeout(deferId);taskTracker.completeTask(noop,taskType);return true}return false}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function($window,$log,$sniffer,$document,$$taskTrackerFactory){return new Browser($window,$document,$log,$sniffer,
$$taskTrackerFactory)}]}function $CacheFactoryProvider(){this.$get=function(){var caches={};function cacheFactory(cacheId,options){if(cacheId in caches)throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",cacheId);var size=0,stats=extend({},options,{id:cacheId}),data=createMap(),capacity=options&&options.capacity||Number.MAX_VALUE,lruHash=createMap(),freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){if(isUndefined(value))return;if(capacity<Number.MAX_VALUE){var lruEntry=
lruHash[key]||(lruHash[key]={key:key});refresh(lruEntry)}if(!(key in data))size++;data[key]=value;if(size>capacity)this.remove(staleEnd.key);return value},get:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;refresh(lruEntry)}return data[key]},remove:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;if(lruEntry===freshEnd)freshEnd=lruEntry.p;if(lruEntry===staleEnd)staleEnd=lruEntry.n;link(lruEntry.n,lruEntry.p);delete lruHash[key]}if(!(key in
data))return;delete data[key];size--},removeAll:function(){data=createMap();size=0;lruHash=createMap();freshEnd=staleEnd=null},destroy:function(){data=null;stats=null;lruHash=null;delete caches[cacheId]},info:function(){return extend({},stats,{size:size})}};function refresh(entry){if(entry!==freshEnd){if(!staleEnd)staleEnd=entry;else if(staleEnd===entry)staleEnd=entry.n;link(entry.n,entry.p);link(entry,freshEnd);freshEnd=entry;freshEnd.n=null}}function link(nextEntry,prevEntry){if(nextEntry!==prevEntry){if(nextEntry)nextEntry.p=
prevEntry;if(prevEntry)prevEntry.n=nextEntry}}}cacheFactory.info=function(){var info={};forEach(caches,function(cache,cacheId){info[cacheId]=cache.info()});return info};cacheFactory.get=function(cacheId){return caches[cacheId]};return cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function($cacheFactory){return $cacheFactory("templates")}]}var $compileMinErr=minErr("$compile");function UNINITIALIZED_VALUE(){}var _UNINITIALIZED_VALUE=new UNINITIALIZED_VALUE;$CompileProvider.$inject=
["$provide","$$sanitizeUriProvider"];function $CompileProvider($provide,$$sanitizeUriProvider){var hasDirectives={},Suffix="Directive",COMMENT_DIRECTIVE_REGEXP=/^\s*directive:\s*([\w-]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\w-]+)(?::([^;]+))?;?)/,ALL_OR_NOTHING_ATTRS=makeMap("ngSrc,ngSrcset,src,srcset"),REQUIRE_PREFIX_REGEXP=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/;var EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/;var bindingCache=createMap();function parseIsolateBindings(scope,directiveName,isController){var LOCAL_REGEXP=
/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/;var bindings=createMap();forEach(scope,function(definition,scopeName){definition=definition.trim();if(definition in bindingCache){bindings[scopeName]=bindingCache[definition];return}var match=definition.match(LOCAL_REGEXP);if(!match)throw $compileMinErr("iscp","Invalid {3} for directive '{0}'."+" Definition: {... {1}: '{2}' ...}",directiveName,scopeName,definition,isController?"controller bindings definition":"isolate scope definition");bindings[scopeName]={mode:match[1][0],
collection:match[2]==="*",optional:match[3]==="?",attrName:match[4]||scopeName};if(match[4])bindingCache[definition]=bindings[scopeName]});return bindings}function parseDirectiveBindings(directive,directiveName){var bindings={isolateScope:null,bindToController:null};if(isObject(directive.scope))if(directive.bindToController===true){bindings.bindToController=parseIsolateBindings(directive.scope,directiveName,true);bindings.isolateScope={}}else bindings.isolateScope=parseIsolateBindings(directive.scope,
directiveName,false);if(isObject(directive.bindToController))bindings.bindToController=parseIsolateBindings(directive.bindToController,directiveName,true);if(bindings.bindToController&&!directive.controller)throw $compileMinErr("noctrl","Cannot bind to controller without directive '{0}'s controller.",directiveName);return bindings}function assertValidDirectiveName(name){var letter=name.charAt(0);if(!letter||letter!==lowercase(letter))throw $compileMinErr("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",
name);if(name!==name.trim())throw $compileMinErr("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",name);}function getDirectiveRequire(directive){var require=directive.require||directive.controller&&directive.name;if(!isArray(require)&&isObject(require))forEach(require,function(value,key){var match=value.match(REQUIRE_PREFIX_REGEXP);var name=value.substring(match[0].length);if(!name)require[key]=match[0]+key});return require}function getDirectiveRestrict(restrict,
name){if(restrict&&!(isString(restrict)&&/[EACM]/.test(restrict)))throw $compileMinErr("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",restrict,name);return restrict||"EA"}this.directive=function registerDirective(name,directiveFactory){assertArg(name,"name");assertNotHasOwnProperty(name,"directive");if(isString(name)){assertValidDirectiveName(name);assertArg(directiveFactory,"directiveFactory");if(!hasDirectives.hasOwnProperty(name)){hasDirectives[name]=[];$provide.factory(name+
Suffix,["$injector","$exceptionHandler",function($injector,$exceptionHandler){var directives=[];forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);if(isFunction(directive))directive={compile:valueFn(directive)};else if(!directive.compile&&directive.link)directive.compile=valueFn(directive.link);directive.priority=directive.priority||0;directive.index=index;directive.name=directive.name||name;directive.require=getDirectiveRequire(directive);
directive.restrict=getDirectiveRestrict(directive.restrict,name);directive.$$moduleName=directiveFactory.$$moduleName;directives.push(directive)}catch(e){$exceptionHandler(e)}});return directives}])}hasDirectives[name].push(directiveFactory)}else forEach(name,reverseParams(registerDirective));return this};this.component=function registerComponent(name,options){if(!isString(name)){forEach(name,reverseParams(bind(this,registerComponent)));return this}var controller=options.controller||function(){};
function factory($injector){function makeInjectable(fn){if(isFunction(fn)||isArray(fn))return function(tElement,tAttrs){return $injector.invoke(fn,this,{$element:tElement,$attrs:tAttrs})};else return fn}var template=!options.template&&!options.templateUrl?"":options.template;var ddo={controller:controller,controllerAs:identifierForController(options.controller)||options.controllerAs||"$ctrl",template:makeInjectable(template),templateUrl:makeInjectable(options.templateUrl),transclude:options.transclude,
scope:{},bindToController:options.bindings||{},restrict:"E",require:options.require};forEach(options,function(val,key){if(key.charAt(0)==="$")ddo[key]=val});return ddo}forEach(options,function(val,key){if(key.charAt(0)==="$"){factory[key]=val;if(isFunction(controller))controller[key]=val}});factory.$inject=["$injector"];return this.directive(name,factory)};this.aHrefSanitizationTrustedUrlList=function(regexp){if(isDefined(regexp)){$$sanitizeUriProvider.aHrefSanitizationTrustedUrlList(regexp);return this}else return $$sanitizeUriProvider.aHrefSanitizationTrustedUrlList()};
Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(value){this.aHrefSanitizationTrustedUrlList=value}});this.imgSrcSanitizationTrustedUrlList=function(regexp){if(isDefined(regexp)){$$sanitizeUriProvider.imgSrcSanitizationTrustedUrlList(regexp);return this}else return $$sanitizeUriProvider.imgSrcSanitizationTrustedUrlList()};Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},
set:function(value){this.imgSrcSanitizationTrustedUrlList=value}});var debugInfoEnabled=true;this.debugInfoEnabled=function(enabled){if(isDefined(enabled)){debugInfoEnabled=enabled;return this}return debugInfoEnabled};var strictComponentBindingsEnabled=false;this.strictComponentBindingsEnabled=function(enabled){if(isDefined(enabled)){strictComponentBindingsEnabled=enabled;return this}return strictComponentBindingsEnabled};var TTL=10;this.onChangesTtl=function(value){if(arguments.length){TTL=value;
return this}return TTL};var commentDirectivesEnabledConfig=true;this.commentDirectivesEnabled=function(value){if(arguments.length){commentDirectivesEnabledConfig=value;return this}return commentDirectivesEnabledConfig};var cssClassDirectivesEnabledConfig=true;this.cssClassDirectivesEnabled=function(value){if(arguments.length){cssClassDirectivesEnabledConfig=value;return this}return cssClassDirectivesEnabledConfig};var PROP_CONTEXTS=createMap();this.addPropertySecurityContext=function(elementName,
propertyName,ctx){var key=elementName.toLowerCase()+"|"+propertyName.toLowerCase();if(key in PROP_CONTEXTS&&PROP_CONTEXTS[key]!==ctx)throw $compileMinErr("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",elementName,propertyName,PROP_CONTEXTS[key],ctx);PROP_CONTEXTS[key]=ctx;return this};(function registerNativePropertyContexts(){function registerContext(ctx,values){forEach(values,function(v){PROP_CONTEXTS[v.toLowerCase()]=ctx})}registerContext(SCE_CONTEXTS.HTML,
["iframe|srcdoc","*|innerHTML","*|outerHTML"]);registerContext(SCE_CONTEXTS.CSS,["*|style"]);registerContext(SCE_CONTEXTS.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]);registerContext(SCE_CONTEXTS.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]);registerContext(SCE_CONTEXTS.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src",
"frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])})();this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function($injector,$interpolate,$exceptionHandler,$templateRequest,$parse,$controller,$rootScope,$sce,$animate){var SIMPLE_ATTR_NAME=/^\w/;var specialAttrHolder=window.document.createElement("div");var commentDirectivesEnabled=
commentDirectivesEnabledConfig;var cssClassDirectivesEnabled=cssClassDirectivesEnabledConfig;var onChangesTtl=TTL;var onChangesQueue;function flushOnChangesQueue(){try{if(!--onChangesTtl){onChangesQueue=undefined;throw $compileMinErr("infchng","{0} $onChanges() iterations reached. Aborting!\n",TTL);}$rootScope.$apply(function(){for(var i=0,ii=onChangesQueue.length;i<ii;++i)try{onChangesQueue[i]()}catch(e){$exceptionHandler(e)}onChangesQueue=undefined})}finally{onChangesTtl++}}function sanitizeSrcset(value,
invokeType){if(!value)return value;if(!isString(value))throw $compileMinErr("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',invokeType,value.toString());var result="";var trimmedSrcset=trim(value);var srcPattern=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/;var pattern=/\s/.test(trimmedSrcset)?srcPattern:/(,)/;var rawUris=trimmedSrcset.split(pattern);var nbrUrisWith2parts=Math.floor(rawUris.length/2);for(var i=0;i<nbrUrisWith2parts;i++){var innerIdx=i*2;result+=$sce.getTrustedMediaUrl(trim(rawUris[innerIdx]));
result+=" "+trim(rawUris[innerIdx+1])}var lastTuple=trim(rawUris[i*2]).split(/\s/);result+=$sce.getTrustedMediaUrl(trim(lastTuple[0]));if(lastTuple.length===2)result+=" "+trim(lastTuple[1]);return result}function Attributes(element,attributesToCopy){if(attributesToCopy){var keys=Object.keys(attributesToCopy);var i,l,key;for(i=0,l=keys.length;i<l;i++){key=keys[i];this[key]=attributesToCopy[key]}}else this.$attr={};this.$$element=element}Attributes.prototype={$normalize:directiveNormalize,$addClass:function(classVal){if(classVal&&
classVal.length>0)$animate.addClass(this.$$element,classVal)},$removeClass:function(classVal){if(classVal&&classVal.length>0)$animate.removeClass(this.$$element,classVal)},$updateClass:function(newClasses,oldClasses){var toAdd=tokenDifference(newClasses,oldClasses);if(toAdd&&toAdd.length)$animate.addClass(this.$$element,toAdd);var toRemove=tokenDifference(oldClasses,newClasses);if(toRemove&&toRemove.length)$animate.removeClass(this.$$element,toRemove)},$set:function(key,value,writeAttr,attrName){var node=
this.$$element[0],booleanKey=getBooleanAttrName(node,key),aliasedKey=getAliasedAttrName(key),observer=key,nodeName;if(booleanKey){this.$$element.prop(key,value);attrName=booleanKey}else if(aliasedKey){this[aliasedKey]=value;observer=aliasedKey}this[key]=value;if(attrName)this.$attr[key]=attrName;else{attrName=this.$attr[key];if(!attrName)this.$attr[key]=attrName=snake_case(key,"-")}nodeName=nodeName_(this.$$element);if(nodeName==="img"&&key==="srcset")this[key]=value=sanitizeSrcset(value,"$set('srcset', value)");
if(writeAttr!==false)if(value===null||isUndefined(value))this.$$element.removeAttr(attrName);else if(SIMPLE_ATTR_NAME.test(attrName))if(booleanKey&&value===false)this.$$element.removeAttr(attrName);else this.$$element.attr(attrName,value);else setSpecialAttr(this.$$element[0],attrName,value);var $$observers=this.$$observers;if($$observers)forEach($$observers[observer],function(fn){try{fn(value)}catch(e){$exceptionHandler(e)}})},$observe:function(key,fn){var attrs=this,$$observers=attrs.$$observers||
(attrs.$$observers=createMap()),listeners=$$observers[key]||($$observers[key]=[]);listeners.push(fn);$rootScope.$evalAsync(function(){if(!listeners.$$inter&&attrs.hasOwnProperty(key)&&!isUndefined(attrs[key]))fn(attrs[key])});return function(){arrayRemove(listeners,fn)}}};function setSpecialAttr(element,attrName,value){specialAttrHolder.innerHTML="\x3cspan "+attrName+"\x3e";var attributes=specialAttrHolder.firstChild.attributes;var attribute=attributes[0];attributes.removeNamedItem(attribute.name);
attribute.value=value;element.attributes.setNamedItem(attribute)}function safeAddClass($element,className){try{$element.addClass(className)}catch(e){}}var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate=startSymbol==="{{"&&endSymbol==="}}"?identity:function denormalizeTemplate(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)},NG_PREFIX_BINDING=/^ng(Attr|Prop|On)([A-Z].*)$/;var MULTI_ELEMENT_DIR_RE=/^(.+)Start$/;compile.$$addBindingInfo=
debugInfoEnabled?function $$addBindingInfo($element,binding){var bindings=$element.data("$binding")||[];if(isArray(binding))bindings=bindings.concat(binding);else bindings.push(binding);$element.data("$binding",bindings)}:noop;compile.$$addBindingClass=debugInfoEnabled?function $$addBindingClass($element){safeAddClass($element,"ng-binding")}:noop;compile.$$addScopeInfo=debugInfoEnabled?function $$addScopeInfo($element,scope,isolated,noTemplate){var dataName=isolated?noTemplate?"$isolateScopeNoTemplate":
"$isolateScope":"$scope";$element.data(dataName,scope)}:noop;compile.$$addScopeClass=debugInfoEnabled?function $$addScopeClass($element,isolated){safeAddClass($element,isolated?"ng-isolate-scope":"ng-scope")}:noop;compile.$$createComment=function(directiveName,comment){var content="";if(debugInfoEnabled){content=" "+(directiveName||"")+": ";if(comment)content+=comment+" "}return window.document.createComment(content)};return compile;function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,
previousCompileContext){if(!($compileNodes instanceof jqLite))$compileNodes=jqLite($compileNodes);var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);compile.$$addScopeClass($compileNodes);var namespace=null;return function publicLinkFn(scope,cloneConnectFn,options){if(!$compileNodes)throw $compileMinErr("multilink","This element has already been linked.");assertArg(scope,"scope");if(previousCompileContext&&previousCompileContext.needsNewScope)scope=
scope.$parent.$new();options=options||{};var parentBoundTranscludeFn=options.parentBoundTranscludeFn,transcludeControllers=options.transcludeControllers,futureParentElement=options.futureParentElement;if(parentBoundTranscludeFn&&parentBoundTranscludeFn.$$boundTransclude)parentBoundTranscludeFn=parentBoundTranscludeFn.$$boundTransclude;if(!namespace)namespace=detectNamespaceForChildElements(futureParentElement);var $linkNode;if(namespace!=="html")$linkNode=jqLite(wrapTemplate(namespace,jqLite("\x3cdiv\x3e\x3c/div\x3e").append($compileNodes).html()));
else if(cloneConnectFn)$linkNode=JQLitePrototype.clone.call($compileNodes);else $linkNode=$compileNodes;if(transcludeControllers)for(var controllerName in transcludeControllers)$linkNode.data("$"+controllerName+"Controller",transcludeControllers[controllerName].instance);compile.$$addScopeInfo($linkNode,scope);if(cloneConnectFn)cloneConnectFn($linkNode,scope);if(compositeLinkFn)compositeLinkFn(scope,$linkNode,$linkNode,parentBoundTranscludeFn);if(!cloneConnectFn)$compileNodes=compositeLinkFn=null;
return $linkNode}}function detectNamespaceForChildElements(parentElement){var node=parentElement&&parentElement[0];if(!node)return"html";else return nodeName_(node)!=="foreignobject"&&toString.call(node).match(/SVG/)?"svg":"html"}function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){var linkFns=[],notLiveList=isArray(nodeList)||nodeList instanceof jqLite,attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,nodeLinkFnFound;for(var i=
0;i<nodeList.length;i++){attrs=new Attributes;if(msie===11)mergeConsecutiveTextNodes(nodeList,i,notLiveList);directives=collectDirectives(nodeList[i],[],attrs,i===0?maxPriority:undefined,ignoreDirective);nodeLinkFn=directives.length?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null;if(nodeLinkFn&&nodeLinkFn.scope)compile.$$addScopeClass(attrs.$$element);childLinkFn=nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||
!childNodes.length?null:compileNodes(childNodes,nodeLinkFn?(nodeLinkFn.transcludeOnThisElement||!nodeLinkFn.templateOnThisElement)&&nodeLinkFn.transclude:transcludeFn);if(nodeLinkFn||childLinkFn){linkFns.push(i,nodeLinkFn,childLinkFn);linkFnFound=true;nodeLinkFnFound=nodeLinkFnFound||nodeLinkFn}previousCompileContext=null}return linkFnFound?compositeLinkFn:null;function compositeLinkFn(scope,nodeList,$rootElement,parentBoundTranscludeFn){var nodeLinkFn,childLinkFn,node,childScope,i,ii,idx,childBoundTranscludeFn;
var stableNodeList;if(nodeLinkFnFound){var nodeListLength=nodeList.length;stableNodeList=new Array(nodeListLength);for(i=0;i<linkFns.length;i+=3){idx=linkFns[i];stableNodeList[idx]=nodeList[idx]}}else stableNodeList=nodeList;for(i=0,ii=linkFns.length;i<ii;){node=stableNodeList[linkFns[i++]];nodeLinkFn=linkFns[i++];childLinkFn=linkFns[i++];if(nodeLinkFn){if(nodeLinkFn.scope){childScope=scope.$new();compile.$$addScopeInfo(jqLite(node),childScope)}else childScope=scope;if(nodeLinkFn.transcludeOnThisElement)childBoundTranscludeFn=
createBoundTranscludeFn(scope,nodeLinkFn.transclude,parentBoundTranscludeFn);else if(!nodeLinkFn.templateOnThisElement&&parentBoundTranscludeFn)childBoundTranscludeFn=parentBoundTranscludeFn;else if(!parentBoundTranscludeFn&&transcludeFn)childBoundTranscludeFn=createBoundTranscludeFn(scope,transcludeFn);else childBoundTranscludeFn=null;nodeLinkFn(childLinkFn,childScope,node,$rootElement,childBoundTranscludeFn)}else if(childLinkFn)childLinkFn(scope,node.childNodes,undefined,parentBoundTranscludeFn)}}
}function mergeConsecutiveTextNodes(nodeList,idx,notLiveList){var node=nodeList[idx];var parent=node.parentNode;var sibling;if(node.nodeType!==NODE_TYPE_TEXT)return;while(true){sibling=parent?node.nextSibling:nodeList[idx+1];if(!sibling||sibling.nodeType!==NODE_TYPE_TEXT)break;node.nodeValue=node.nodeValue+sibling.nodeValue;if(sibling.parentNode)sibling.parentNode.removeChild(sibling);if(notLiveList&&sibling===nodeList[idx+1])nodeList.splice(idx+1,1)}}function createBoundTranscludeFn(scope,transcludeFn,
previousBoundTranscludeFn){function boundTranscludeFn(transcludedScope,cloneFn,controllers,futureParentElement,containingScope){if(!transcludedScope){transcludedScope=scope.$new(false,containingScope);transcludedScope.$$transcluded=true}return transcludeFn(transcludedScope,cloneFn,{parentBoundTranscludeFn:previousBoundTranscludeFn,transcludeControllers:controllers,futureParentElement:futureParentElement})}var boundSlots=boundTranscludeFn.$$slots=createMap();for(var slotName in transcludeFn.$$slots)if(transcludeFn.$$slots[slotName])boundSlots[slotName]=
createBoundTranscludeFn(scope,transcludeFn.$$slots[slotName],previousBoundTranscludeFn);else boundSlots[slotName]=null;return boundTranscludeFn}function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var nodeType=node.nodeType,attrsMap=attrs.$attr,match,nodeName,className;switch(nodeType){case NODE_TYPE_ELEMENT:nodeName=nodeName_(node);addDirective(directives,directiveNormalize(nodeName),"E",maxPriority,ignoreDirective);for(var attr,name,nName,value,ngPrefixMatch,nAttrs=node.attributes,
j=0,jj=nAttrs&&nAttrs.length;j<jj;j++){var attrStartName=false;var attrEndName=false;var isNgAttr=false,isNgProp=false,isNgEvent=false;var multiElementMatch;attr=nAttrs[j];name=attr.name;value=attr.value;nName=directiveNormalize(name.toLowerCase());if(ngPrefixMatch=nName.match(NG_PREFIX_BINDING)){isNgAttr=ngPrefixMatch[1]==="Attr";isNgProp=ngPrefixMatch[1]==="Prop";isNgEvent=ngPrefixMatch[1]==="On";name=name.replace(PREFIX_REGEXP,"").toLowerCase().substr(4+ngPrefixMatch[1].length).replace(/_(.)/g,
function(match,letter){return letter.toUpperCase()})}else if((multiElementMatch=nName.match(MULTI_ELEMENT_DIR_RE))&&directiveIsMultiElement(multiElementMatch[1])){attrStartName=name;attrEndName=name.substr(0,name.length-5)+"end";name=name.substr(0,name.length-6)}if(isNgProp||isNgEvent){attrs[nName]=value;attrsMap[nName]=attr.name;if(isNgProp)addPropertyDirective(node,directives,nName,name);else addEventDirective(directives,nName,name)}else{nName=directiveNormalize(name.toLowerCase());attrsMap[nName]=
name;if(isNgAttr||!attrs.hasOwnProperty(nName)){attrs[nName]=value;if(getBooleanAttrName(node,nName))attrs[nName]=true}addAttrInterpolateDirective(node,directives,value,nName,isNgAttr);addDirective(directives,nName,"A",maxPriority,ignoreDirective,attrStartName,attrEndName)}}if(nodeName==="input"&&node.getAttribute("type")==="hidden")node.setAttribute("autocomplete","off");if(!cssClassDirectivesEnabled)break;className=node.className;if(isObject(className))className=className.animVal;if(isString(className)&&
className!=="")while(match=CLASS_DIRECTIVE_REGEXP.exec(className)){nName=directiveNormalize(match[2]);if(addDirective(directives,nName,"C",maxPriority,ignoreDirective))attrs[nName]=trim(match[3]);className=className.substr(match.index+match[0].length)}break;case NODE_TYPE_TEXT:if(!msie||!node.parentNode||nodeName_(node.parentNode)!=="textarea")addTextInterpolateDirective(directives,node.nodeValue);break;case NODE_TYPE_COMMENT:if(!commentDirectivesEnabled)break;collectCommentDirectives(node,directives,
attrs,maxPriority,ignoreDirective);break}directives.sort(byPriority);return directives}function collectCommentDirectives(node,directives,attrs,maxPriority,ignoreDirective){try{var match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue);if(match){var nName=directiveNormalize(match[1]);if(addDirective(directives,nName,"M",maxPriority,ignoreDirective))attrs[nName]=trim(match[2])}}catch(e){}}function groupScan(node,attrStart,attrEnd){var nodes=[];var depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){do{if(!node)throw $compileMinErr("uterdir",
"Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd);if(node.nodeType===NODE_TYPE_ELEMENT){if(node.hasAttribute(attrStart))depth++;if(node.hasAttribute(attrEnd))depth--}nodes.push(node);node=node.nextSibling}while(depth>0)}else nodes.push(node);return jqLite(nodes)}function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function groupedElementsLink(scope,element,attrs,controllers,transcludeFn){element=groupScan(element[0],attrStart,attrEnd);return linkFn(scope,
element,attrs,controllers,transcludeFn)}}function compilationGenerator(eager,$compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){var compiled;if(eager)return compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext);return function lazyCompilation(){if(!compiled){compiled=compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext);$compileNodes=transcludeFn=previousCompileContext=null}return compiled.apply(this,arguments)}}
function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){previousCompileContext=previousCompileContext||{};var terminalPriority=-Number.MAX_VALUE,newScopeDirective=previousCompileContext.newScopeDirective,controllerDirectives=previousCompileContext.controllerDirectives,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,
nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=false,hasTemplate=false,hasElementTranscludeDirective=previousCompileContext.hasElementTranscludeDirective,$compileNode=templateAttrs.$$element=jqLite(compileNode),directive,directiveName,$template,replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn,linkFn,didScanForMultipleTransclusion=false,mightHaveMultipleTransclusionError=false,directiveValue;for(var i=0,ii=directives.length;i<
ii;i++){directive=directives[i];var attrStart=directive.$$start;var attrEnd=directive.$$end;if(attrStart)$compileNode=groupScan(compileNode,attrStart,attrEnd);$template=undefined;if(terminalPriority>directive.priority)break;directiveValue=directive.scope;if(directiveValue){if(!directive.templateUrl)if(isObject(directiveValue)){assertNoDuplicate("new/isolated scope",newIsolateScopeDirective||newScopeDirective,directive,$compileNode);newIsolateScopeDirective=directive}else assertNoDuplicate("new/isolated scope",
newIsolateScopeDirective,directive,$compileNode);newScopeDirective=newScopeDirective||directive}directiveName=directive.name;if(!didScanForMultipleTransclusion&&(directive.replace&&(directive.templateUrl||directive.template)||directive.transclude&&!directive.$$tlb)){var candidateDirective;for(var scanningIndex=i+1;candidateDirective=directives[scanningIndex++];)if(candidateDirective.transclude&&!candidateDirective.$$tlb||candidateDirective.replace&&(candidateDirective.templateUrl||candidateDirective.template)){mightHaveMultipleTransclusionError=
true;break}didScanForMultipleTransclusion=true}if(!directive.templateUrl&&directive.controller){controllerDirectives=controllerDirectives||createMap();assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode);controllerDirectives[directiveName]=directive}directiveValue=directive.transclude;if(directiveValue){hasTranscludeDirective=true;if(!directive.$$tlb){assertNoDuplicate("transclusion",nonTlbTranscludeDirective,directive,$compileNode);nonTlbTranscludeDirective=
directive}if(directiveValue==="element"){hasElementTranscludeDirective=true;terminalPriority=directive.priority;$template=$compileNode;$compileNode=templateAttrs.$$element=jqLite(compile.$$createComment(directiveName,templateAttrs[directiveName]));compileNode=$compileNode[0];replaceWith(jqCollection,sliceArgs($template),compileNode);childTranscludeFn=compilationGenerator(mightHaveMultipleTransclusionError,$template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{nonTlbTranscludeDirective:nonTlbTranscludeDirective})}else{var slots=
createMap();if(!isObject(directiveValue))$template=jqLite(jqLiteClone(compileNode)).contents();else{$template=window.document.createDocumentFragment();var slotMap=createMap();var filledSlots=createMap();forEach(directiveValue,function(elementSelector,slotName){var optional=elementSelector.charAt(0)==="?";elementSelector=optional?elementSelector.substring(1):elementSelector;slotMap[elementSelector]=slotName;slots[slotName]=null;filledSlots[slotName]=optional});forEach($compileNode.contents(),function(node){var slotName=
slotMap[directiveNormalize(nodeName_(node))];if(slotName){filledSlots[slotName]=true;slots[slotName]=slots[slotName]||window.document.createDocumentFragment();slots[slotName].appendChild(node)}else $template.appendChild(node)});forEach(filledSlots,function(filled,slotName){if(!filled)throw $compileMinErr("reqslot","Required transclusion slot `{0}` was not filled.",slotName);});for(var slotName in slots)if(slots[slotName]){var slotCompileNodes=jqLite(slots[slotName].childNodes);slots[slotName]=compilationGenerator(mightHaveMultipleTransclusionError,
slotCompileNodes,transcludeFn)}$template=jqLite($template.childNodes)}$compileNode.empty();childTranscludeFn=compilationGenerator(mightHaveMultipleTransclusionError,$template,transcludeFn,undefined,undefined,{needsNewScope:directive.$$isolateScope||directive.$$newScope});childTranscludeFn.$$slots=slots}}if(directive.template){hasTemplate=true;assertNoDuplicate("template",templateDirective,directive,$compileNode);templateDirective=directive;directiveValue=isFunction(directive.template)?directive.template($compileNode,
templateAttrs):directive.template;directiveValue=denormalizeTemplate(directiveValue);if(directive.replace){replaceDirective=directive;if(jqLiteIsTextNode(directiveValue))$template=[];else $template=removeComments(wrapTemplate(directive.templateNamespace,trim(directiveValue)));compileNode=$template[0];if($template.length!==1||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",directiveName,"");replaceWith(jqCollection,
$compileNode,compileNode);var newTemplateAttrs={$attr:{}};var templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs);var unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));if(newIsolateScopeDirective||newScopeDirective)markDirectiveScope(templateDirectives,newIsolateScopeDirective,newScopeDirective);directives=directives.concat(templateDirectives).concat(unprocessedDirectives);mergeTemplateAttributes(templateAttrs,newTemplateAttrs);ii=directives.length}else $compileNode.html(directiveValue)}if(directive.templateUrl){hasTemplate=
true;assertNoDuplicate("template",templateDirective,directive,$compileNode);templateDirective=directive;if(directive.replace)replaceDirective=directive;nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,hasTranscludeDirective&&childTranscludeFn,preLinkFns,postLinkFns,{controllerDirectives:controllerDirectives,newScopeDirective:newScopeDirective!==directive&&newScopeDirective,newIsolateScopeDirective:newIsolateScopeDirective,templateDirective:templateDirective,
nonTlbTranscludeDirective:nonTlbTranscludeDirective});ii=directives.length}else if(directive.compile)try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn);var context=directive.$$originalDirective||directive;if(isFunction(linkFn))addLinkFns(null,bind(context,linkFn),attrStart,attrEnd);else if(linkFn)addLinkFns(bind(context,linkFn.pre),bind(context,linkFn.post),attrStart,attrEnd)}catch(e){$exceptionHandler(e,startingTag($compileNode))}if(directive.terminal){nodeLinkFn.terminal=
true;terminalPriority=Math.max(terminalPriority,directive.priority)}}nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope===true;nodeLinkFn.transcludeOnThisElement=hasTranscludeDirective;nodeLinkFn.templateOnThisElement=hasTemplate;nodeLinkFn.transclude=childTranscludeFn;previousCompileContext.hasElementTranscludeDirective=hasElementTranscludeDirective;return nodeLinkFn;function addLinkFns(pre,post,attrStart,attrEnd){if(pre){if(attrStart)pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd);
pre.require=directive.require;pre.directiveName=directiveName;if(newIsolateScopeDirective===directive||directive.$$isolateScope)pre=cloneAndAnnotateFn(pre,{isolateScope:true});preLinkFns.push(pre)}if(post){if(attrStart)post=groupElementsLinkFnWrapper(post,attrStart,attrEnd);post.require=directive.require;post.directiveName=directiveName;if(newIsolateScopeDirective===directive||directive.$$isolateScope)post=cloneAndAnnotateFn(post,{isolateScope:true});postLinkFns.push(post)}}function nodeLinkFn(childLinkFn,
scope,linkNode,$rootElement,boundTranscludeFn){var i,ii,linkFn,isolateScope,controllerScope,elementControllers,transcludeFn,$element,attrs,scopeBindingInfo;if(compileNode===linkNode){attrs=templateAttrs;$element=templateAttrs.$$element}else{$element=jqLite(linkNode);attrs=new Attributes($element,templateAttrs)}controllerScope=scope;if(newIsolateScopeDirective)isolateScope=scope.$new(true);else if(newScopeDirective)controllerScope=scope.$parent;if(boundTranscludeFn){transcludeFn=controllersBoundTransclude;
transcludeFn.$$boundTransclude=boundTranscludeFn;transcludeFn.isSlotFilled=function(slotName){return!!boundTranscludeFn.$$slots[slotName]}}if(controllerDirectives)elementControllers=setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope,newIsolateScopeDirective);if(newIsolateScopeDirective){compile.$$addScopeInfo($element,isolateScope,true,!(templateDirective&&(templateDirective===newIsolateScopeDirective||templateDirective===newIsolateScopeDirective.$$originalDirective)));
compile.$$addScopeClass($element,true);isolateScope.$$isolateBindings=newIsolateScopeDirective.$$isolateBindings;scopeBindingInfo=initializeDirectiveBindings(scope,attrs,isolateScope,isolateScope.$$isolateBindings,newIsolateScopeDirective);if(scopeBindingInfo.removeWatches)isolateScope.$on("$destroy",scopeBindingInfo.removeWatches)}for(var name in elementControllers){var controllerDirective=controllerDirectives[name];var controller=elementControllers[name];var bindings=controllerDirective.$$bindings.bindToController;
var customBindingAssignment=isFunction(compile.$$customAssignBindings)&&compile.$$customAssignBindings(bindings,controller,controllerDirective,controllerScope,$element,attrs,initializeDirectiveBindings);if(!customBindingAssignment){controller.instance=controller();$element.data("$"+controllerDirective.name+"Controller",controller.instance);controller.bindingInfo=initializeDirectiveBindings(controllerScope,attrs,controller.instance,bindings,controllerDirective)}}forEach(controllerDirectives,function(controllerDirective,
name){var require=controllerDirective.require;if(controllerDirective.bindToController&&!isArray(require)&&isObject(require))extend(elementControllers[name].instance,getControllers(name,require,$element,elementControllers))});forEach(elementControllers,function(controller){var controllerInstance=controller.instance;if(isFunction(controllerInstance.$onChanges))try{controllerInstance.$onChanges(controller.bindingInfo.initialChanges)}catch(e$0){$exceptionHandler(e$0)}if(isFunction(controllerInstance.$onInit))try{controllerInstance.$onInit()}catch(e$1){$exceptionHandler(e$1)}if(isFunction(controllerInstance.$doCheck)){controllerScope.$watch(function(){controllerInstance.$doCheck()});
controllerInstance.$doCheck()}if(isFunction(controllerInstance.$onDestroy))controllerScope.$on("$destroy",function callOnDestroyHook(){controllerInstance.$onDestroy()})});for(i=0,ii=preLinkFns.length;i<ii;i++){linkFn=preLinkFns[i];invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}var scopeToChild=scope;if(newIsolateScopeDirective&&(newIsolateScopeDirective.template||
newIsolateScopeDirective.templateUrl===null))scopeToChild=isolateScope;if(childLinkFn)childLinkFn(scopeToChild,linkNode.childNodes,undefined,boundTranscludeFn);for(i=postLinkFns.length-1;i>=0;i--){linkFn=postLinkFns[i];invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}forEach(elementControllers,function(controller){var controllerInstance=controller.instance;if(isFunction(controllerInstance.$postLink))controllerInstance.$postLink()});
function controllersBoundTransclude(scope,cloneAttachFn,futureParentElement,slotName){var transcludeControllers;if(!isScope(scope)){slotName=futureParentElement;futureParentElement=cloneAttachFn;cloneAttachFn=scope;scope=undefined}if(hasElementTranscludeDirective)transcludeControllers=elementControllers;if(!futureParentElement)futureParentElement=hasElementTranscludeDirective?$element.parent():$element;if(slotName){var slotTranscludeFn=boundTranscludeFn.$$slots[slotName];if(slotTranscludeFn)return slotTranscludeFn(scope,
cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild);else if(isUndefined(slotTranscludeFn))throw $compileMinErr("noslot",'No parent directive that requires a transclusion with slot name "{0}". '+"Element: {1}",slotName,startingTag($element));}else return boundTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild)}}}function getControllers(directiveName,require,$element,elementControllers){var value;if(isString(require)){var match=require.match(REQUIRE_PREFIX_REGEXP);
var name=require.substring(match[0].length);var inheritType=match[1]||match[3];var optional=match[2]==="?";if(inheritType==="^^")$element=$element.parent();else{value=elementControllers&&elementControllers[name];value=value&&value.instance}if(!value){var dataName="$"+name+"Controller";if(inheritType==="^^"&&$element[0]&&$element[0].nodeType===NODE_TYPE_DOCUMENT)value=null;else value=inheritType?$element.inheritedData(dataName):$element.data(dataName)}if(!value&&!optional)throw $compileMinErr("ctreq",
"Controller '{0}', required by directive '{1}', can't be found!",name,directiveName);}else if(isArray(require)){value=[];for(var i=0,ii=require.length;i<ii;i++)value[i]=getControllers(directiveName,require[i],$element,elementControllers)}else if(isObject(require)){value={};forEach(require,function(controller,property){value[property]=getControllers(directiveName,controller,$element,elementControllers)})}return value||null}function setupControllers($element,attrs,transcludeFn,controllerDirectives,
isolateScope,scope,newIsolateScopeDirective){var elementControllers=createMap();for(var controllerKey in controllerDirectives){var directive=controllerDirectives[controllerKey];var locals={$scope:directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,$element:$element,$attrs:attrs,$transclude:transcludeFn};var controller=directive.controller;if(controller==="@")controller=attrs[directive.name];var controllerInstance=$controller(controller,locals,true,directive.controllerAs);
elementControllers[directive.name]=controllerInstance;$element.data("$"+directive.name+"Controller",controllerInstance.instance)}return elementControllers}function markDirectiveScope(directives,isolateScope,newScope){for(var j=0,jj=directives.length;j<jj;j++)directives[j]=inherit(directives[j],{$$isolateScope:isolateScope,$$newScope:newScope})}function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){if(name===ignoreDirective)return null;var match=null;
if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++){directive=directives[i];if((isUndefined(maxPriority)||maxPriority>directive.priority)&&directive.restrict.indexOf(location)!==-1){if(startAttrName)directive=inherit(directive,{$$start:startAttrName,$$end:endAttrName});if(!directive.$$bindings){var bindings=directive.$$bindings=parseDirectiveBindings(directive,directive.name);if(isObject(bindings.isolateScope))directive.$$isolateBindings=
bindings.isolateScope}tDirectives.push(directive);match=directive}}return match}function directiveIsMultiElement(name){if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++){directive=directives[i];if(directive.multiElement)return true}return false}function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr;forEach(dst,function(value,key){if(key.charAt(0)!=="$"){if(src[key]&&src[key]!==value)if(value.length)value+=
(key==="style"?";":" ")+src[key];else value=src[key];dst.$set(key,value,true,srcAttr[key])}});forEach(src,function(value,key){if(!dst.hasOwnProperty(key)&&key.charAt(0)!=="$"){dst[key]=value;if(key!=="class"&&key!=="style")dstAttr[key]=srcAttr[key]}})}function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var linkQueue=[],afterTemplateNodeLinkFn,afterTemplateChildLinkFn,beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=
directives.shift(),derivedSyncDirective=inherit(origAsyncDirective,{templateUrl:null,transclude:null,replace:null,$$originalDirective:origAsyncDirective}),templateUrl=isFunction(origAsyncDirective.templateUrl)?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl,templateNamespace=origAsyncDirective.templateNamespace;$compileNode.empty();$templateRequest(templateUrl).then(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn;content=denormalizeTemplate(content);
if(origAsyncDirective.replace){if(jqLiteIsTextNode(content))$template=[];else $template=removeComments(wrapTemplate(templateNamespace,trim(content)));compileNode=$template[0];if($template.length!==1||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl);tempTemplateAttrs={$attr:{}};replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,
[],tempTemplateAttrs);if(isObject(origAsyncDirective.scope))markDirectiveScope(templateDirectives,true);directives=templateDirectives.concat(directives);mergeTemplateAttributes(tAttrs,tempTemplateAttrs)}else{compileNode=beforeTemplateCompileNode;$compileNode.html(content)}directives.unshift(derivedSyncDirective);afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext);forEach($rootElement,
function(node,i){if(node===compileNode)$rootElement[i]=$compileNode[0]});afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);while(linkQueue.length){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(scope.$$destroyed)continue;if(beforeTemplateLinkNode!==beforeTemplateCompileNode){var oldClasses=beforeTemplateLinkNode.className;if(!(previousCompileContext.hasElementTranscludeDirective&&
origAsyncDirective.replace))linkNode=jqLiteClone(compileNode);replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode);safeAddClass(jqLite(linkNode),oldClasses)}if(afterTemplateNodeLinkFn.transcludeOnThisElement)childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn);else childBoundTranscludeFn=boundTranscludeFn;afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn)}linkQueue=null}).catch(function(error){if(isError(error))$exceptionHandler(error)});
return function delayedNodeLinkFn(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){var childBoundTranscludeFn=boundTranscludeFn;if(scope.$$destroyed)return;if(linkQueue)linkQueue.push(scope,node,rootElement,childBoundTranscludeFn);else{if(afterTemplateNodeLinkFn.transcludeOnThisElement)childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn);afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,childBoundTranscludeFn)}}}
function byPriority(a,b){var diff=b.priority-a.priority;if(diff!==0)return diff;if(a.name!==b.name)return a.name<b.name?-1:1;return a.index-b.index}function assertNoDuplicate(what,previousDirective,directive,element){function wrapModuleNameIfDefined(moduleName){return moduleName?" (module: "+moduleName+")":""}if(previousDirective)throw $compileMinErr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",previousDirective.name,wrapModuleNameIfDefined(previousDirective.$$moduleName),
directive.name,wrapModuleNameIfDefined(directive.$$moduleName),what,startingTag(element));}function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,true);if(interpolateFn)directives.push({priority:0,compile:function textInterpolateCompileFn(templateNode){var templateNodeParent=templateNode.parent(),hasCompileParent=!!templateNodeParent.length;if(hasCompileParent)compile.$$addBindingClass(templateNodeParent);return function textInterpolateLinkFn(scope,node){var parent=
node.parent();if(!hasCompileParent)compile.$$addBindingClass(parent);compile.$$addBindingInfo(parent,interpolateFn.expressions);scope.$watch(interpolateFn,function interpolateFnWatchAction(value){node[0].nodeValue=value})}}})}function wrapTemplate(type,template){type=lowercase(type||"html");switch(type){case "svg":case "math":var wrapper=window.document.createElement("div");wrapper.innerHTML="\x3c"+type+"\x3e"+template+"\x3c/"+type+"\x3e";return wrapper.childNodes[0].childNodes;default:return template}}
function getTrustedAttrContext(nodeName,attrNormalizedName){if(attrNormalizedName==="srcdoc")return $sce.HTML;if(attrNormalizedName==="src"||attrNormalizedName==="ngSrc"){if(["img","video","audio","source","track"].indexOf(nodeName)===-1)return $sce.RESOURCE_URL;return $sce.MEDIA_URL}else if(attrNormalizedName==="xlinkHref"){if(nodeName==="image")return $sce.MEDIA_URL;if(nodeName==="a")return $sce.URL;return $sce.RESOURCE_URL}else if(nodeName==="form"&&attrNormalizedName==="action"||nodeName==="base"&&
attrNormalizedName==="href"||nodeName==="link"&&attrNormalizedName==="href")return $sce.RESOURCE_URL;else if(nodeName==="a"&&(attrNormalizedName==="href"||attrNormalizedName==="ngHref"))return $sce.URL}function getTrustedPropContext(nodeName,propNormalizedName){var prop=propNormalizedName.toLowerCase();return PROP_CONTEXTS[nodeName+"|"+prop]||PROP_CONTEXTS["*|"+prop]}function sanitizeSrcsetPropertyValue(value){return sanitizeSrcset($sce.valueOf(value),"ng-prop-srcset")}function addPropertyDirective(node,
directives,attrName,propName){if(EVENT_HANDLER_ATTR_REGEXP.test(propName))throw $compileMinErr("nodomevents","Property bindings for HTML DOM event properties are disallowed");var nodeName=nodeName_(node);var trustedContext=getTrustedPropContext(nodeName,propName);var sanitizer=identity;if(propName==="srcset"&&(nodeName==="img"||nodeName==="source"))sanitizer=sanitizeSrcsetPropertyValue;else if(trustedContext)sanitizer=$sce.getTrusted.bind($sce,trustedContext);directives.push({priority:100,compile:function ngPropCompileFn(_,
attr){var ngPropGetter=$parse(attr[attrName]);var ngPropWatch=$parse(attr[attrName],function sceValueOf(val){return $sce.valueOf(val)});return{pre:function ngPropPreLinkFn(scope,$element){function applyPropValue(){var propValue=ngPropGetter(scope);$element[0][propName]=sanitizer(propValue)}applyPropValue();scope.$watch(ngPropWatch,applyPropValue)}}}})}function addEventDirective(directives,attrName,eventName){directives.push(createEventDirective($parse,$rootScope,$exceptionHandler,attrName,eventName,
false))}function addAttrInterpolateDirective(node,directives,value,name,isNgAttr){var nodeName=nodeName_(node);var trustedContext=getTrustedAttrContext(nodeName,name);var mustHaveExpression=!isNgAttr;var allOrNothing=ALL_OR_NOTHING_ATTRS[name]||isNgAttr;var interpolateFn=$interpolate(value,mustHaveExpression,trustedContext,allOrNothing);if(!interpolateFn)return;if(name==="multiple"&&nodeName==="select")throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",
startingTag(node));if(EVENT_HANDLER_ATTR_REGEXP.test(name))throw $compileMinErr("nodomevents","Interpolations for HTML DOM event attributes are disallowed");directives.push({priority:100,compile:function(){return{pre:function attrInterpolatePreLinkFn(scope,element,attr){var $$observers=attr.$$observers||(attr.$$observers=createMap());var newValue=attr[name];if(newValue!==value){interpolateFn=newValue&&$interpolate(newValue,true,trustedContext,allOrNothing);value=newValue}if(!interpolateFn)return;
attr[name]=interpolateFn(scope);($$observers[name]||($$observers[name]=[])).$$inter=true;(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function interpolateFnWatchAction(newValue,oldValue){if(name==="class"&&newValue!==oldValue)attr.$updateClass(newValue,oldValue);else attr.$set(name,newValue)})}}}})}function replaceWith($rootElement,elementsToRemove,newNode){var firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode,
i,ii;if($rootElement)for(i=0,ii=$rootElement.length;i<ii;i++)if($rootElement[i]===firstElementToRemove){$rootElement[i++]=newNode;for(var j=i,j2=j+removeCount-1,jj=$rootElement.length;j<jj;j++,j2++)if(j2<jj)$rootElement[j]=$rootElement[j2];else delete $rootElement[j];$rootElement.length-=removeCount-1;if($rootElement.context===firstElementToRemove)$rootElement.context=newNode;break}if(parent)parent.replaceChild(newNode,firstElementToRemove);var fragment=window.document.createDocumentFragment();for(i=
0;i<removeCount;i++)fragment.appendChild(elementsToRemove[i]);if(jqLite.hasData(firstElementToRemove)){jqLite.data(newNode,jqLite.data(firstElementToRemove));jqLite(firstElementToRemove).off("$destroy")}jqLite.cleanData(fragment.querySelectorAll("*"));for(i=1;i<removeCount;i++)delete elementsToRemove[i];elementsToRemove[0]=newNode;elementsToRemove.length=1}function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments)},fn,annotation)}function invokeLinkFn(linkFn,
scope,$element,attrs,controllers,transcludeFn){try{linkFn(scope,$element,attrs,controllers,transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}}function strictBindingsCheck(attrName,directiveName){if(strictComponentBindingsEnabled)throw $compileMinErr("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",attrName,directiveName);}function initializeDirectiveBindings(scope,attrs,destination,bindings,directive){var removeWatchCollection=[];var initialChanges={};var changes;
forEach(bindings,function initializeBinding(definition,scopeName){var attrName=definition.attrName,optional=definition.optional,mode=definition.mode,lastValue,parentGet,parentSet,compare,removeWatch;switch(mode){case "@":if(!optional&&!hasOwnProperty.call(attrs,attrName)){strictBindingsCheck(attrName,directive.name);destination[scopeName]=attrs[attrName]=undefined}removeWatch=attrs.$observe(attrName,function(value){if(isString(value)||isBoolean(value)){var oldValue=destination[scopeName];recordChanges(scopeName,
value,oldValue);destination[scopeName]=value}});attrs.$$observers[attrName].$$scope=scope;lastValue=attrs[attrName];if(isString(lastValue))destination[scopeName]=$interpolate(lastValue)(scope);else if(isBoolean(lastValue))destination[scopeName]=lastValue;initialChanges[scopeName]=new SimpleChange(_UNINITIALIZED_VALUE,destination[scopeName]);removeWatchCollection.push(removeWatch);break;case "\x3d":if(!hasOwnProperty.call(attrs,attrName)){if(optional)break;strictBindingsCheck(attrName,directive.name);
attrs[attrName]=undefined}if(optional&&!attrs[attrName])break;parentGet=$parse(attrs[attrName]);if(parentGet.literal)compare=equals;else compare=simpleCompare;parentSet=parentGet.assign||function(){lastValue=destination[scopeName]=parentGet(scope);throw $compileMinErr("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",attrs[attrName],attrName,directive.name);};lastValue=destination[scopeName]=parentGet(scope);var parentValueWatch=function parentValueWatch(parentValue){if(!compare(parentValue,
destination[scopeName]))if(!compare(parentValue,lastValue))destination[scopeName]=parentValue;else parentSet(scope,parentValue=destination[scopeName]);lastValue=parentValue;return lastValue};parentValueWatch.$stateful=true;if(definition.collection)removeWatch=scope.$watchCollection(attrs[attrName],parentValueWatch);else removeWatch=scope.$watch($parse(attrs[attrName],parentValueWatch),null,parentGet.literal);removeWatchCollection.push(removeWatch);break;case "\x3c":if(!hasOwnProperty.call(attrs,attrName)){if(optional)break;
strictBindingsCheck(attrName,directive.name);attrs[attrName]=undefined}if(optional&&!attrs[attrName])break;parentGet=$parse(attrs[attrName]);var isLiteral=parentGet.literal;var initialValue=destination[scopeName]=parentGet(scope);initialChanges[scopeName]=new SimpleChange(_UNINITIALIZED_VALUE,destination[scopeName]);removeWatch=scope[definition.collection?"$watchCollection":"$watch"](parentGet,function parentValueWatchAction(newValue,oldValue){if(oldValue===newValue){if(oldValue===initialValue||isLiteral&&
equals(oldValue,initialValue))return;oldValue=initialValue}recordChanges(scopeName,newValue,oldValue);destination[scopeName]=newValue});removeWatchCollection.push(removeWatch);break;case "\x26":if(!optional&&!hasOwnProperty.call(attrs,attrName))strictBindingsCheck(attrName,directive.name);parentGet=attrs.hasOwnProperty(attrName)?$parse(attrs[attrName]):noop;if(parentGet===noop&&optional)break;destination[scopeName]=function(locals){return parentGet(scope,locals)};break}});function recordChanges(key,
currentValue,previousValue){if(isFunction(destination.$onChanges)&&!simpleCompare(currentValue,previousValue)){if(!onChangesQueue){scope.$$postDigest(flushOnChangesQueue);onChangesQueue=[]}if(!changes){changes={};onChangesQueue.push(triggerOnChangesHook)}if(changes[key])previousValue=changes[key].previousValue;changes[key]=new SimpleChange(previousValue,currentValue)}}function triggerOnChangesHook(){destination.$onChanges(changes);changes=undefined}return{initialChanges:initialChanges,removeWatches:removeWatchCollection.length&&
function removeWatches(){for(var i=0,ii=removeWatchCollection.length;i<ii;++i)removeWatchCollection[i]()}}}}]}function SimpleChange(previous,current){this.previousValue=previous;this.currentValue=current}SimpleChange.prototype.isFirstChange=function(){return this.previousValue===_UNINITIALIZED_VALUE};var PREFIX_REGEXP=/^((?:x|data)[:\-_])/i;var SPECIAL_CHARS_REGEXP=/[:\-_]+(.)/g;function directiveNormalize(name){return name.replace(PREFIX_REGEXP,"").replace(SPECIAL_CHARS_REGEXP,function(_,letter,
offset){return offset?letter.toUpperCase():letter})}function nodesetLinkingFn(scope,nodeList,rootElement,boundTranscludeFn){}function directiveLinkingFn(nodesetLinkingFn,scope,node,rootElement,boundTranscludeFn){}function tokenDifference(str1,str2){var values="",tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(var i=0;i<tokens1.length;i++){var token=tokens1[i];for(var j=0;j<tokens2.length;j++)if(token===tokens2[j])continue outer;values+=(values.length>0?" ":"")+token}return values}function removeComments(jqNodes){jqNodes=
jqLite(jqNodes);var i=jqNodes.length;if(i<=1)return jqNodes;while(i--){var node=jqNodes[i];if(node.nodeType===NODE_TYPE_COMMENT||node.nodeType===NODE_TYPE_TEXT&&node.nodeValue.trim()==="")splice.call(jqNodes,i,1)}return jqNodes}var $controllerMinErr=minErr("$controller");var CNTRL_REG=/^(\S+)(\s+as\s+([\w$]+))?$/;function identifierForController(controller,ident){if(ident&&isString(ident))return ident;if(isString(controller)){var match=CNTRL_REG.exec(controller);if(match)return match[3]}}function $ControllerProvider(){var controllers=
{};this.has=function(name){return controllers.hasOwnProperty(name)};this.register=function(name,constructor){assertNotHasOwnProperty(name,"controller");if(isObject(name))extend(controllers,name);else controllers[name]=constructor};this.$get=["$injector",function($injector){return function $controller(expression,locals,later,ident){var instance,match,constructor,identifier;later=later===true;if(ident&&isString(ident))identifier=ident;if(isString(expression)){match=expression.match(CNTRL_REG);if(!match)throw $controllerMinErr("ctrlfmt",
"Badly formed controller string '{0}'. "+"Must match `__name__ as __id__` or `__name__`.",expression);constructor=match[1];identifier=identifier||match[3];expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,true);if(!expression)throw $controllerMinErr("ctrlreg","The controller with the name '{0}' is not registered.",constructor);assertArgFn(expression,constructor,true)}if(later){var controllerPrototype=(isArray(expression)?expression[expression.length-
1]:expression).prototype;instance=Object.create(controllerPrototype||null);if(identifier)addIdentifier(locals,identifier,instance,constructor||expression.name);return extend(function $controllerInit(){var result=$injector.invoke(expression,instance,locals,constructor);if(result!==instance&&(isObject(result)||isFunction(result))){instance=result;if(identifier)addIdentifier(locals,identifier,instance,constructor||expression.name)}return instance},{instance:instance,identifier:identifier})}instance=
$injector.instantiate(expression,locals,constructor);if(identifier)addIdentifier(locals,identifier,instance,constructor||expression.name);return instance};function addIdentifier(locals,identifier,instance,name){if(!(locals&&isObject(locals.$scope)))throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",name,identifier);locals.$scope[identifier]=instance}}]}function $DocumentProvider(){this.$get=["$window",function(window){return jqLite(window.document)}]}
function $$IsDocumentHiddenProvider(){this.$get=["$document","$rootScope",function($document,$rootScope){var doc=$document[0];var hidden=doc&&doc.hidden;$document.on("visibilitychange",changeListener);$rootScope.$on("$destroy",function(){$document.off("visibilitychange",changeListener)});function changeListener(){hidden=doc.hidden}return function(){return hidden}}]}function $ExceptionHandlerProvider(){this.$get=["$log",function($log){return function(exception,cause){$log.error.apply($log,arguments)}}]}
var $$ForceReflowProvider=function(){this.$get=["$document",function($document){return function(domNode){if(domNode){if(!domNode.nodeType&&domNode instanceof jqLite)domNode=domNode[0]}else domNode=$document[0].body;return domNode.offsetWidth+1}}]};var APPLICATION_JSON="application/json";var CONTENT_TYPE_APPLICATION_JSON={"Content-Type":APPLICATION_JSON+";charset\x3dutf-8"};var JSON_START=/^\[|^\{(?!\{)/;var JSON_ENDS={"[":/]$/,"{":/}$/};var JSON_PROTECTION_PREFIX=/^\)]\}',?\n/;var $httpMinErr=minErr("$http");
function serializeValue(v){if(isObject(v))return isDate(v)?v.toISOString():toJson(v);return v}function $HttpParamSerializerProvider(){this.$get=function(){return function ngParamSerializer(params){if(!params)return"";var parts=[];forEachSorted(params,function(value,key){if(value===null||isUndefined(value)||isFunction(value))return;if(isArray(value))forEach(value,function(v){parts.push(encodeUriQuery(key)+"\x3d"+encodeUriQuery(serializeValue(v)))});else parts.push(encodeUriQuery(key)+"\x3d"+encodeUriQuery(serializeValue(value)))});
return parts.join("\x26")}}}function $HttpParamSerializerJQLikeProvider(){this.$get=function(){return function jQueryLikeParamSerializer(params){if(!params)return"";var parts=[];serialize(params,"",true);return parts.join("\x26");function serialize(toSerialize,prefix,topLevel){if(isArray(toSerialize))forEach(toSerialize,function(value,index){serialize(value,prefix+"["+(isObject(value)?index:"")+"]")});else if(isObject(toSerialize)&&!isDate(toSerialize))forEachSorted(toSerialize,function(value,key){serialize(value,
prefix+(topLevel?"":"[")+key+(topLevel?"":"]"))});else{if(isFunction(toSerialize))toSerialize=toSerialize();parts.push(encodeUriQuery(prefix)+"\x3d"+(toSerialize==null?"":encodeUriQuery(serializeValue(toSerialize))))}}}}}function defaultHttpResponseTransform(data,headers){if(isString(data)){var tempData=data.replace(JSON_PROTECTION_PREFIX,"").trim();if(tempData){var contentType=headers("Content-Type");var hasJsonContentType=contentType&&contentType.indexOf(APPLICATION_JSON)===0;if(hasJsonContentType||
isJsonLike(tempData))try{data=fromJson(tempData)}catch(e){if(!hasJsonContentType)return data;throw $httpMinErr("baddata",'Data must be a valid JSON object. Received: "{0}". '+'Parse error: "{1}"',data,e);}}}return data}function isJsonLike(str){var jsonStart=str.match(JSON_START);return jsonStart&&JSON_ENDS[jsonStart[0]].test(str)}function parseHeaders(headers){var parsed=createMap(),i;function fillInParsed(key,val){if(key)parsed[key]=parsed[key]?parsed[key]+", "+val:val}if(isString(headers))forEach(headers.split("\n"),
function(line){i=line.indexOf(":");fillInParsed(lowercase(trim(line.substr(0,i))),trim(line.substr(i+1)))});else if(isObject(headers))forEach(headers,function(headerVal,headerKey){fillInParsed(lowercase(headerKey),trim(headerVal))});return parsed}function headersGetter(headers){var headersObj;return function(name){if(!headersObj)headersObj=parseHeaders(headers);if(name){var value=headersObj[lowercase(name)];if(value===undefined)value=null;return value}return headersObj}}function transformData(data,
headers,status,fns){if(isFunction(fns))return fns(data,headers,status);forEach(fns,function(fn){data=fn(data,headers,status)});return data}function isSuccess(status){return 200<=status&&status<300}function $HttpProvider(){var defaults=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(d){return isObject(d)&&!isFile(d)&&!isBlob(d)&&!isFormData(d)?toJson(d):d}],headers:{common:{"Accept":"application/json, text/plain, */*"},post:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),
put:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),patch:shallowCopy(CONTENT_TYPE_APPLICATION_JSON)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"};var useApplyAsync=false;this.useApplyAsync=function(value){if(isDefined(value)){useApplyAsync=!!value;return this}return useApplyAsync};var interceptorFactories=this.interceptors=[];var xsrfTrustedOrigins=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",
{get:function(){return this.xsrfTrustedOrigins},set:function(origins){this.xsrfTrustedOrigins=origins}});this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function($browser,$httpBackend,$$cookieReader,$cacheFactory,$rootScope,$q,$injector,$sce){var defaultCache=$cacheFactory("$http");defaults.paramSerializer=isString(defaults.paramSerializer)?$injector.get(defaults.paramSerializer):defaults.paramSerializer;var reversedInterceptors=[];forEach(interceptorFactories,
function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory))});var urlIsAllowedOrigin=urlIsAllowedOriginFactory(xsrfTrustedOrigins);function $http(requestConfig){if(!isObject(requestConfig))throw minErr("$http")("badreq","Http request configuration must be an object.  Received: {0}",requestConfig);if(!isString($sce.valueOf(requestConfig.url)))throw minErr("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",
requestConfig.url);var config=extend({method:"get",transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse,paramSerializer:defaults.paramSerializer,jsonpCallbackParam:defaults.jsonpCallbackParam},requestConfig);config.headers=mergeHeaders(requestConfig);config.method=uppercase(config.method);config.paramSerializer=isString(config.paramSerializer)?$injector.get(config.paramSerializer):config.paramSerializer;$browser.$$incOutstandingRequestCount("$http");var requestInterceptors=
[];var responseInterceptors=[];var promise=$q.resolve(config);forEach(reversedInterceptors,function(interceptor){if(interceptor.request||interceptor.requestError)requestInterceptors.unshift(interceptor.request,interceptor.requestError);if(interceptor.response||interceptor.responseError)responseInterceptors.push(interceptor.response,interceptor.responseError)});promise=chainInterceptors(promise,requestInterceptors);promise=promise.then(serverRequest);promise=chainInterceptors(promise,responseInterceptors);
promise=promise.finally(completeOutstandingRequest);return promise;function chainInterceptors(promise,interceptors){for(var i=0,ii=interceptors.length;i<ii;){var thenFn=interceptors[i++];var rejectFn=interceptors[i++];promise=promise.then(thenFn,rejectFn)}interceptors.length=0;return promise}function completeOutstandingRequest(){$browser.$$completeOutstandingRequest(noop,"$http")}function executeHeaderFns(headers,config){var headerContent,processedHeaders={};forEach(headers,function(headerFn,header){if(isFunction(headerFn)){headerContent=
headerFn(config);if(headerContent!=null)processedHeaders[header]=headerContent}else processedHeaders[header]=headerFn});return processedHeaders}function mergeHeaders(config){var defHeaders=defaults.headers,reqHeaders=extend({},config.headers),defHeaderName,lowercaseDefHeaderName,reqHeaderName;defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]);defaultHeadersIteration:for(defHeaderName in defHeaders){lowercaseDefHeaderName=lowercase(defHeaderName);for(reqHeaderName in reqHeaders)if(lowercase(reqHeaderName)===
lowercaseDefHeaderName)continue defaultHeadersIteration;reqHeaders[defHeaderName]=defHeaders[defHeaderName]}return executeHeaderFns(reqHeaders,shallowCopy(config))}function serverRequest(config){var headers=config.headers;var reqData=transformData(config.data,headersGetter(headers),undefined,config.transformRequest);if(isUndefined(reqData))forEach(headers,function(value,header){if(lowercase(header)==="content-type")delete headers[header]});if(isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials))config.withCredentials=
defaults.withCredentials;return sendReq(config,reqData).then(transformResponse,transformResponse)}function transformResponse(response){var resp=extend({},response);resp.data=transformData(response.data,response.headers,response.status,config.transformResponse);return isSuccess(response.status)?resp:$q.reject(resp)}}$http.pendingRequests=[];createShortMethods("get","delete","head","jsonp");createShortMethodsWithData("post","put","patch");$http.defaults=defaults;return $http;function createShortMethods(names){forEach(arguments,
function(name){$http[name]=function(url,config){return $http(extend({},config||{},{method:name,url:url}))}})}function createShortMethodsWithData(name){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend({},config||{},{method:name,url:url,data:data}))}})}function sendReq(config,reqData){var deferred=$q.defer(),promise=deferred.promise,cache,cachedResp,reqHeaders=config.headers,isJsonp=lowercase(config.method)==="jsonp",url=config.url;if(isJsonp)url=$sce.getTrustedResourceUrl(url);
else if(!isString(url))url=$sce.valueOf(url);url=buildUrl(url,config.paramSerializer(config.params));if(isJsonp)url=sanitizeJsonpCallbackParam(url,config.jsonpCallbackParam);$http.pendingRequests.push(config);promise.then(removePendingReq,removePendingReq);if((config.cache||defaults.cache)&&config.cache!==false&&(config.method==="GET"||config.method==="JSONP"))cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache;if(cache){cachedResp=cache.get(url);if(isDefined(cachedResp))if(isPromiseLike(cachedResp))cachedResp.then(resolvePromiseWithResult,
resolvePromiseWithResult);else if(isArray(cachedResp))resolvePromise(cachedResp[1],cachedResp[0],shallowCopy(cachedResp[2]),cachedResp[3],cachedResp[4]);else resolvePromise(cachedResp,200,{},"OK","complete");else cache.put(url,promise)}if(isUndefined(cachedResp)){var xsrfValue=urlIsAllowedOrigin(config.url)?$$cookieReader()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;if(xsrfValue)reqHeaders[config.xsrfHeaderName||defaults.xsrfHeaderName]=xsrfValue;$httpBackend(config.method,url,reqData,
done,reqHeaders,config.timeout,config.withCredentials,config.responseType,createApplyHandlers(config.eventHandlers),createApplyHandlers(config.uploadEventHandlers))}return promise;function createApplyHandlers(eventHandlers){if(eventHandlers){var applyHandlers={};forEach(eventHandlers,function(eventHandler,key){applyHandlers[key]=function(event){if(useApplyAsync)$rootScope.$applyAsync(callEventHandler);else if($rootScope.$$phase)callEventHandler();else $rootScope.$apply(callEventHandler);function callEventHandler(){eventHandler(event)}
}});return applyHandlers}}function done(status,response,headersString,statusText,xhrStatus){if(cache)if(isSuccess(status))cache.put(url,[status,response,parseHeaders(headersString),statusText,xhrStatus]);else cache.remove(url);function resolveHttpPromise(){resolvePromise(response,status,headersString,statusText,xhrStatus)}if(useApplyAsync)$rootScope.$applyAsync(resolveHttpPromise);else{resolveHttpPromise();if(!$rootScope.$$phase)$rootScope.$apply()}}function resolvePromise(response,status,headers,
statusText,xhrStatus){status=status>=-1?status:0;(isSuccess(status)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config,statusText:statusText,xhrStatus:xhrStatus})}function resolvePromiseWithResult(result){resolvePromise(result.data,result.status,shallowCopy(result.headers()),result.statusText,result.xhrStatus)}function removePendingReq(){var idx=$http.pendingRequests.indexOf(config);if(idx!==-1)$http.pendingRequests.splice(idx,1)}}function buildUrl(url,
serializedParams){if(serializedParams.length>0)url+=(url.indexOf("?")===-1?"?":"\x26")+serializedParams;return url}function sanitizeJsonpCallbackParam(url,cbKey){var parts=url.split("?");if(parts.length>2)throw $httpMinErr("badjsonp",'Illegal use more than one "?", in url, "{1}"',url);var params=parseKeyValue(parts[1]);forEach(params,function(value,key){if(value==="JSON_CALLBACK")throw $httpMinErr("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',url);if(key===cbKey)throw $httpMinErr("badjsonp",
'Illegal use of callback param, "{0}", in url, "{1}"',cbKey,url);});url+=(url.indexOf("?")===-1?"?":"\x26")+cbKey+"\x3dJSON_CALLBACK";return url}}]}function $xhrFactoryProvider(){this.$get=function(){return function createXhr(){return new window.XMLHttpRequest}}}function $HttpBackendProvider(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function($browser,$jsonpCallbacks,$document,$xhrFactory){return createHttpBackend($browser,$xhrFactory,$browser.defer,$jsonpCallbacks,$document[0])}]}
function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){return function(method,url,post,callback,headers,timeout,withCredentials,responseType,eventHandlers,uploadEventHandlers){url=url||$browser.url();if(lowercase(method)==="jsonp"){var callbackPath=callbacks.createCallback(url);var jsonpDone=jsonpReq(url,callbackPath,function(status,text){var response=status===200&&callbacks.getResponse(callbackPath);completeRequest(callback,status,response,"",text,"complete");callbacks.removeCallback(callbackPath)})}else{var xhr=
createXhr(method,url);var abortedByTimeout=false;xhr.open(method,url,true);forEach(headers,function(value,key){if(isDefined(value))xhr.setRequestHeader(key,value)});xhr.onload=function requestLoaded(){var statusText=xhr.statusText||"";var response="response"in xhr?xhr.response:xhr.responseText;var status=xhr.status===1223?204:xhr.status;if(status===0)status=response?200:urlResolve(url).protocol==="file"?404:0;completeRequest(callback,status,response,xhr.getAllResponseHeaders(),statusText,"complete")};
var requestError=function(){completeRequest(callback,-1,null,null,"","error")};var requestAborted=function(){completeRequest(callback,-1,null,null,"",abortedByTimeout?"timeout":"abort")};var requestTimeout=function(){completeRequest(callback,-1,null,null,"","timeout")};xhr.onerror=requestError;xhr.ontimeout=requestTimeout;xhr.onabort=requestAborted;forEach(eventHandlers,function(value,key){xhr.addEventListener(key,value)});forEach(uploadEventHandlers,function(value,key){xhr.upload.addEventListener(key,
value)});if(withCredentials)xhr.withCredentials=true;if(responseType)try{xhr.responseType=responseType}catch(e){if(responseType!=="json")throw e;}xhr.send(isUndefined(post)?null:post)}if(timeout>0)var timeoutId=$browserDefer(function(){timeoutRequest("timeout")},timeout);else if(isPromiseLike(timeout))timeout.then(function(){timeoutRequest(isDefined(timeout.$$timeoutId)?"timeout":"abort")});function timeoutRequest(reason){abortedByTimeout=reason==="timeout";if(jsonpDone)jsonpDone();if(xhr)xhr.abort()}
function completeRequest(callback,status,response,headersString,statusText,xhrStatus){if(isDefined(timeoutId))$browserDefer.cancel(timeoutId);jsonpDone=xhr=null;callback(status,response,headersString,statusText,xhrStatus)}};function jsonpReq(url,callbackPath,done){url=url.replace("JSON_CALLBACK",callbackPath);var script=rawDocument.createElement("script"),callback=null;script.type="text/javascript";script.src=url;script.async=true;callback=function(event){script.removeEventListener("load",callback);
script.removeEventListener("error",callback);rawDocument.body.removeChild(script);script=null;var status=-1;var text="unknown";if(event){if(event.type==="load"&&!callbacks.wasCalled(callbackPath))event={type:"error"};text=event.type;status=event.type==="error"?404:200}if(done)done(status,text)};script.addEventListener("load",callback);script.addEventListener("error",callback);rawDocument.body.appendChild(script);return callback}}var $interpolateMinErr=angular.$interpolateMinErr=minErr("$interpolate");
$interpolateMinErr.throwNoconcat=function(text){throw $interpolateMinErr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows "+"interpolations that concatenate multiple expressions when a trusted value is "+"required.  See https://docs.angularjs.xlts.dev/api/ng/service/$sce",text);};$interpolateMinErr.interr=function(text,err){return $interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString())};function $InterpolateProvider(){var startSymbol="{{";var endSymbol=
"}}";this.startSymbol=function(value){if(value){startSymbol=value;return this}return startSymbol};this.endSymbol=function(value){if(value){endSymbol=value;return this}return endSymbol};this.$get=["$parse","$exceptionHandler","$sce",function($parse,$exceptionHandler,$sce){var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length,escapedStartRegexp=new RegExp(startSymbol.replace(/./g,escape),"g"),escapedEndRegexp=new RegExp(endSymbol.replace(/./g,escape),"g");function escape(ch){return"\\\\\\"+
ch}function unescapeText(text){return text.replace(escapedStartRegexp,startSymbol).replace(escapedEndRegexp,endSymbol)}function constantWatchDelegate(scope,listener,objectEquality,constantInterp){var unwatch=scope.$watch(function constantInterpolateWatch(scope){unwatch();return constantInterp(scope)},listener,objectEquality);return unwatch}function $interpolate(text,mustHaveExpression,trustedContext,allOrNothing){var contextAllowsConcatenation=trustedContext===$sce.URL||trustedContext===$sce.MEDIA_URL;
if(!text.length||text.indexOf(startSymbol)===-1){if(mustHaveExpression)return;var unescapedText=unescapeText(text);if(contextAllowsConcatenation)unescapedText=$sce.getTrusted(trustedContext,unescapedText);var constantInterp=valueFn(unescapedText);constantInterp.exp=text;constantInterp.expressions=[];constantInterp.$$watchDelegate=constantWatchDelegate;return constantInterp}allOrNothing=!!allOrNothing;var startIndex,endIndex,index=0,expressions=[],parseFns,textLength=text.length,exp,concat=[],expressionPositions=
[],singleExpression;while(index<textLength)if((startIndex=text.indexOf(startSymbol,index))!==-1&&(endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))!==-1){if(index!==startIndex)concat.push(unescapeText(text.substring(index,startIndex)));exp=text.substring(startIndex+startSymbolLength,endIndex);expressions.push(exp);index=endIndex+endSymbolLength;expressionPositions.push(concat.length);concat.push("")}else{if(index!==textLength)concat.push(unescapeText(text.substring(index)));break}singleExpression=
concat.length===1&&expressionPositions.length===1;var interceptor=contextAllowsConcatenation&&singleExpression?undefined:parseStringifyInterceptor;parseFns=expressions.map(function(exp){return $parse(exp,interceptor)});if(!mustHaveExpression||expressions.length){var compute=function(values){for(var i=0,ii=expressions.length;i<ii;i++){if(allOrNothing&&isUndefined(values[i]))return;concat[expressionPositions[i]]=values[i]}if(contextAllowsConcatenation)return $sce.getTrusted(trustedContext,singleExpression?
concat[0]:concat.join(""));else if(trustedContext&&concat.length>1)$interpolateMinErr.throwNoconcat(text);return concat.join("")};return extend(function interpolationFn(context){var i=0;var ii=expressions.length;var values=new Array(ii);try{for(;i<ii;i++)values[i]=parseFns[i](context);return compute(values)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}},{exp:text,expressions:expressions,$$watchDelegate:function(scope,listener){var lastValue;return scope.$watchGroup(parseFns,function interpolateFnWatcher(values,
oldValues){var currValue=compute(values);listener.call(this,currValue,values!==oldValues?lastValue:currValue,scope);lastValue=currValue})}})}function parseStringifyInterceptor(value){try{value=trustedContext&&!contextAllowsConcatenation?$sce.getTrusted(trustedContext,value):$sce.valueOf(value);return allOrNothing&&!isDefined(value)?value:stringify(value)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}}}$interpolate.startSymbol=function(){return startSymbol};$interpolate.endSymbol=
function(){return endSymbol};return $interpolate}]}var $intervalMinErr=minErr("$interval");function $IntervalProvider(){this.$get=["$$intervalFactory","$window",function($$intervalFactory,$window){var intervals={};var setIntervalFn=function(tick,delay,deferred){var id=$window.setInterval(tick,delay);intervals[id]=deferred;return id};var clearIntervalFn=function(id){$window.clearInterval(id);delete intervals[id]};var interval=$$intervalFactory(setIntervalFn,clearIntervalFn);interval.cancel=function(promise){if(!promise)return false;
if(!promise.hasOwnProperty("$$intervalId"))throw $intervalMinErr("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!intervals.hasOwnProperty(promise.$$intervalId))return false;var id=promise.$$intervalId;var deferred=intervals[id];markQExceptionHandled(deferred.promise);deferred.reject("canceled");clearIntervalFn(id);return true};return interval}]}function $$IntervalFactoryProvider(){this.$get=["$browser","$q","$$q","$rootScope",function($browser,
$q,$$q,$rootScope){return function intervalFactory(setIntervalFn,clearIntervalFn){return function intervalFn(fn,delay,count,invokeApply){var hasParams=arguments.length>4,args=hasParams?sliceArgs(arguments,4):[],iteration=0,skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;count=isDefined(count)?count:0;function callback(){if(!hasParams)fn(iteration);else fn.apply(null,args)}function tick(){if(skipApply)$browser.defer(callback);else $rootScope.$evalAsync(callback);
deferred.notify(iteration++);if(count>0&&iteration>=count){deferred.resolve(iteration);clearIntervalFn(promise.$$intervalId)}if(!skipApply)$rootScope.$apply()}promise.$$intervalId=setIntervalFn(tick,delay,deferred,skipApply);return promise}}}]}var $jsonpCallbacksProvider=function(){this.$get=function(){var callbacks=angular.callbacks;var callbackMap={};function createCallback(callbackId){var callback=function(data){callback.data=data;callback.called=true};callback.id=callbackId;return callback}return{createCallback:function(url){var callbackId=
"_"+(callbacks.$$counter++).toString(36);var callbackPath="angular.callbacks."+callbackId;var callback=createCallback(callbackId);callbackMap[callbackPath]=callbacks[callbackId]=callback;return callbackPath},wasCalled:function(callbackPath){return callbackMap[callbackPath].called},getResponse:function(callbackPath){return callbackMap[callbackPath].data},removeCallback:function(callbackPath){var callback=callbackMap[callbackPath];delete callbacks[callback.id];delete callbackMap[callbackPath]}}}};var PATH_MATCH=
/^([^?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={"http":80,"https":443,"ftp":21};var $locationMinErr=minErr("$location");function encodePath(path){var segments=path.split("/"),i=segments.length;while(i--)segments[i]=encodeUriSegment(segments[i].replace(/%2F/g,"/"));return segments.join("/")}function decodePath(path,html5Mode){var segments=path.split("/"),i=segments.length;while(i--){segments[i]=decodeURIComponent(segments[i]);if(html5Mode)segments[i]=segments[i].replace(/\//g,"%2F")}return segments.join("/")}
function normalizePath(pathValue,searchValue,hashValue){var search=toKeyValue(searchValue),hash=hashValue?"#"+encodeUriSegment(hashValue):"",path=encodePath(pathValue);return path+(search?"?"+search:"")+hash}function parseAbsoluteUrl(absoluteUrl,locationObj){var parsedUrl=urlResolve(absoluteUrl);locationObj.$$protocol=parsedUrl.protocol;locationObj.$$host=parsedUrl.hostname;locationObj.$$port=toInt(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null}var DOUBLE_SLASH_REGEX=/^\s*[\\/]{2,}/;function parseAppUrl(url,
locationObj,html5Mode){if(DOUBLE_SLASH_REGEX.test(url))throw $locationMinErr("badpath",'Invalid url "{0}".',url);var prefixed=url.charAt(0)!=="/";if(prefixed)url="/"+url;var match=urlResolve(url);var path=prefixed&&match.pathname.charAt(0)==="/"?match.pathname.substring(1):match.pathname;locationObj.$$path=decodePath(path,html5Mode);locationObj.$$search=parseKeyValue(match.search);locationObj.$$hash=decodeURIComponent(match.hash);if(locationObj.$$path&&locationObj.$$path.charAt(0)!=="/")locationObj.$$path=
"/"+locationObj.$$path}function startsWith(str,search){return str.slice(0,search.length)===search}function stripBaseUrl(base,url){if(startsWith(url,base))return url.substr(base.length)}function stripHash(url){var index=url.indexOf("#");return index===-1?url:url.substr(0,index)}function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf("/")+1)}function serverBase(url){return url.substring(0,url.indexOf("/",url.indexOf("//")+2))}function LocationHtml5Url(appBase,appBaseNoFile,basePrefix){this.$$html5=
true;basePrefix=basePrefix||"";parseAbsoluteUrl(appBase,this);this.$$parse=function(url){var pathUrl=stripBaseUrl(appBaseNoFile,url);if(!isString(pathUrl))throw $locationMinErr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile);parseAppUrl(pathUrl,this,true);if(!this.$$path)this.$$path="/";this.$$compose()};this.$$normalizeUrl=function(url){return appBaseNoFile+url.substr(1)};this.$$parseLinkUrl=function(url,relHref){if(relHref&&relHref[0]==="#"){this.hash(relHref.slice(1));
return true}var appUrl,prevAppUrl;var rewrittenUrl;if(isDefined(appUrl=stripBaseUrl(appBase,url))){prevAppUrl=appUrl;if(basePrefix&&isDefined(appUrl=stripBaseUrl(basePrefix,appUrl)))rewrittenUrl=appBaseNoFile+(stripBaseUrl("/",appUrl)||appUrl);else rewrittenUrl=appBase+prevAppUrl}else if(isDefined(appUrl=stripBaseUrl(appBaseNoFile,url)))rewrittenUrl=appBaseNoFile+appUrl;else if(appBaseNoFile===url+"/")rewrittenUrl=appBaseNoFile;if(rewrittenUrl)this.$$parse(rewrittenUrl);return!!rewrittenUrl}}function LocationHashbangUrl(appBase,
appBaseNoFile,hashPrefix){parseAbsoluteUrl(appBase,this);this.$$parse=function(url){var withoutBaseUrl=stripBaseUrl(appBase,url)||stripBaseUrl(appBaseNoFile,url);var withoutHashUrl;if(!isUndefined(withoutBaseUrl)&&withoutBaseUrl.charAt(0)==="#"){withoutHashUrl=stripBaseUrl(hashPrefix,withoutBaseUrl);if(isUndefined(withoutHashUrl))withoutHashUrl=withoutBaseUrl}else if(this.$$html5)withoutHashUrl=withoutBaseUrl;else{withoutHashUrl="";if(isUndefined(withoutBaseUrl)){appBase=url;this.replace()}}parseAppUrl(withoutHashUrl,
this,false);this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase);this.$$compose();function removeWindowsDriveName(path,url,base){var windowsFilePathExp=/^\/[A-Z]:(\/.*)/;var firstPathSegmentMatch;if(startsWith(url,base))url=url.replace(base,"");if(windowsFilePathExp.exec(url))return path;firstPathSegmentMatch=windowsFilePathExp.exec(path);return firstPathSegmentMatch?firstPathSegmentMatch[1]:path}};this.$$normalizeUrl=function(url){return appBase+(url?hashPrefix+url:"")};this.$$parseLinkUrl=
function(url,relHref){if(stripHash(appBase)===stripHash(url)){this.$$parse(url);return true}return false}}function LocationHashbangInHtml5Url(appBase,appBaseNoFile,hashPrefix){this.$$html5=true;LocationHashbangUrl.apply(this,arguments);this.$$parseLinkUrl=function(url,relHref){if(relHref&&relHref[0]==="#"){this.hash(relHref.slice(1));return true}var rewrittenUrl;var appUrl;if(appBase===stripHash(url))rewrittenUrl=url;else if(appUrl=stripBaseUrl(appBaseNoFile,url))rewrittenUrl=appBase+hashPrefix+appUrl;
else if(appBaseNoFile===url+"/")rewrittenUrl=appBaseNoFile;if(rewrittenUrl)this.$$parse(rewrittenUrl);return!!rewrittenUrl};this.$$normalizeUrl=function(url){return appBase+hashPrefix+url}}var locationPrototype={$$absUrl:"",$$html5:false,$$replace:false,$$compose:function(){this.$$url=normalizePath(this.$$path,this.$$search,this.$$hash);this.$$absUrl=this.$$normalizeUrl(this.$$url);this.$$urlUpdatedByLocation=true},absUrl:locationGetter("$$absUrl"),url:function(url){if(isUndefined(url))return this.$$url;
var match=PATH_MATCH.exec(url);if(match[1]||url==="")this.path(decodeURIComponent(match[1]));if(match[2]||match[1]||url==="")this.search(match[3]||"");this.hash(match[5]||"");return this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(path){path=path!==null?path.toString():"";return path.charAt(0)==="/"?path:"/"+path}),search:function(search,paramValue){switch(arguments.length){case 0:return this.$$search;
case 1:if(isString(search)||isNumber(search)){search=search.toString();this.$$search=parseKeyValue(search)}else if(isObject(search)){search=copy(search,{});forEach(search,function(value,key){if(value==null)delete search[key]});this.$$search=search}else throw $locationMinErr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");break;default:if(isUndefined(paramValue)||paramValue===null)delete this.$$search[search];else this.$$search[search]=paramValue}this.$$compose();
return this},hash:locationGetterSetter("$$hash",function(hash){return hash!==null?hash.toString():""}),replace:function(){this.$$replace=true;return this}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(Location){Location.prototype=Object.create(locationPrototype);Location.prototype.state=function(state){if(!arguments.length)return this.$$state;if(Location!==LocationHtml5Url||!this.$$html5)throw $locationMinErr("nostate","History API state support is available only "+
"in HTML5 mode and only in browsers supporting HTML5 History API");this.$$state=isUndefined(state)?null:state;this.$$urlUpdatedByLocation=true;return this}});function locationGetter(property){return function(){return this[property]}}function locationGetterSetter(property,preprocess){return function(value){if(isUndefined(value))return this[property];this[property]=preprocess(value);this.$$compose();return this}}function $LocationProvider(){var hashPrefix="!",html5Mode={enabled:false,requireBase:true,
rewriteLinks:true};this.hashPrefix=function(prefix){if(isDefined(prefix)){hashPrefix=prefix;return this}else return hashPrefix};this.html5Mode=function(mode){if(isBoolean(mode)){html5Mode.enabled=mode;return this}else if(isObject(mode)){if(isBoolean(mode.enabled))html5Mode.enabled=mode.enabled;if(isBoolean(mode.requireBase))html5Mode.requireBase=mode.requireBase;if(isBoolean(mode.rewriteLinks)||isString(mode.rewriteLinks))html5Mode.rewriteLinks=mode.rewriteLinks;return this}else return html5Mode};
this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function($rootScope,$browser,$sniffer,$rootElement,$window){var $location,LocationMode,baseHref=$browser.baseHref(),initialUrl=$browser.url(),appBase;if(html5Mode.enabled){if(!baseHref&&html5Mode.requireBase)throw $locationMinErr("nobase","$location in HTML5 mode requires a \x3cbase\x3e tag to be present!");appBase=serverBase(initialUrl)+(baseHref||"/");LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url}else{appBase=
stripHash(initialUrl);LocationMode=LocationHashbangUrl}var appBaseNoFile=stripFile(appBase);$location=new LocationMode(appBase,appBaseNoFile,"#"+hashPrefix);$location.$$parseLinkUrl(initialUrl,initialUrl);$location.$$state=$browser.state();var IGNORE_URI_REGEXP=/^\s*(javascript|mailto):/i;function urlsEqual(a,b){return a===b||urlResolve(a).href===urlResolve(b).href}function setBrowserUrlWithFallback(url,replace,state){var oldUrl=$location.url();var oldState=$location.$$state;try{$browser.url(url,
replace,state);$location.$$state=$browser.state()}catch(e){$location.url(oldUrl);$location.$$state=oldState;throw e;}}$rootElement.on("click",function(event){var rewriteLinks=html5Mode.rewriteLinks;if(!rewriteLinks||event.ctrlKey||event.metaKey||event.shiftKey||event.which===2||event.button===2)return;var elm=jqLite(event.target);while(nodeName_(elm[0])!=="a")if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return;if(isString(rewriteLinks)&&isUndefined(elm.attr(rewriteLinks)))return;var absHref=
elm.prop("href");var relHref=elm.attr("href")||elm.attr("xlink:href");if(isObject(absHref)&&absHref.toString()==="[object SVGAnimatedString]")absHref=urlResolve(absHref.animVal).href;if(IGNORE_URI_REGEXP.test(absHref))return;if(absHref&&!elm.attr("target")&&!event.isDefaultPrevented())if($location.$$parseLinkUrl(absHref,relHref)){event.preventDefault();if($location.absUrl()!==$browser.url())$rootScope.$apply()}});if($location.absUrl()!==initialUrl)$browser.url($location.absUrl(),true);var initializing=
true;$browser.onUrlChange(function(newUrl,newState){if(!startsWith(newUrl,appBaseNoFile)){$window.location.href=newUrl;return}$rootScope.$evalAsync(function(){var oldUrl=$location.absUrl();var oldState=$location.$$state;var defaultPrevented;$location.$$parse(newUrl);$location.$$state=newState;defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,newState,oldState).defaultPrevented;if($location.absUrl()!==newUrl)return;if(defaultPrevented){$location.$$parse(oldUrl);$location.$$state=
oldState;setBrowserUrlWithFallback(oldUrl,false,oldState)}else{initializing=false;afterLocationChange(oldUrl,oldState)}});if(!$rootScope.$$phase)$rootScope.$digest()});$rootScope.$watch(function $locationWatch(){if(initializing||$location.$$urlUpdatedByLocation){$location.$$urlUpdatedByLocation=false;var oldUrl=$browser.url();var newUrl=$location.absUrl();var oldState=$browser.state();var currentReplace=$location.$$replace;var urlOrStateChanged=!urlsEqual(oldUrl,newUrl)||$location.$$html5&&$sniffer.history&&
oldState!==$location.$$state;if(initializing||urlOrStateChanged){initializing=false;$rootScope.$evalAsync(function(){var newUrl=$location.absUrl();var defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,$location.$$state,oldState).defaultPrevented;if($location.absUrl()!==newUrl)return;if(defaultPrevented){$location.$$parse(oldUrl);$location.$$state=oldState}else{if(urlOrStateChanged)setBrowserUrlWithFallback(newUrl,currentReplace,oldState===$location.$$state?null:$location.$$state);
afterLocationChange(oldUrl,oldState)}})}}$location.$$replace=false});return $location;function afterLocationChange(oldUrl,oldState){$rootScope.$broadcast("$locationChangeSuccess",$location.absUrl(),oldUrl,$location.$$state,oldState)}}]}function $LogProvider(){var debug=true,self=this;this.debugEnabled=function(flag){if(isDefined(flag)){debug=flag;return this}else return debug};this.$get=["$window",function($window){var formatStackTrace=msie||/\bEdge\//.test($window.navigator&&$window.navigator.userAgent);
return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var fn=consoleLog("debug");return function(){if(debug)fn.apply(self,arguments)}}()};function formatError(arg){if(isError(arg))if(arg.stack&&formatStackTrace)arg=arg.message&&arg.stack.indexOf(arg.message)===-1?"Error: "+arg.message+"\n"+arg.stack:arg.stack;else if(arg.sourceURL)arg=arg.message+"\n"+arg.sourceURL+":"+arg.line;return arg}function consoleLog(type){var console=$window.console||
{},logFn=console[type]||console.log||noop;return function(){var args=[];forEach(arguments,function(arg){args.push(formatError(arg))});return Function.prototype.apply.call(logFn,console,args)}}}]}var $parseMinErr=minErr("$parse");var objectValueOf={}.constructor.prototype.valueOf;function getStringValue(name){return name+""}var OPERATORS=createMap();forEach("+ - * / % \x3d\x3d\x3d !\x3d\x3d \x3d\x3d !\x3d \x3c \x3e \x3c\x3d \x3e\x3d \x26\x26 || ! \x3d |".split(" "),function(operator){OPERATORS[operator]=
true});var ESCAPE={"n":"\n","f":"\f","r":"\r","t":"\t","v":"\v","'":"'",'"':'"'};var Lexer=function Lexer(options){this.options=options};Lexer.prototype={constructor:Lexer,lex:function(text){this.text=text;this.index=0;this.tokens=[];while(this.index<this.text.length){var ch=this.text.charAt(this.index);if(ch==='"'||ch==="'")this.readString(ch);else if(this.isNumber(ch)||ch==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(ch,
"(){}[].,;:?")){this.tokens.push({index:this.index,text:ch});this.index++}else if(this.isWhitespace(ch))this.index++;else{var ch2=ch+this.peek();var ch3=ch2+this.peek(2);var op1=OPERATORS[ch];var op2=OPERATORS[ch2];var op3=OPERATORS[ch3];if(op1||op2||op3){var token=op3?ch3:op2?ch2:ch;this.tokens.push({index:this.index,text:token,operator:true});this.index+=token.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(ch,chars){return chars.indexOf(ch)!==
-1},peek:function(i){var num=i||1;return this.index+num<this.text.length?this.text.charAt(this.index+num):false},isNumber:function(ch){return"0"<=ch&&ch<="9"&&typeof ch==="string"},isWhitespace:function(ch){return ch===" "||ch==="\r"||ch==="\t"||ch==="\n"||ch==="\v"||ch==="\u00a0"},isIdentifierStart:function(ch){return this.options.isIdentifierStart?this.options.isIdentifierStart(ch,this.codePointAt(ch)):this.isValidIdentifierStart(ch)},isValidIdentifierStart:function(ch){return"a"<=ch&&ch<="z"||
"A"<=ch&&ch<="Z"||"_"===ch||ch==="$"},isIdentifierContinue:function(ch){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(ch,this.codePointAt(ch)):this.isValidIdentifierContinue(ch)},isValidIdentifierContinue:function(ch,cp){return this.isValidIdentifierStart(ch,cp)||this.isNumber(ch)},codePointAt:function(ch){if(ch.length===1)return ch.charCodeAt(0);return(ch.charCodeAt(0)<<10)+ch.charCodeAt(1)-56613888},peekMultichar:function(){var ch=this.text.charAt(this.index);var peek=
this.peek();if(!peek)return ch;var cp1=ch.charCodeAt(0);var cp2=peek.charCodeAt(0);if(cp1>=55296&&cp1<=56319&&cp2>=56320&&cp2<=57343)return ch+peek;return ch},isExpOperator:function(ch){return ch==="-"||ch==="+"||this.isNumber(ch)},throwError:function(error,start,end){end=end||this.index;var colStr=isDefined(start)?"s "+start+"-"+this.index+" ["+this.text.substring(start,end)+"]":" "+end;throw $parseMinErr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",error,colStr,this.text);},readNumber:function(){var number=
"";var start=this.index;while(this.index<this.text.length){var ch=lowercase(this.text.charAt(this.index));if(ch==="."||this.isNumber(ch))number+=ch;else{var peekCh=this.peek();if(ch==="e"&&this.isExpOperator(peekCh))number+=ch;else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&number.charAt(number.length-1)==="e")number+=ch;else if(this.isExpOperator(ch)&&(!peekCh||!this.isNumber(peekCh))&&number.charAt(number.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:start,
text:number,constant:true,value:Number(number)})},readIdent:function(){var start=this.index;this.index+=this.peekMultichar().length;while(this.index<this.text.length){var ch=this.peekMultichar();if(!this.isIdentifierContinue(ch))break;this.index+=ch.length}this.tokens.push({index:start,text:this.text.slice(start,this.index),identifier:true})},readString:function(quote){var start=this.index;this.index++;var string="";var rawString=quote;var escape=false;while(this.index<this.text.length){var ch=this.text.charAt(this.index);
rawString+=ch;if(escape){if(ch==="u"){var hex=this.text.substring(this.index+1,this.index+5);if(!hex.match(/[\da-f]{4}/i))this.throwError("Invalid unicode escape [\\u"+hex+"]");this.index+=4;string+=String.fromCharCode(parseInt(hex,16))}else{var rep=ESCAPE[ch];string=string+(rep||ch)}escape=false}else if(ch==="\\")escape=true;else if(ch===quote){this.index++;this.tokens.push({index:start,text:rawString,constant:true,value:string});return}else string+=ch;this.index++}this.throwError("Unterminated quote",
start)}};var AST=function AST(lexer,options){this.lexer=lexer;this.options=options};AST.Program="Program";AST.ExpressionStatement="ExpressionStatement";AST.AssignmentExpression="AssignmentExpression";AST.ConditionalExpression="ConditionalExpression";AST.LogicalExpression="LogicalExpression";AST.BinaryExpression="BinaryExpression";AST.UnaryExpression="UnaryExpression";AST.CallExpression="CallExpression";AST.MemberExpression="MemberExpression";AST.Identifier="Identifier";AST.Literal="Literal";AST.ArrayExpression=
"ArrayExpression";AST.Property="Property";AST.ObjectExpression="ObjectExpression";AST.ThisExpression="ThisExpression";AST.LocalsExpression="LocalsExpression";AST.NGValueParameter="NGValueParameter";AST.prototype={ast:function(text){this.text=text;this.tokens=this.lexer.lex(text);var value=this.program();if(this.tokens.length!==0)this.throwError("is an unexpected token",this.tokens[0]);return value},program:function(){var body=[];while(true){if(this.tokens.length>0&&!this.peek("}",")",";","]"))body.push(this.expressionStatement());
if(!this.expect(";"))return{type:AST.Program,body:body}}},expressionStatement:function(){return{type:AST.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){var left=this.expression();while(this.expect("|"))left=this.filter(left);return left},expression:function(){return this.assignment()},assignment:function(){var result=this.ternary();if(this.expect("\x3d")){if(!isAssignable(result))throw $parseMinErr("lval","Trying to assign a value to a non l-value");result={type:AST.AssignmentExpression,
left:result,right:this.assignment(),operator:"\x3d"}}return result},ternary:function(){var test=this.logicalOR();var alternate;var consequent;if(this.expect("?")){alternate=this.expression();if(this.consume(":")){consequent=this.expression();return{type:AST.ConditionalExpression,test:test,alternate:alternate,consequent:consequent}}}return test},logicalOR:function(){var left=this.logicalAND();while(this.expect("||"))left={type:AST.LogicalExpression,operator:"||",left:left,right:this.logicalAND()};
return left},logicalAND:function(){var left=this.equality();while(this.expect("\x26\x26"))left={type:AST.LogicalExpression,operator:"\x26\x26",left:left,right:this.equality()};return left},equality:function(){var left=this.relational();var token;while(token=this.expect("\x3d\x3d","!\x3d","\x3d\x3d\x3d","!\x3d\x3d"))left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.relational()};return left},relational:function(){var left=this.additive();var token;while(token=this.expect("\x3c",
"\x3e","\x3c\x3d","\x3e\x3d"))left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.additive()};return left},additive:function(){var left=this.multiplicative();var token;while(token=this.expect("+","-"))left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.multiplicative()};return left},multiplicative:function(){var left=this.unary();var token;while(token=this.expect("*","/","%"))left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.unary()};
return left},unary:function(){var token;if(token=this.expect("+","-","!"))return{type:AST.UnaryExpression,operator:token.text,prefix:true,argument:this.unary()};else return this.primary()},primary:function(){var primary;if(this.expect("(")){primary=this.filterChain();this.consume(")")}else if(this.expect("["))primary=this.arrayDeclaration();else if(this.expect("{"))primary=this.object();else if(this.selfReferential.hasOwnProperty(this.peek().text))primary=copy(this.selfReferential[this.consume().text]);
else if(this.options.literals.hasOwnProperty(this.peek().text))primary={type:AST.Literal,value:this.options.literals[this.consume().text]};else if(this.peek().identifier)primary=this.identifier();else if(this.peek().constant)primary=this.constant();else this.throwError("not a primary expression",this.peek());var next;while(next=this.expect("(","[","."))if(next.text==="("){primary={type:AST.CallExpression,callee:primary,arguments:this.parseArguments()};this.consume(")")}else if(next.text==="["){primary=
{type:AST.MemberExpression,object:primary,property:this.expression(),computed:true};this.consume("]")}else if(next.text===".")primary={type:AST.MemberExpression,object:primary,property:this.identifier(),computed:false};else this.throwError("IMPOSSIBLE");return primary},filter:function(baseExpression){var args=[baseExpression];var result={type:AST.CallExpression,callee:this.identifier(),arguments:args,filter:true};while(this.expect(":"))args.push(this.expression());return result},parseArguments:function(){var args=
[];if(this.peekToken().text!==")"){do args.push(this.filterChain());while(this.expect(","))}return args},identifier:function(){var token=this.consume();if(!token.identifier)this.throwError("is not a valid identifier",token);return{type:AST.Identifier,name:token.text}},constant:function(){return{type:AST.Literal,value:this.consume().value}},arrayDeclaration:function(){var elements=[];if(this.peekToken().text!=="]"){do{if(this.peek("]"))break;elements.push(this.expression())}while(this.expect(","))
}this.consume("]");return{type:AST.ArrayExpression,elements:elements}},object:function(){var properties=[],property;if(this.peekToken().text!=="}"){do{if(this.peek("}"))break;property={type:AST.Property,kind:"init"};if(this.peek().constant){property.key=this.constant();property.computed=false;this.consume(":");property.value=this.expression()}else if(this.peek().identifier){property.key=this.identifier();property.computed=false;if(this.peek(":")){this.consume(":");property.value=this.expression()}else property.value=
property.key}else if(this.peek("[")){this.consume("[");property.key=this.expression();this.consume("]");property.computed=true;this.consume(":");property.value=this.expression()}else this.throwError("invalid key",this.peek());properties.push(property)}while(this.expect(","))}this.consume("}");return{type:AST.ObjectExpression,properties:properties}},throwError:function(msg,token){throw $parseMinErr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",token.text,
msg,token.index+1,this.text,this.text.substring(token.index));},consume:function(e1){if(this.tokens.length===0)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);var token=this.expect(e1);if(!token)this.throwError("is unexpected, expecting ["+e1+"]",this.peek());return token},peekToken:function(){if(this.tokens.length===0)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e1,e2,e3,e4){return this.peekAhead(0,e1,e2,e3,
e4)},peekAhead:function(i,e1,e2,e3,e4){if(this.tokens.length>i){var token=this.tokens[i];var t=token.text;if(t===e1||t===e2||t===e3||t===e4||!e1&&!e2&&!e3&&!e4)return token}return false},expect:function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);if(token){this.tokens.shift();return token}return false},selfReferential:{"this":{type:AST.ThisExpression},"$locals":{type:AST.LocalsExpression}}};function ifDefined(v,d){return typeof v!=="undefined"?v:d}function plusFn(l,r){if(typeof l==="undefined")return r;
if(typeof r==="undefined")return l;return l+r}function isStateless($filter,filterName){var fn=$filter(filterName);return!fn.$stateful}var PURITY_ABSOLUTE=1;var PURITY_RELATIVE=2;function isPure(node,parentIsPure){switch(node.type){case AST.MemberExpression:if(node.computed)return false;break;case AST.UnaryExpression:return PURITY_ABSOLUTE;case AST.BinaryExpression:return node.operator!=="+"?PURITY_ABSOLUTE:false;case AST.CallExpression:return false}return undefined===parentIsPure?PURITY_RELATIVE:
parentIsPure}function findConstantAndWatchExpressions(ast,$filter,parentIsPure){var allConstants;var argsToWatch;var isStatelessFilter;var astIsPure=ast.isPure=isPure(ast,parentIsPure);switch(ast.type){case AST.Program:allConstants=true;forEach(ast.body,function(expr){findConstantAndWatchExpressions(expr.expression,$filter,astIsPure);allConstants=allConstants&&expr.expression.constant});ast.constant=allConstants;break;case AST.Literal:ast.constant=true;ast.toWatch=[];break;case AST.UnaryExpression:findConstantAndWatchExpressions(ast.argument,
$filter,astIsPure);ast.constant=ast.argument.constant;ast.toWatch=ast.argument.toWatch;break;case AST.BinaryExpression:findConstantAndWatchExpressions(ast.left,$filter,astIsPure);findConstantAndWatchExpressions(ast.right,$filter,astIsPure);ast.constant=ast.left.constant&&ast.right.constant;ast.toWatch=ast.left.toWatch.concat(ast.right.toWatch);break;case AST.LogicalExpression:findConstantAndWatchExpressions(ast.left,$filter,astIsPure);findConstantAndWatchExpressions(ast.right,$filter,astIsPure);ast.constant=
ast.left.constant&&ast.right.constant;ast.toWatch=ast.constant?[]:[ast];break;case AST.ConditionalExpression:findConstantAndWatchExpressions(ast.test,$filter,astIsPure);findConstantAndWatchExpressions(ast.alternate,$filter,astIsPure);findConstantAndWatchExpressions(ast.consequent,$filter,astIsPure);ast.constant=ast.test.constant&&ast.alternate.constant&&ast.consequent.constant;ast.toWatch=ast.constant?[]:[ast];break;case AST.Identifier:ast.constant=false;ast.toWatch=[ast];break;case AST.MemberExpression:findConstantAndWatchExpressions(ast.object,
$filter,astIsPure);if(ast.computed)findConstantAndWatchExpressions(ast.property,$filter,astIsPure);ast.constant=ast.object.constant&&(!ast.computed||ast.property.constant);ast.toWatch=ast.constant?[]:[ast];break;case AST.CallExpression:isStatelessFilter=ast.filter?isStateless($filter,ast.callee.name):false;allConstants=isStatelessFilter;argsToWatch=[];forEach(ast.arguments,function(expr){findConstantAndWatchExpressions(expr,$filter,astIsPure);allConstants=allConstants&&expr.constant;argsToWatch.push.apply(argsToWatch,
expr.toWatch)});ast.constant=allConstants;ast.toWatch=isStatelessFilter?argsToWatch:[ast];break;case AST.AssignmentExpression:findConstantAndWatchExpressions(ast.left,$filter,astIsPure);findConstantAndWatchExpressions(ast.right,$filter,astIsPure);ast.constant=ast.left.constant&&ast.right.constant;ast.toWatch=[ast];break;case AST.ArrayExpression:allConstants=true;argsToWatch=[];forEach(ast.elements,function(expr){findConstantAndWatchExpressions(expr,$filter,astIsPure);allConstants=allConstants&&expr.constant;
argsToWatch.push.apply(argsToWatch,expr.toWatch)});ast.constant=allConstants;ast.toWatch=argsToWatch;break;case AST.ObjectExpression:allConstants=true;argsToWatch=[];forEach(ast.properties,function(property){findConstantAndWatchExpressions(property.value,$filter,astIsPure);allConstants=allConstants&&property.value.constant;argsToWatch.push.apply(argsToWatch,property.value.toWatch);if(property.computed){findConstantAndWatchExpressions(property.key,$filter,false);allConstants=allConstants&&property.key.constant;
argsToWatch.push.apply(argsToWatch,property.key.toWatch)}});ast.constant=allConstants;ast.toWatch=argsToWatch;break;case AST.ThisExpression:ast.constant=false;ast.toWatch=[];break;case AST.LocalsExpression:ast.constant=false;ast.toWatch=[];break}}function getInputs(body){if(body.length!==1)return;var lastExpression=body[0].expression;var candidate=lastExpression.toWatch;if(candidate.length!==1)return candidate;return candidate[0]!==lastExpression?candidate:undefined}function isAssignable(ast){return ast.type===
AST.Identifier||ast.type===AST.MemberExpression}function assignableAST(ast){if(ast.body.length===1&&isAssignable(ast.body[0].expression))return{type:AST.AssignmentExpression,left:ast.body[0].expression,right:{type:AST.NGValueParameter},operator:"\x3d"}}function isLiteral(ast){return ast.body.length===0||ast.body.length===1&&(ast.body[0].expression.type===AST.Literal||ast.body[0].expression.type===AST.ArrayExpression||ast.body[0].expression.type===AST.ObjectExpression)}function isConstant(ast){return ast.constant}
function ASTCompiler($filter){this.$filter=$filter}ASTCompiler.prototype={compile:function(ast){var self=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};findConstantAndWatchExpressions(ast,self.$filter);var extra="";var assignable;this.stage="assign";if(assignable=assignableAST(ast)){this.state.computing="assign";var result=this.nextId();this.recurse(assignable,result);this.return_(result);extra="fn.assign\x3d"+this.generateFunction("assign",
"s,v,l")}var toWatch=getInputs(ast.body);self.stage="inputs";forEach(toWatch,function(watch,key){var fnKey="fn"+key;self.state[fnKey]={vars:[],body:[],own:{}};self.state.computing=fnKey;var intoId=self.nextId();self.recurse(watch,intoId);self.return_(intoId);self.state.inputs.push({name:fnKey,isPure:watch.isPure});watch.watchId=key});this.state.computing="fn";this.stage="main";this.recurse(ast);var fnString='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn\x3d"+this.generateFunction("fn",
"s,l,a,i")+extra+this.watchFns()+"return fn;";var fn=(new Function("$filter","getStringValue","ifDefined","plus",fnString))(this.$filter,getStringValue,ifDefined,plusFn);this.state=this.stage=undefined;return fn},USE:"use",STRICT:"strict",watchFns:function(){var result=[];var inputs=this.state.inputs;var self=this;forEach(inputs,function(input){result.push("var "+input.name+"\x3d"+self.generateFunction(input.name,"s"));if(input.isPure)result.push(input.name,".isPure\x3d"+JSON.stringify(input.isPure)+
";")});if(inputs.length)result.push("fn.inputs\x3d["+inputs.map(function(i){return i.name}).join(",")+"];");return result.join("")},generateFunction:function(name,params){return"function("+params+"){"+this.varsPrefix(name)+this.body(name)+"};"},filterPrefix:function(){var parts=[];var self=this;forEach(this.state.filters,function(id,filter){parts.push(id+"\x3d$filter("+self.escape(filter)+")")});if(parts.length)return"var "+parts.join(",")+";";return""},varsPrefix:function(section){return this.state[section].vars.length?
"var "+this.state[section].vars.join(",")+";":""},body:function(section){return this.state[section].body.join("")},recurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var left,right,self=this,args,expression,computed;recursionFn=recursionFn||noop;if(!skipWatchIdCheck&&isDefined(ast.watchId)){intoId=intoId||this.nextId();this.if_("i",this.lazyAssign(intoId,this.computedMember("i",ast.watchId)),this.lazyRecurse(ast,intoId,nameId,recursionFn,create,true));return}switch(ast.type){case AST.Program:forEach(ast.body,
function(expression,pos){self.recurse(expression.expression,undefined,undefined,function(expr){right=expr});if(pos!==ast.body.length-1)self.current().body.push(right,";");else self.return_(right)});break;case AST.Literal:expression=this.escape(ast.value);this.assign(intoId,expression);recursionFn(intoId||expression);break;case AST.UnaryExpression:this.recurse(ast.argument,undefined,undefined,function(expr){right=expr});expression=ast.operator+"("+this.ifDefined(right,0)+")";this.assign(intoId,expression);
recursionFn(expression);break;case AST.BinaryExpression:this.recurse(ast.left,undefined,undefined,function(expr){left=expr});this.recurse(ast.right,undefined,undefined,function(expr){right=expr});if(ast.operator==="+")expression=this.plus(left,right);else if(ast.operator==="-")expression=this.ifDefined(left,0)+ast.operator+this.ifDefined(right,0);else expression="("+left+")"+ast.operator+"("+right+")";this.assign(intoId,expression);recursionFn(expression);break;case AST.LogicalExpression:intoId=intoId||
this.nextId();self.recurse(ast.left,intoId);self.if_(ast.operator==="\x26\x26"?intoId:self.not(intoId),self.lazyRecurse(ast.right,intoId));recursionFn(intoId);break;case AST.ConditionalExpression:intoId=intoId||this.nextId();self.recurse(ast.test,intoId);self.if_(intoId,self.lazyRecurse(ast.alternate,intoId),self.lazyRecurse(ast.consequent,intoId));recursionFn(intoId);break;case AST.Identifier:intoId=intoId||this.nextId();if(nameId){nameId.context=self.stage==="inputs"?"s":this.assign(this.nextId(),
this.getHasOwnProperty("l",ast.name)+"?l:s");nameId.computed=false;nameId.name=ast.name}self.if_(self.stage==="inputs"||self.not(self.getHasOwnProperty("l",ast.name)),function(){self.if_(self.stage==="inputs"||"s",function(){if(create&&create!==1)self.if_(self.isNull(self.nonComputedMember("s",ast.name)),self.lazyAssign(self.nonComputedMember("s",ast.name),"{}"));self.assign(intoId,self.nonComputedMember("s",ast.name))})},intoId&&self.lazyAssign(intoId,self.nonComputedMember("l",ast.name)));recursionFn(intoId);
break;case AST.MemberExpression:left=nameId&&(nameId.context=this.nextId())||this.nextId();intoId=intoId||this.nextId();self.recurse(ast.object,left,undefined,function(){self.if_(self.notNull(left),function(){if(ast.computed){right=self.nextId();self.recurse(ast.property,right);self.getStringValue(right);if(create&&create!==1)self.if_(self.not(self.computedMember(left,right)),self.lazyAssign(self.computedMember(left,right),"{}"));expression=self.computedMember(left,right);self.assign(intoId,expression);
if(nameId){nameId.computed=true;nameId.name=right}}else{if(create&&create!==1)self.if_(self.isNull(self.nonComputedMember(left,ast.property.name)),self.lazyAssign(self.nonComputedMember(left,ast.property.name),"{}"));expression=self.nonComputedMember(left,ast.property.name);self.assign(intoId,expression);if(nameId){nameId.computed=false;nameId.name=ast.property.name}}},function(){self.assign(intoId,"undefined")});recursionFn(intoId)},!!create);break;case AST.CallExpression:intoId=intoId||this.nextId();
if(ast.filter){right=self.filter(ast.callee.name);args=[];forEach(ast.arguments,function(expr){var argument=self.nextId();self.recurse(expr,argument);args.push(argument)});expression=right+"("+args.join(",")+")";self.assign(intoId,expression);recursionFn(intoId)}else{right=self.nextId();left={};args=[];self.recurse(ast.callee,right,left,function(){self.if_(self.notNull(right),function(){forEach(ast.arguments,function(expr){self.recurse(expr,ast.constant?undefined:self.nextId(),undefined,function(argument){args.push(argument)})});
if(left.name)expression=self.member(left.context,left.name,left.computed)+"("+args.join(",")+")";else expression=right+"("+args.join(",")+")";self.assign(intoId,expression)},function(){self.assign(intoId,"undefined")});recursionFn(intoId)})}break;case AST.AssignmentExpression:right=this.nextId();left={};this.recurse(ast.left,undefined,left,function(){self.if_(self.notNull(left.context),function(){self.recurse(ast.right,right);expression=self.member(left.context,left.name,left.computed)+ast.operator+
right;self.assign(intoId,expression);recursionFn(intoId||expression)})},1);break;case AST.ArrayExpression:args=[];forEach(ast.elements,function(expr){self.recurse(expr,ast.constant?undefined:self.nextId(),undefined,function(argument){args.push(argument)})});expression="["+args.join(",")+"]";this.assign(intoId,expression);recursionFn(intoId||expression);break;case AST.ObjectExpression:args=[];computed=false;forEach(ast.properties,function(property){if(property.computed)computed=true});if(computed){intoId=
intoId||this.nextId();this.assign(intoId,"{}");forEach(ast.properties,function(property){if(property.computed){left=self.nextId();self.recurse(property.key,left)}else left=property.key.type===AST.Identifier?property.key.name:""+property.key.value;right=self.nextId();self.recurse(property.value,right);self.assign(self.member(intoId,left,property.computed),right)})}else{forEach(ast.properties,function(property){self.recurse(property.value,ast.constant?undefined:self.nextId(),undefined,function(expr){args.push(self.escape(property.key.type===
AST.Identifier?property.key.name:""+property.key.value)+":"+expr)})});expression="{"+args.join(",")+"}";this.assign(intoId,expression)}recursionFn(intoId||expression);break;case AST.ThisExpression:this.assign(intoId,"s");recursionFn(intoId||"s");break;case AST.LocalsExpression:this.assign(intoId,"l");recursionFn(intoId||"l");break;case AST.NGValueParameter:this.assign(intoId,"v");recursionFn(intoId||"v");break}},getHasOwnProperty:function(element,property){var key=element+"."+property;var own=this.current().own;
if(!own.hasOwnProperty(key))own[key]=this.nextId(false,element+"\x26\x26("+this.escape(property)+" in "+element+")");return own[key]},assign:function(id,value){if(!id)return;this.current().body.push(id,"\x3d",value,";");return id},filter:function(filterName){if(!this.state.filters.hasOwnProperty(filterName))this.state.filters[filterName]=this.nextId(true);return this.state.filters[filterName]},ifDefined:function(id,defaultValue){return"ifDefined("+id+","+this.escape(defaultValue)+")"},plus:function(left,
right){return"plus("+left+","+right+")"},return_:function(id){this.current().body.push("return ",id,";")},if_:function(test,alternate,consequent){if(test===true)alternate();else{var body=this.current().body;body.push("if(",test,"){");alternate();body.push("}");if(consequent){body.push("else{");consequent();body.push("}")}}},not:function(expression){return"!("+expression+")"},isNull:function(expression){return expression+"\x3d\x3dnull"},notNull:function(expression){return expression+"!\x3dnull"},nonComputedMember:function(left,
right){var SAFE_IDENTIFIER=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/;var UNSAFE_CHARACTERS=/[^$_a-zA-Z0-9]/g;if(SAFE_IDENTIFIER.test(right))return left+"."+right;else return left+'["'+right.replace(UNSAFE_CHARACTERS,this.stringEscapeFn)+'"]'},computedMember:function(left,right){return left+"["+right+"]"},member:function(left,right,computed){if(computed)return this.computedMember(left,right);return this.nonComputedMember(left,right)},getStringValue:function(item){this.assign(item,"getStringValue("+item+")")},lazyRecurse:function(ast,
intoId,nameId,recursionFn,create,skipWatchIdCheck){var self=this;return function(){self.recurse(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck)}},lazyAssign:function(id,value){var self=this;return function(){self.assign(id,value)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)},escape:function(value){if(isString(value))return"'"+value.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(isNumber(value))return value.toString();
if(value===true)return"true";if(value===false)return"false";if(value===null)return"null";if(typeof value==="undefined")return"undefined";throw $parseMinErr("esc","IMPOSSIBLE");},nextId:function(skip,init){var id="v"+this.state.nextId++;if(!skip)this.current().vars.push(id+(init?"\x3d"+init:""));return id},current:function(){return this.state[this.state.computing]}};function ASTInterpreter($filter){this.$filter=$filter}ASTInterpreter.prototype={compile:function(ast){var self=this;findConstantAndWatchExpressions(ast,
self.$filter);var assignable;var assign;if(assignable=assignableAST(ast))assign=this.recurse(assignable);var toWatch=getInputs(ast.body);var inputs;if(toWatch){inputs=[];forEach(toWatch,function(watch,key){var input=self.recurse(watch);input.isPure=watch.isPure;watch.input=input;inputs.push(input);watch.watchId=key})}var expressions=[];forEach(ast.body,function(expression){expressions.push(self.recurse(expression.expression))});var fn=ast.body.length===0?noop:ast.body.length===1?expressions[0]:function(scope,
locals){var lastValue;forEach(expressions,function(exp){lastValue=exp(scope,locals)});return lastValue};if(assign)fn.assign=function(scope,value,locals){return assign(scope,locals,value)};if(inputs)fn.inputs=inputs;return fn},recurse:function(ast,context,create){var left,right,self=this,args;if(ast.input)return this.inputs(ast.input,ast.watchId);switch(ast.type){case AST.Literal:return this.value(ast.value,context);case AST.UnaryExpression:right=this.recurse(ast.argument);return this["unary"+ast.operator](right,
context);case AST.BinaryExpression:left=this.recurse(ast.left);right=this.recurse(ast.right);return this["binary"+ast.operator](left,right,context);case AST.LogicalExpression:left=this.recurse(ast.left);right=this.recurse(ast.right);return this["binary"+ast.operator](left,right,context);case AST.ConditionalExpression:return this["ternary?:"](this.recurse(ast.test),this.recurse(ast.alternate),this.recurse(ast.consequent),context);case AST.Identifier:return self.identifier(ast.name,context,create);
case AST.MemberExpression:left=this.recurse(ast.object,false,!!create);if(!ast.computed)right=ast.property.name;if(ast.computed)right=this.recurse(ast.property);return ast.computed?this.computedMember(left,right,context,create):this.nonComputedMember(left,right,context,create);case AST.CallExpression:args=[];forEach(ast.arguments,function(expr){args.push(self.recurse(expr))});if(ast.filter)right=this.$filter(ast.callee.name);if(!ast.filter)right=this.recurse(ast.callee,true);return ast.filter?function(scope,
locals,assign,inputs){var values=[];for(var i=0;i<args.length;++i)values.push(args[i](scope,locals,assign,inputs));var value=right.apply(undefined,values,inputs);return context?{context:undefined,name:undefined,value:value}:value}:function(scope,locals,assign,inputs){var rhs=right(scope,locals,assign,inputs);var value;if(rhs.value!=null){var values=[];for(var i=0;i<args.length;++i)values.push(args[i](scope,locals,assign,inputs));value=rhs.value.apply(rhs.context,values)}return context?{value:value}:
value};case AST.AssignmentExpression:left=this.recurse(ast.left,true,1);right=this.recurse(ast.right);return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs=right(scope,locals,assign,inputs);lhs.context[lhs.name]=rhs;return context?{value:rhs}:rhs};case AST.ArrayExpression:args=[];forEach(ast.elements,function(expr){args.push(self.recurse(expr))});return function(scope,locals,assign,inputs){var value=[];for(var i=0;i<args.length;++i)value.push(args[i](scope,locals,
assign,inputs));return context?{value:value}:value};case AST.ObjectExpression:args=[];forEach(ast.properties,function(property){if(property.computed)args.push({key:self.recurse(property.key),computed:true,value:self.recurse(property.value)});else args.push({key:property.key.type===AST.Identifier?property.key.name:""+property.key.value,computed:false,value:self.recurse(property.value)})});return function(scope,locals,assign,inputs){var value={};for(var i=0;i<args.length;++i)if(args[i].computed)value[args[i].key(scope,
locals,assign,inputs)]=args[i].value(scope,locals,assign,inputs);else value[args[i].key]=args[i].value(scope,locals,assign,inputs);return context?{value:value}:value};case AST.ThisExpression:return function(scope){return context?{value:scope}:scope};case AST.LocalsExpression:return function(scope,locals){return context?{value:locals}:locals};case AST.NGValueParameter:return function(scope,locals,assign){return context?{value:assign}:assign}}},"unary+":function(argument,context){return function(scope,
locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);if(isDefined(arg))arg=+arg;else arg=0;return context?{value:arg}:arg}},"unary-":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);if(isDefined(arg))arg=-arg;else arg=-0;return context?{value:arg}:arg}},"unary!":function(argument,context){return function(scope,locals,assign,inputs){var arg=!argument(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary+":function(left,
right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs=right(scope,locals,assign,inputs);var arg=plusFn(lhs,rhs);return context?{value:arg}:arg}},"binary-":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs=right(scope,locals,assign,inputs);var arg=(isDefined(lhs)?lhs:0)-(isDefined(rhs)?rhs:0);return context?{value:arg}:arg}},"binary*":function(left,right,context){return function(scope,
locals,assign,inputs){var arg=left(scope,locals,assign,inputs)*right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary/":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)/right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary%":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)%right(scope,locals,assign,inputs);return context?{value:arg}:
arg}},"binary\x3d\x3d\x3d":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)===right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!\x3d\x3d":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary\x3d\x3d":function(left,right,context){return function(scope,locals,assign,inputs){var arg=
left(scope,locals,assign,inputs)==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!\x3d":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary\x3c":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary\x3e":function(left,
right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary\x3c\x3d":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary\x3e\x3d":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>=right(scope,
locals,assign,inputs);return context?{value:arg}:arg}},"binary\x26\x26":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)&&right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary||":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)||right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"ternary?:":function(test,alternate,consequent,context){return function(scope,
locals,assign,inputs){var arg=test(scope,locals,assign,inputs)?alternate(scope,locals,assign,inputs):consequent(scope,locals,assign,inputs);return context?{value:arg}:arg}},value:function(value,context){return function(){return context?{context:undefined,name:undefined,value:value}:value}},identifier:function(name,context,create){return function(scope,locals,assign,inputs){var base=locals&&name in locals?locals:scope;if(create&&create!==1&&base&&base[name]==null)base[name]={};var value=base?base[name]:
undefined;if(context)return{context:base,name:name,value:value};else return value}},computedMember:function(left,right,context,create){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs;var value;if(lhs!=null){rhs=right(scope,locals,assign,inputs);rhs=getStringValue(rhs);if(create&&create!==1)if(lhs&&!lhs[rhs])lhs[rhs]={};value=lhs[rhs]}if(context)return{context:lhs,name:rhs,value:value};else return value}},nonComputedMember:function(left,right,context,create){return function(scope,
locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);if(create&&create!==1)if(lhs&&lhs[right]==null)lhs[right]={};var value=lhs!=null?lhs[right]:undefined;if(context)return{context:lhs,name:right,value:value};else return value}},inputs:function(input,watchId){return function(scope,value,locals,inputs){if(inputs)return inputs[watchId];return input(scope,value,locals)}}};function Parser(lexer,$filter,options){this.ast=new AST(lexer,options);this.astCompiler=options.csp?new ASTInterpreter($filter):
new ASTCompiler($filter)}Parser.prototype={constructor:Parser,parse:function(text){var ast=this.getAst(text);var fn=this.astCompiler.compile(ast.ast);fn.literal=isLiteral(ast.ast);fn.constant=isConstant(ast.ast);fn.oneTime=ast.oneTime;return fn},getAst:function(exp){var oneTime=false;exp=exp.trim();if(exp.charAt(0)===":"&&exp.charAt(1)===":"){oneTime=true;exp=exp.substring(2)}return{ast:this.ast.ast(exp),oneTime:oneTime}}};function getValueOf(value){return isFunction(value.valueOf)?value.valueOf():
objectValueOf.call(value)}function $ParseProvider(){var cache=createMap();var literals={"true":true,"false":false,"null":null,"undefined":undefined};var identStart,identContinue;this.addLiteral=function(literalName,literalValue){literals[literalName]=literalValue};this.setIdentifierFns=function(identifierStart,identifierContinue){identStart=identifierStart;identContinue=identifierContinue;return this};this.$get=["$filter",function($filter){var noUnsafeEval=csp().noUnsafeEval;var $parseOptions={csp:noUnsafeEval,
literals:copy(literals),isIdentifierStart:isFunction(identStart)&&identStart,isIdentifierContinue:isFunction(identContinue)&&identContinue};$parse.$$getAst=$$getAst;return $parse;function $parse(exp,interceptorFn){var parsedExpression,cacheKey;switch(typeof exp){case "string":exp=exp.trim();cacheKey=exp;parsedExpression=cache[cacheKey];if(!parsedExpression){var lexer=new Lexer($parseOptions);var parser=new Parser(lexer,$filter,$parseOptions);parsedExpression=parser.parse(exp);cache[cacheKey]=addWatchDelegate(parsedExpression)}return addInterceptor(parsedExpression,
interceptorFn);case "function":return addInterceptor(exp,interceptorFn);default:return addInterceptor(noop,interceptorFn)}}function $$getAst(exp){var lexer=new Lexer($parseOptions);var parser=new Parser(lexer,$filter,$parseOptions);return parser.getAst(exp).ast}function expressionInputDirtyCheck(newValue,oldValueOfValue,compareObjectIdentity){if(newValue==null||oldValueOfValue==null)return newValue===oldValueOfValue;if(typeof newValue==="object"){newValue=getValueOf(newValue);if(typeof newValue===
"object"&&!compareObjectIdentity)return false}return newValue===oldValueOfValue||newValue!==newValue&&oldValueOfValue!==oldValueOfValue}function inputsWatchDelegate(scope,listener,objectEquality,parsedExpression,prettyPrintExpression){var inputExpressions=parsedExpression.inputs;var lastResult;if(inputExpressions.length===1){var oldInputValueOf=expressionInputDirtyCheck;inputExpressions=inputExpressions[0];return scope.$watch(function expressionInputWatch(scope){var newInputValue=inputExpressions(scope);
if(!expressionInputDirtyCheck(newInputValue,oldInputValueOf,inputExpressions.isPure)){lastResult=parsedExpression(scope,undefined,undefined,[newInputValue]);oldInputValueOf=newInputValue&&getValueOf(newInputValue)}return lastResult},listener,objectEquality,prettyPrintExpression)}var oldInputValueOfValues=[];var oldInputValues=[];for(var i=0,ii=inputExpressions.length;i<ii;i++){oldInputValueOfValues[i]=expressionInputDirtyCheck;oldInputValues[i]=null}return scope.$watch(function expressionInputsWatch(scope){var changed=
false;for(var i=0,ii=inputExpressions.length;i<ii;i++){var newInputValue=inputExpressions[i](scope);if(changed||(changed=!expressionInputDirtyCheck(newInputValue,oldInputValueOfValues[i],inputExpressions[i].isPure))){oldInputValues[i]=newInputValue;oldInputValueOfValues[i]=newInputValue&&getValueOf(newInputValue)}}if(changed)lastResult=parsedExpression(scope,undefined,undefined,oldInputValues);return lastResult},listener,objectEquality,prettyPrintExpression)}function oneTimeWatchDelegate(scope,listener,
objectEquality,parsedExpression,prettyPrintExpression){var isDone=parsedExpression.literal?isAllDefined:isDefined;var unwatch,lastValue;var exp=parsedExpression.$$intercepted||parsedExpression;var post=parsedExpression.$$interceptor||identity;var useInputs=parsedExpression.inputs&&!exp.inputs;oneTimeWatch.literal=parsedExpression.literal;oneTimeWatch.constant=parsedExpression.constant;oneTimeWatch.inputs=parsedExpression.inputs;addWatchDelegate(oneTimeWatch);unwatch=scope.$watch(oneTimeWatch,listener,
objectEquality,prettyPrintExpression);return unwatch;function unwatchIfDone(){if(isDone(lastValue))unwatch()}function oneTimeWatch(scope,locals,assign,inputs){lastValue=useInputs&&inputs?inputs[0]:exp(scope,locals,assign,inputs);if(isDone(lastValue))scope.$$postDigest(unwatchIfDone);return post(lastValue)}}function isAllDefined(value){var allDefined=true;forEach(value,function(val){if(!isDefined(val))allDefined=false});return allDefined}function constantWatchDelegate(scope,listener,objectEquality,
parsedExpression){var unwatch=scope.$watch(function constantWatch(scope){unwatch();return parsedExpression(scope)},listener,objectEquality);return unwatch}function addWatchDelegate(parsedExpression){if(parsedExpression.constant)parsedExpression.$$watchDelegate=constantWatchDelegate;else if(parsedExpression.oneTime)parsedExpression.$$watchDelegate=oneTimeWatchDelegate;else if(parsedExpression.inputs)parsedExpression.$$watchDelegate=inputsWatchDelegate;return parsedExpression}function chainInterceptors(first,
second){function chainedInterceptor(value){return second(first(value))}chainedInterceptor.$stateful=first.$stateful||second.$stateful;chainedInterceptor.$$pure=first.$$pure&&second.$$pure;return chainedInterceptor}function addInterceptor(parsedExpression,interceptorFn){if(!interceptorFn)return parsedExpression;if(parsedExpression.$$interceptor){interceptorFn=chainInterceptors(parsedExpression.$$interceptor,interceptorFn);parsedExpression=parsedExpression.$$intercepted}var useInputs=false;var fn=function interceptedExpression(scope,
locals,assign,inputs){var value=useInputs&&inputs?inputs[0]:parsedExpression(scope,locals,assign,inputs);return interceptorFn(value)};fn.$$intercepted=parsedExpression;fn.$$interceptor=interceptorFn;fn.literal=parsedExpression.literal;fn.oneTime=parsedExpression.oneTime;fn.constant=parsedExpression.constant;if(!interceptorFn.$stateful){useInputs=!parsedExpression.inputs;fn.inputs=parsedExpression.inputs?parsedExpression.inputs:[parsedExpression];if(!interceptorFn.$$pure)fn.inputs=fn.inputs.map(function(e){if(e.isPure===
PURITY_RELATIVE)return function depurifier(s){return e(s)};return e})}return addWatchDelegate(fn)}}]}function $QProvider(){var errorOnUnhandledRejections=true;this.$get=["$rootScope","$exceptionHandler",function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback)},$exceptionHandler,errorOnUnhandledRejections)}];this.errorOnUnhandledRejections=function(value){if(isDefined(value)){errorOnUnhandledRejections=value;return this}else return errorOnUnhandledRejections}}
function $$QProvider(){var errorOnUnhandledRejections=true;this.$get=["$browser","$exceptionHandler",function($browser,$exceptionHandler){return qFactory(function(callback){$browser.defer(callback)},$exceptionHandler,errorOnUnhandledRejections)}];this.errorOnUnhandledRejections=function(value){if(isDefined(value)){errorOnUnhandledRejections=value;return this}else return errorOnUnhandledRejections}}function qFactory(nextTick,exceptionHandler,errorOnUnhandledRejections){var $qMinErr=minErr("$q",TypeError);
var queueSize=0;var checkQueue=[];function defer(){return new Deferred}function Deferred(){var promise=this.promise=new Promise;this.resolve=function(val){resolvePromise(promise,val)};this.reject=function(reason){rejectPromise(promise,reason)};this.notify=function(progress){notifyPromise(promise,progress)}}function Promise(){this.$$state={status:0}}extend(Promise.prototype,{then:function(onFulfilled,onRejected,progressBack){if(isUndefined(onFulfilled)&&isUndefined(onRejected)&&isUndefined(progressBack))return this;
var result=new Promise;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([result,onFulfilled,onRejected,progressBack]);if(this.$$state.status>0)scheduleProcessQueue(this.$$state);return result},"catch":function(callback){return this.then(null,callback)},"finally":function(callback,progressBack){return this.then(function(value){return handleCallback(value,resolve,callback)},function(error){return handleCallback(error,reject,callback)},progressBack)}});function processQueue(state){var fn,
promise,pending;pending=state.pending;state.processScheduled=false;state.pending=undefined;try{for(var i=0,ii=pending.length;i<ii;++i){markQStateExceptionHandled(state);promise=pending[i][0];fn=pending[i][state.status];try{if(isFunction(fn))resolvePromise(promise,fn(state.value));else if(state.status===1)resolvePromise(promise,state.value);else rejectPromise(promise,state.value)}catch(e){rejectPromise(promise,e);if(e&&e.$$passToExceptionHandler===true)exceptionHandler(e)}}}finally{--queueSize;if(errorOnUnhandledRejections&&
queueSize===0)nextTick(processChecks)}}function processChecks(){while(!queueSize&&checkQueue.length){var toCheck=checkQueue.shift();if(!isStateExceptionHandled(toCheck)){markQStateExceptionHandled(toCheck);var errorMessage="Possibly unhandled rejection: "+toDebugString(toCheck.value);if(isError(toCheck.value))exceptionHandler(toCheck.value,errorMessage);else exceptionHandler(errorMessage)}}}function scheduleProcessQueue(state){if(errorOnUnhandledRejections&&!state.pending&&state.status===2&&!isStateExceptionHandled(state)){if(queueSize===
0&&checkQueue.length===0)nextTick(processChecks);checkQueue.push(state)}if(state.processScheduled||!state.pending)return;state.processScheduled=true;++queueSize;nextTick(function(){processQueue(state)})}function resolvePromise(promise,val){if(promise.$$state.status)return;if(val===promise)$$reject(promise,$qMinErr("qcycle","Expected promise to be resolved with value other than itself '{0}'",val));else $$resolve(promise,val)}function $$resolve(promise,val){var then;var done=false;try{if(isObject(val)||
isFunction(val))then=val.then;if(isFunction(then)){promise.$$state.status=-1;then.call(val,doResolve,doReject,doNotify)}else{promise.$$state.value=val;promise.$$state.status=1;scheduleProcessQueue(promise.$$state)}}catch(e){doReject(e)}function doResolve(val){if(done)return;done=true;$$resolve(promise,val)}function doReject(val){if(done)return;done=true;$$reject(promise,val)}function doNotify(progress){notifyPromise(promise,progress)}}function rejectPromise(promise,reason){if(promise.$$state.status)return;
$$reject(promise,reason)}function $$reject(promise,reason){promise.$$state.value=reason;promise.$$state.status=2;scheduleProcessQueue(promise.$$state)}function notifyPromise(promise,progress){var callbacks=promise.$$state.pending;if(promise.$$state.status<=0&&callbacks&&callbacks.length)nextTick(function(){var callback,result;for(var i=0,ii=callbacks.length;i<ii;i++){result=callbacks[i][0];callback=callbacks[i][3];try{notifyPromise(result,isFunction(callback)?callback(progress):progress)}catch(e){exceptionHandler(e)}}})}
function reject(reason){var result=new Promise;rejectPromise(result,reason);return result}function handleCallback(value,resolver,callback){var callbackOutput=null;try{if(isFunction(callback))callbackOutput=callback()}catch(e){return reject(e)}if(isPromiseLike(callbackOutput))return callbackOutput.then(function(){return resolver(value)},reject);else return resolver(value)}function when(value,callback,errback,progressBack){var result=new Promise;resolvePromise(result,value);return result.then(callback,
errback,progressBack)}var resolve=when;function all(promises){var result=new Promise,counter=0,results=isArray(promises)?[]:{};forEach(promises,function(promise,key){counter++;when(promise).then(function(value){results[key]=value;if(!--counter)resolvePromise(result,results)},function(reason){rejectPromise(result,reason)})});if(counter===0)resolvePromise(result,results);return result}function race(promises){var deferred=defer();forEach(promises,function(promise){when(promise).then(deferred.resolve,
deferred.reject)});return deferred.promise}function $Q(resolver){if(!isFunction(resolver))throw $qMinErr("norslvr","Expected resolverFn, got '{0}'",resolver);var promise=new Promise;function resolveFn(value){resolvePromise(promise,value)}function rejectFn(reason){rejectPromise(promise,reason)}resolver(resolveFn,rejectFn);return promise}$Q.prototype=Promise.prototype;$Q.defer=defer;$Q.reject=reject;$Q.when=when;$Q.resolve=resolve;$Q.all=all;$Q.race=race;return $Q}function isStateExceptionHandled(state){return!!state.pur}
function markQStateExceptionHandled(state){state.pur=true}function markQExceptionHandled(q){if(q.$$state)markQStateExceptionHandled(q.$$state)}function $$RAFProvider(){this.$get=["$window","$timeout",function($window,$timeout){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame;var cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||$window.webkitCancelRequestAnimationFrame;var rafSupported=!!requestAnimationFrame;var raf=
rafSupported?function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id)}}:function(fn){var timer=$timeout(fn,16.66,false);return function(){$timeout.cancel(timer)}};raf.supported=rafSupported;return raf}]}function $RootScopeProvider(){var TTL=10;var $rootScopeMinErr=minErr("$rootScope");var lastDirtyWatch=null;var applyAsyncId=null;this.digestTtl=function(value){if(arguments.length)TTL=value;return TTL};function createChildScopeClass(parent){function ChildScope(){this.$$watchers=
this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=nextUid();this.$$ChildScope=null;this.$$suspended=false}ChildScope.prototype=parent;return ChildScope}this.$get=["$exceptionHandler","$parse","$browser",function($exceptionHandler,$parse,$browser){function destroyChildScope($event){$event.currentScope.$$destroyed=true}function cleanUpScope($scope){if(msie===9){if($scope.$$childHead)cleanUpScope($scope.$$childHead);
if($scope.$$nextSibling)cleanUpScope($scope.$$nextSibling)}$scope.$parent=$scope.$$nextSibling=$scope.$$prevSibling=$scope.$$childHead=$scope.$$childTail=$scope.$root=$scope.$$watchers=null}function Scope(){this.$id=nextUid();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=false;this.$$suspended=false;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}
Scope.prototype={constructor:Scope,$new:function(isolate,parent){var child;parent=parent||this;if(isolate){child=new Scope;child.$root=this.$root}else{if(!this.$$ChildScope)this.$$ChildScope=createChildScopeClass(this);child=new this.$$ChildScope}child.$parent=parent;child.$$prevSibling=parent.$$childTail;if(parent.$$childHead){parent.$$childTail.$$nextSibling=child;parent.$$childTail=child}else parent.$$childHead=parent.$$childTail=child;if(isolate||parent!==this)child.$on("$destroy",destroyChildScope);
return child},$watch:function(watchExp,listener,objectEquality,prettyPrintExpression){var get=$parse(watchExp);var fn=isFunction(listener)?listener:noop;if(get.$$watchDelegate)return get.$$watchDelegate(this,fn,objectEquality,get,watchExp);var scope=this,array=scope.$$watchers,watcher={fn:fn,last:initWatchVal,get:get,exp:prettyPrintExpression||watchExp,eq:!!objectEquality};lastDirtyWatch=null;if(!array){array=scope.$$watchers=[];array.$$digestWatchIndex=-1}array.unshift(watcher);array.$$digestWatchIndex++;
incrementWatchersCount(this,1);return function deregisterWatch(){var index=arrayRemove(array,watcher);if(index>=0){incrementWatchersCount(scope,-1);if(index<array.$$digestWatchIndex)array.$$digestWatchIndex--}lastDirtyWatch=null}},$watchGroup:function(watchExpressions,listener){var oldValues=new Array(watchExpressions.length);var newValues=new Array(watchExpressions.length);var deregisterFns=[];var self=this;var changeReactionScheduled=false;var firstRun=true;if(!watchExpressions.length){var shouldCall=
true;self.$evalAsync(function(){if(shouldCall)listener(newValues,newValues,self)});return function deregisterWatchGroup(){shouldCall=false}}if(watchExpressions.length===1)return this.$watch(watchExpressions[0],function watchGroupAction(value,oldValue,scope){newValues[0]=value;oldValues[0]=oldValue;listener(newValues,value===oldValue?newValues:oldValues,scope)});forEach(watchExpressions,function(expr,i){var unwatchFn=self.$watch(expr,function watchGroupSubAction(value){newValues[i]=value;if(!changeReactionScheduled){changeReactionScheduled=
true;self.$evalAsync(watchGroupAction)}});deregisterFns.push(unwatchFn)});function watchGroupAction(){changeReactionScheduled=false;try{if(firstRun){firstRun=false;listener(newValues,newValues,self)}else listener(newValues,oldValues,self)}finally{for(var i=0;i<watchExpressions.length;i++)oldValues[i]=newValues[i]}}return function deregisterWatchGroup(){while(deregisterFns.length)deregisterFns.shift()()}},$watchCollection:function(obj,listener){$watchCollectionInterceptor.$$pure=$parse(obj).literal;
$watchCollectionInterceptor.$stateful=!$watchCollectionInterceptor.$$pure;var self=this;var newValue;var oldValue;var veryOldValue;var trackVeryOldValue=listener.length>1;var changeDetected=0;var changeDetector=$parse(obj,$watchCollectionInterceptor);var internalArray=[];var internalObject={};var initRun=true;var oldLength=0;function $watchCollectionInterceptor(_value){newValue=_value;var newLength,key,bothNaN,newItem,oldItem;if(isUndefined(newValue))return;if(!isObject(newValue)){if(oldValue!==newValue){oldValue=
newValue;changeDetected++}}else if(isArrayLike(newValue)){if(oldValue!==internalArray){oldValue=internalArray;oldLength=oldValue.length=0;changeDetected++}newLength=newValue.length;if(oldLength!==newLength){changeDetected++;oldValue.length=oldLength=newLength}for(var i=0;i<newLength;i++){oldItem=oldValue[i];newItem=newValue[i];bothNaN=oldItem!==oldItem&&newItem!==newItem;if(!bothNaN&&oldItem!==newItem){changeDetected++;oldValue[i]=newItem}}}else{if(oldValue!==internalObject){oldValue=internalObject=
{};oldLength=0;changeDetected++}newLength=0;for(key in newValue)if(hasOwnProperty.call(newValue,key)){newLength++;newItem=newValue[key];oldItem=oldValue[key];if(key in oldValue){bothNaN=oldItem!==oldItem&&newItem!==newItem;if(!bothNaN&&oldItem!==newItem){changeDetected++;oldValue[key]=newItem}}else{oldLength++;oldValue[key]=newItem;changeDetected++}}if(oldLength>newLength){changeDetected++;for(key in oldValue)if(!hasOwnProperty.call(newValue,key)){oldLength--;delete oldValue[key]}}}return changeDetected}
function $watchCollectionAction(){if(initRun){initRun=false;listener(newValue,newValue,self)}else listener(newValue,veryOldValue,self);if(trackVeryOldValue)if(!isObject(newValue))veryOldValue=newValue;else if(isArrayLike(newValue)){veryOldValue=new Array(newValue.length);for(var i=0;i<newValue.length;i++)veryOldValue[i]=newValue[i]}else{veryOldValue={};for(var key in newValue)if(hasOwnProperty.call(newValue,key))veryOldValue[key]=newValue[key]}}return this.$watch(changeDetector,$watchCollectionAction)},
$digest:function(){var watch,value,last,fn,get,watchers,dirty,ttl=TTL,next,current,target=asyncQueue.length?$rootScope:this,watchLog=[],logIdx,asyncTask;beginPhase("$digest");$browser.$$checkUrlChange();if(this===$rootScope&&applyAsyncId!==null){$browser.defer.cancel(applyAsyncId);flushApplyAsync()}lastDirtyWatch=null;do{dirty=false;current=target;for(var asyncQueuePosition=0;asyncQueuePosition<asyncQueue.length;asyncQueuePosition++){try{asyncTask=asyncQueue[asyncQueuePosition];fn=asyncTask.fn;fn(asyncTask.scope,
asyncTask.locals)}catch(e){$exceptionHandler(e)}lastDirtyWatch=null}asyncQueue.length=0;traverseScopesLoop:do{if(watchers=!current.$$suspended&&current.$$watchers){watchers.$$digestWatchIndex=watchers.length;while(watchers.$$digestWatchIndex--)try{watch=watchers[watchers.$$digestWatchIndex];if(watch){get=watch.get;if((value=get(current))!==(last=watch.last)&&!(watch.eq?equals(value,last):isNumberNaN(value)&&isNumberNaN(last))){dirty=true;lastDirtyWatch=watch;watch.last=watch.eq?copy(value,null):value;
fn=watch.fn;fn(value,last===initWatchVal?value:last,current);if(ttl<5){logIdx=4-ttl;if(!watchLog[logIdx])watchLog[logIdx]=[];watchLog[logIdx].push({msg:isFunction(watch.exp)?"fn: "+(watch.exp.name||watch.exp.toString()):watch.exp,newVal:value,oldVal:last})}}else if(watch===lastDirtyWatch){dirty=false;break traverseScopesLoop}}}catch(e$2){$exceptionHandler(e$2)}}if(!(next=!current.$$suspended&&current.$$watchersCount&&current.$$childHead||current!==target&&current.$$nextSibling))while(current!==target&&
!(next=current.$$nextSibling))current=current.$parent}while(current=next);if((dirty||asyncQueue.length)&&!ttl--){clearPhase();throw $rootScopeMinErr("infdig","{0} $digest() iterations reached. Aborting!\n"+"Watchers fired in the last 5 iterations: {1}",TTL,watchLog);}}while(dirty||asyncQueue.length);clearPhase();while(postDigestQueuePosition<postDigestQueue.length)try{postDigestQueue[postDigestQueuePosition++]()}catch(e$3){$exceptionHandler(e$3)}postDigestQueue.length=postDigestQueuePosition=0;$browser.$$checkUrlChange()},
$suspend:function(){this.$$suspended=true},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=false},$destroy:function(){if(this.$$destroyed)return;var parent=this.$parent;this.$broadcast("$destroy");this.$$destroyed=true;if(this===$rootScope)$browser.$$applicationDestroyed();incrementWatchersCount(this,-this.$$watchersCount);for(var eventName in this.$$listenerCount)decrementListenerCount(this,this.$$listenerCount[eventName],eventName);if(parent&&parent.$$childHead===
this)parent.$$childHead=this.$$nextSibling;if(parent&&parent.$$childTail===this)parent.$$childTail=this.$$prevSibling;if(this.$$prevSibling)this.$$prevSibling.$$nextSibling=this.$$nextSibling;if(this.$$nextSibling)this.$$nextSibling.$$prevSibling=this.$$prevSibling;this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop;this.$on=this.$watch=this.$watchGroup=function(){return noop};this.$$listeners={};this.$$nextSibling=null;cleanUpScope(this)},$eval:function(expr,locals){return $parse(expr)(this,
locals)},$evalAsync:function(expr,locals){if(!$rootScope.$$phase&&!asyncQueue.length)$browser.defer(function(){if(asyncQueue.length)$rootScope.$digest()},null,"$evalAsync");asyncQueue.push({scope:this,fn:$parse(expr),locals:locals})},$$postDigest:function(fn){postDigestQueue.push(fn)},$apply:function(expr){try{beginPhase("$apply");try{return this.$eval(expr)}finally{clearPhase()}}catch(e){$exceptionHandler(e)}finally{try{$rootScope.$digest()}catch(e$4){$exceptionHandler(e$4);throw e$4;}}},$applyAsync:function(expr){var scope=
this;if(expr)applyAsyncQueue.push($applyAsyncExpression);expr=$parse(expr);scheduleApplyAsync();function $applyAsyncExpression(){scope.$eval(expr)}},$on:function(name,listener){var namedListeners=this.$$listeners[name];if(!namedListeners)this.$$listeners[name]=namedListeners=[];namedListeners.push(listener);var current=this;do{if(!current.$$listenerCount[name])current.$$listenerCount[name]=0;current.$$listenerCount[name]++}while(current=current.$parent);var self=this;return function(){var indexOfListener=
namedListeners.indexOf(listener);if(indexOfListener!==-1){delete namedListeners[indexOfListener];decrementListenerCount(self,1,name)}}},$emit:function(name,args){var empty=[],namedListeners,scope=this,stopPropagation=false,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=true},preventDefault:function(){event.defaultPrevented=true},defaultPrevented:false},listenerArgs=concat([event],arguments,1),i,length;do{namedListeners=scope.$$listeners[name]||empty;event.currentScope=
scope;for(i=0,length=namedListeners.length;i<length;i++){if(!namedListeners[i]){namedListeners.splice(i,1);i--;length--;continue}try{namedListeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}}if(stopPropagation)break;scope=scope.$parent}while(scope);event.currentScope=null;return event},$broadcast:function(name,args){var target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=true},defaultPrevented:false};if(!target.$$listenerCount[name])return event;
var listenerArgs=concat([event],arguments,1),listeners,i,length;while(current=next){event.currentScope=current;listeners=current.$$listeners[name]||[];for(i=0,length=listeners.length;i<length;i++){if(!listeners[i]){listeners.splice(i,1);i--;length--;continue}try{listeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}}if(!(next=current.$$listenerCount[name]&&current.$$childHead||current!==target&&current.$$nextSibling))while(current!==target&&!(next=current.$$nextSibling))current=current.$parent}event.currentScope=
null;return event}};var $rootScope=new Scope;var asyncQueue=$rootScope.$$asyncQueue=[];var postDigestQueue=$rootScope.$$postDigestQueue=[];var applyAsyncQueue=$rootScope.$$applyAsyncQueue=[];var postDigestQueuePosition=0;return $rootScope;function beginPhase(phase){if($rootScope.$$phase)throw $rootScopeMinErr("inprog","{0} already in progress",$rootScope.$$phase);$rootScope.$$phase=phase}function clearPhase(){$rootScope.$$phase=null}function incrementWatchersCount(current,count){do current.$$watchersCount+=
count;while(current=current.$parent)}function decrementListenerCount(current,count,name){do{current.$$listenerCount[name]-=count;if(current.$$listenerCount[name]===0)delete current.$$listenerCount[name]}while(current=current.$parent)}function initWatchVal(){}function flushApplyAsync(){while(applyAsyncQueue.length)try{applyAsyncQueue.shift()()}catch(e){$exceptionHandler(e)}applyAsyncId=null}function scheduleApplyAsync(){if(applyAsyncId===null)applyAsyncId=$browser.defer(function(){$rootScope.$apply(flushApplyAsync)},
null,"$applyAsync")}}]}function $$SanitizeUriProvider(){var aHrefSanitizationTrustedUrlList=/^\s*(https?|s?ftp|mailto|tel|file):/,imgSrcSanitizationTrustedUrlList=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(regexp){if(isDefined(regexp)){aHrefSanitizationTrustedUrlList=regexp;return this}return aHrefSanitizationTrustedUrlList};this.imgSrcSanitizationTrustedUrlList=function(regexp){if(isDefined(regexp)){imgSrcSanitizationTrustedUrlList=regexp;return this}return imgSrcSanitizationTrustedUrlList};
this.$get=function(){return function sanitizeUri(uri,isMediaUrl){var regex=isMediaUrl?imgSrcSanitizationTrustedUrlList:aHrefSanitizationTrustedUrlList;var normalizedVal=urlResolve(uri&&uri.trim()).href;if(normalizedVal!==""&&!normalizedVal.match(regex))return"unsafe:"+normalizedVal;return uri}}}var $sceMinErr=minErr("$sce");var SCE_CONTEXTS={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};var UNDERSCORE_LOWERCASE_REGEXP=/_([a-z])/g;function snakeToCamel(name){return name.replace(UNDERSCORE_LOWERCASE_REGEXP,
fnCamelCaseReplace)}function adjustMatcher(matcher){if(matcher==="self")return matcher;else if(isString(matcher)){if(matcher.indexOf("***")>-1)throw $sceMinErr("iwcard","Illegal sequence *** in string matcher.  String: {0}",matcher);matcher=escapeForRegexp(matcher).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?\x26;]*");return new RegExp("^"+matcher+"$")}else if(isRegExp(matcher))return new RegExp("^"+matcher.source+"$");else throw $sceMinErr("imatcher",'Matchers may only be "self", string patterns or RegExp objects');
}function adjustMatchers(matchers){var adjustedMatchers=[];if(isDefined(matchers))forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher))});return adjustedMatchers}function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var trustedResourceUrlList=["self"],bannedResourceUrlList=[];this.trustedResourceUrlList=function(value){if(arguments.length)trustedResourceUrlList=adjustMatchers(value);return trustedResourceUrlList};Object.defineProperty(this,"resourceUrlWhitelist",
{get:function(){return this.trustedResourceUrlList},set:function(value){this.trustedResourceUrlList=value}});this.bannedResourceUrlList=function(value){if(arguments.length)bannedResourceUrlList=adjustMatchers(value);return bannedResourceUrlList};Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(value){this.bannedResourceUrlList=value}});this.$get=["$injector","$$sanitizeUri",function($injector,$$sanitizeUri){var htmlSanitizer=function htmlSanitizer(html){throw $sceMinErr("unsafe",
"Attempting to use an unsafe value in a safe context.");};if($injector.has("$sanitize"))htmlSanitizer=$injector.get("$sanitize");function matchUrl(matcher,parsedUrl){if(matcher==="self")return urlIsSameOrigin(parsedUrl)||urlIsSameOriginAsBaseUrl(parsedUrl);else return!!matcher.exec(parsedUrl.href)}function isResourceUrlAllowedByPolicy(url){var parsedUrl=urlResolve(url.toString());var i,n,allowed=false;for(i=0,n=trustedResourceUrlList.length;i<n;i++)if(matchUrl(trustedResourceUrlList[i],parsedUrl)){allowed=
true;break}if(allowed)for(i=0,n=bannedResourceUrlList.length;i<n;i++)if(matchUrl(bannedResourceUrlList[i],parsedUrl)){allowed=false;break}return allowed}function generateHolderType(Base){var holderType=function TrustedValueHolderType(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue}};if(Base)holderType.prototype=new Base;holderType.prototype.valueOf=function sceValueOf(){return this.$$unwrapTrustedValue()};holderType.prototype.toString=function sceToString(){return this.$$unwrapTrustedValue().toString()};
return holderType}var trustedValueHolderBase=generateHolderType(),byType={};byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.MEDIA_URL]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.URL]=generateHolderType(byType[SCE_CONTEXTS.MEDIA_URL]);byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]);
function trustAs(type,trustedValue){var Constructor=byType.hasOwnProperty(type)?byType[type]:null;if(!Constructor)throw $sceMinErr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",type,trustedValue);if(trustedValue===null||isUndefined(trustedValue)||trustedValue==="")return trustedValue;if(typeof trustedValue!=="string")throw $sceMinErr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",type);return new Constructor(trustedValue)}
function valueOf(maybeTrusted){if(maybeTrusted instanceof trustedValueHolderBase)return maybeTrusted.$$unwrapTrustedValue();else return maybeTrusted}function getTrusted(type,maybeTrusted){if(maybeTrusted===null||isUndefined(maybeTrusted)||maybeTrusted==="")return maybeTrusted;var constructor=byType.hasOwnProperty(type)?byType[type]:null;if(constructor&&maybeTrusted instanceof constructor)return maybeTrusted.$$unwrapTrustedValue();if(isFunction(maybeTrusted.$$unwrapTrustedValue))maybeTrusted=maybeTrusted.$$unwrapTrustedValue();
if(type===SCE_CONTEXTS.MEDIA_URL||type===SCE_CONTEXTS.URL)return $$sanitizeUri(maybeTrusted.toString(),type===SCE_CONTEXTS.MEDIA_URL);else if(type===SCE_CONTEXTS.RESOURCE_URL)if(isResourceUrlAllowedByPolicy(maybeTrusted))return maybeTrusted;else throw $sceMinErr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",maybeTrusted.toString());else if(type===SCE_CONTEXTS.HTML)return htmlSanitizer(maybeTrusted);throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.");
}return{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var enabled=true;this.enabled=function(value){if(arguments.length)enabled=!!value;return enabled};this.$get=["$parse","$sceDelegate",function($parse,$sceDelegate){if(enabled&&msie<8)throw $sceMinErr("iequirks","Strict Contextual Escaping does not support Internet Explorer version \x3c 11 in quirks "+"mode.  You can fix this by adding the text \x3c!doctype html\x3e to the top of your HTML "+"document.  See https://docs.angularjs.xlts.dev/api/ng/service/$sce for more information.");
var sce=shallowCopy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled};sce.trustAs=$sceDelegate.trustAs;sce.getTrusted=$sceDelegate.getTrusted;sce.valueOf=$sceDelegate.valueOf;if(!enabled){sce.trustAs=sce.getTrusted=function(type,value){return value};sce.valueOf=identity}sce.parseAs=function sceParseAs(type,expr){var parsed=$parse(expr);if(parsed.literal&&parsed.constant)return parsed;else return $parse(expr,function(value){return sce.getTrusted(type,value)})};var parse=sce.parseAs,getTrusted=
sce.getTrusted,trustAs=sce.trustAs;forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[snakeToCamel("parse_as_"+lName)]=function(expr){return parse(enumValue,expr)};sce[snakeToCamel("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value)};sce[snakeToCamel("trust_as_"+lName)]=function(value){return trustAs(enumValue,value)}});return sce}]}function $SnifferProvider(){this.$get=["$window","$document",function($window,$document){var eventSupport={},isNw=$window.nw&&
$window.nw.process,isChromePackagedApp=!isNw&&$window.chrome&&($window.chrome.app&&$window.chrome.app.runtime||!$window.chrome.app&&$window.chrome.runtime&&$window.chrome.runtime.id),hasHistoryPushState=!isChromePackagedApp&&$window.history&&$window.history.pushState,android=toInt((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},bodyStyle=document.body&&document.body.style,transitions=false,
animations=false;if(bodyStyle){transitions=!!("transition"in bodyStyle||"webkitTransition"in bodyStyle);animations=!!("animation"in bodyStyle||"webkitAnimation"in bodyStyle)}return{history:!!(hasHistoryPushState&&!(android<4)&&!boxee),hasEvent:function(event){if(event==="input"&&msie)return false;if(isUndefined(eventSupport[event])){var divElm=document.createElement("div");eventSupport[event]="on"+event in divElm}return eventSupport[event]},csp:csp(),transitions:transitions,animations:animations,
android:android}}]}function $$TaskTrackerFactoryProvider(){this.$get=valueFn(function(log){return new TaskTracker(log)})}function TaskTracker(log){var self=this;var taskCounts={};var taskCallbacks=[];var ALL_TASKS_TYPE=self.ALL_TASKS_TYPE="$$all$$";var DEFAULT_TASK_TYPE=self.DEFAULT_TASK_TYPE="$$default$$";self.completeTask=completeTask;self.incTaskCount=incTaskCount;self.notifyWhenNoPendingTasks=notifyWhenNoPendingTasks;function completeTask(fn,taskType){taskType=taskType||DEFAULT_TASK_TYPE;try{fn()}finally{decTaskCount(taskType);
var countForType=taskCounts[taskType];var countForAll=taskCounts[ALL_TASKS_TYPE];if(!countForAll||!countForType){var getNextCallback=!countForAll?getLastCallback:getLastCallbackForType;var nextCb;while(nextCb=getNextCallback(taskType))try{nextCb()}catch(e){log.error(e)}}}}function decTaskCount(taskType){taskType=taskType||DEFAULT_TASK_TYPE;if(taskCounts[taskType]){taskCounts[taskType]--;taskCounts[ALL_TASKS_TYPE]--}}function getLastCallback(){var cbInfo=taskCallbacks.pop();return cbInfo&&cbInfo.cb}
function getLastCallbackForType(taskType){for(var i=taskCallbacks.length-1;i>=0;--i){var cbInfo=taskCallbacks[i];if(cbInfo.type===taskType){taskCallbacks.splice(i,1);return cbInfo.cb}}}function incTaskCount(taskType){taskType=taskType||DEFAULT_TASK_TYPE;taskCounts[taskType]=(taskCounts[taskType]||0)+1;taskCounts[ALL_TASKS_TYPE]=(taskCounts[ALL_TASKS_TYPE]||0)+1}function notifyWhenNoPendingTasks(callback,taskType){taskType=taskType||ALL_TASKS_TYPE;if(!taskCounts[taskType])callback();else taskCallbacks.push({type:taskType,
cb:callback})}}var $templateRequestMinErr=minErr("$templateRequest");function $TemplateRequestProvider(){var httpOptions;this.httpOptions=function(val){if(val){httpOptions=val;return this}return httpOptions};this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function($exceptionHandler,$templateCache,$http,$q,$sce){function handleRequestFn(tpl,ignoreRequestError){handleRequestFn.totalPendingRequests++;if(!isString(tpl)||isUndefined($templateCache.get(tpl)))tpl=$sce.getTrustedResourceUrl(tpl);
var transformResponse=$http.defaults&&$http.defaults.transformResponse;if(isArray(transformResponse))transformResponse=transformResponse.filter(function(transformer){return transformer!==defaultHttpResponseTransform});else if(transformResponse===defaultHttpResponseTransform)transformResponse=null;return $http.get(tpl,extend({cache:$templateCache,transformResponse:transformResponse},httpOptions)).finally(function(){handleRequestFn.totalPendingRequests--}).then(function(response){return $templateCache.put(tpl,
response.data)},handleError);function handleError(resp){if(!ignoreRequestError){resp=$templateRequestMinErr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",tpl,resp.status,resp.statusText);$exceptionHandler(resp)}return $q.reject(resp)}}handleRequestFn.totalPendingRequests=0;return handleRequestFn}]}function $$TestabilityProvider(){this.$get=["$rootScope","$browser","$location",function($rootScope,$browser,$location){var testability={};testability.findBindings=function(element,expression,
opt_exactMatch){var bindings=element.getElementsByClassName("ng-binding");var matches=[];forEach(bindings,function(binding){var dataBinding=angular.element(binding).data("$binding");if(dataBinding)forEach(dataBinding,function(bindingName){if(opt_exactMatch){var matcher=new RegExp("(^|\\s)"+escapeForRegexp(expression)+"(\\s|\\||$)");if(matcher.test(bindingName))matches.push(binding)}else if(bindingName.indexOf(expression)!==-1)matches.push(binding)})});return matches};testability.findModels=function(element,
expression,opt_exactMatch){var prefixes=["ng-","data-ng-","ng\\:"];for(var p=0;p<prefixes.length;++p){var attributeEquals=opt_exactMatch?"\x3d":"*\x3d";var selector="["+prefixes[p]+"model"+attributeEquals+'"'+expression+'"]';var elements=element.querySelectorAll(selector);if(elements.length)return elements}};testability.getLocation=function(){return $location.url()};testability.setLocation=function(url){if(url!==$location.url()){$location.url(url);$rootScope.$digest()}};testability.whenStable=function(callback){$browser.notifyWhenNoOutstandingRequests(callback)};
return testability}]}var $timeoutMinErr=minErr("$timeout");function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function($rootScope,$browser,$q,$$q,$exceptionHandler){var deferreds={};function timeout(fn,delay,invokeApply){if(!isFunction(fn)){invokeApply=delay;delay=fn;fn=noop}var args=sliceArgs(arguments,3),skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise,timeoutId;timeoutId=$browser.defer(function(){try{deferred.resolve(fn.apply(null,
args))}catch(e){deferred.reject(e);$exceptionHandler(e)}finally{delete deferreds[promise.$$timeoutId]}if(!skipApply)$rootScope.$apply()},delay,"$timeout");promise.$$timeoutId=timeoutId;deferreds[timeoutId]=deferred;return promise}timeout.cancel=function(promise){if(!promise)return false;if(!promise.hasOwnProperty("$$timeoutId"))throw $timeoutMinErr("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!deferreds.hasOwnProperty(promise.$$timeoutId))return false;
var id=promise.$$timeoutId;var deferred=deferreds[id];markQExceptionHandled(deferred.promise);deferred.reject("canceled");delete deferreds[id];return $browser.defer.cancel(id)};return timeout}]}var urlParsingNode=window.document.createElement("a");var originUrl=urlResolve(window.location.href);var baseUrlParsingNode;urlParsingNode.href="https://[::1]";var ipv6InBrackets=urlParsingNode.hostname==="[::1]";function urlResolve(url){if(!isString(url))return url;var href=url;if(msie){urlParsingNode.setAttribute("href",
href);href=urlParsingNode.href}urlParsingNode.setAttribute("href",href);var hostname=urlParsingNode.hostname;if(!ipv6InBrackets&&hostname.indexOf(":")>-1)hostname="["+hostname+"]";return{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:hostname,port:urlParsingNode.port,pathname:urlParsingNode.pathname.charAt(0)===
"/"?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}function urlIsSameOrigin(requestUrl){return urlsAreSameOrigin(requestUrl,originUrl)}function urlIsSameOriginAsBaseUrl(requestUrl){return urlsAreSameOrigin(requestUrl,getBaseUrl())}function urlIsAllowedOriginFactory(trustedOriginUrls){var parsedAllowedOriginUrls=[originUrl].concat(trustedOriginUrls.map(urlResolve));return function urlIsAllowedOrigin(requestUrl){var parsedUrl=urlResolve(requestUrl);return parsedAllowedOriginUrls.some(urlsAreSameOrigin.bind(null,
parsedUrl))}}function urlsAreSameOrigin(url1,url2){url1=urlResolve(url1);url2=urlResolve(url2);return url1.protocol===url2.protocol&&url1.host===url2.host}function getBaseUrl(){if(window.document.baseURI)return window.document.baseURI;if(!baseUrlParsingNode){baseUrlParsingNode=window.document.createElement("a");baseUrlParsingNode.href=".";baseUrlParsingNode=baseUrlParsingNode.cloneNode(false)}return baseUrlParsingNode.href}function $WindowProvider(){this.$get=valueFn(window)}function $$CookieReader($document){var rawDocument=
$document[0]||{};var lastCookies={};var lastCookieString="";function safeGetCookie(rawDocument){try{return rawDocument.cookie||""}catch(e){return""}}function safeDecodeURIComponent(str){try{return decodeURIComponent(str)}catch(e){return str}}return function(){var cookieArray,cookie,i,index,name;var currentCookieString=safeGetCookie(rawDocument);if(currentCookieString!==lastCookieString){lastCookieString=currentCookieString;cookieArray=lastCookieString.split("; ");lastCookies={};for(i=0;i<cookieArray.length;i++){cookie=
cookieArray[i];index=cookie.indexOf("\x3d");if(index>0){name=safeDecodeURIComponent(cookie.substring(0,index));if(isUndefined(lastCookies[name]))lastCookies[name]=safeDecodeURIComponent(cookie.substring(index+1))}}}return lastCookies}}$$CookieReader.$inject=["$document"];function $$CookieReaderProvider(){this.$get=$$CookieReader}$FilterProvider.$inject=["$provide"];function $FilterProvider($provide){var suffix="Filter";function register(name,factory){if(isObject(name)){var filters={};forEach(name,
function(filter,key){filters[key]=register(key,filter)});return filters}else return $provide.factory(name+suffix,factory)}this.register=register;this.$get=["$injector",function($injector){return function(name){return $injector.get(name+suffix)}}];register("currency",currencyFilter);register("date",dateFilter);register("filter",filterFilter);register("json",jsonFilter);register("limitTo",limitToFilter);register("lowercase",lowercaseFilter);register("number",numberFilter);register("orderBy",orderByFilter);
register("uppercase",uppercaseFilter)}function filterFilter(){return function(array,expression,comparator,anyPropertyKey){if(!isArrayLike(array))if(array==null)return array;else throw minErr("filter")("notarray","Expected array but received: {0}",array);anyPropertyKey=anyPropertyKey||"$";var expressionType=getTypeForFilter(expression);var predicateFn;var matchAgainstAnyProp;switch(expressionType){case "function":predicateFn=expression;break;case "boolean":case "null":case "number":case "string":matchAgainstAnyProp=
true;case "object":predicateFn=createPredicateFn(expression,comparator,anyPropertyKey,matchAgainstAnyProp);break;default:return array}return Array.prototype.filter.call(array,predicateFn)}}function createPredicateFn(expression,comparator,anyPropertyKey,matchAgainstAnyProp){var shouldMatchPrimitives=isObject(expression)&&anyPropertyKey in expression;var predicateFn;if(comparator===true)comparator=equals;else if(!isFunction(comparator))comparator=function(actual,expected){if(isUndefined(actual))return false;
if(actual===null||expected===null)return actual===expected;if(isObject(expected)||isObject(actual)&&!hasCustomToString(actual))return false;actual=lowercase(""+actual);expected=lowercase(""+expected);return actual.indexOf(expected)!==-1};predicateFn=function(item){if(shouldMatchPrimitives&&!isObject(item))return deepCompare(item,expression[anyPropertyKey],comparator,anyPropertyKey,false);return deepCompare(item,expression,comparator,anyPropertyKey,matchAgainstAnyProp)};return predicateFn}function deepCompare(actual,
expected,comparator,anyPropertyKey,matchAgainstAnyProp,dontMatchWholeObject){var actualType=getTypeForFilter(actual);var expectedType=getTypeForFilter(expected);if(expectedType==="string"&&expected.charAt(0)==="!")return!deepCompare(actual,expected.substring(1),comparator,anyPropertyKey,matchAgainstAnyProp);else if(isArray(actual))return actual.some(function(item){return deepCompare(item,expected,comparator,anyPropertyKey,matchAgainstAnyProp)});switch(actualType){case "object":var key;if(matchAgainstAnyProp){for(key in actual)if(key.charAt&&
key.charAt(0)!=="$"&&deepCompare(actual[key],expected,comparator,anyPropertyKey,true))return true;return dontMatchWholeObject?false:deepCompare(actual,expected,comparator,anyPropertyKey,false)}else if(expectedType==="object"){for(key in expected){var expectedVal=expected[key];if(isFunction(expectedVal)||isUndefined(expectedVal))continue;var matchAnyProperty=key===anyPropertyKey;var actualVal=matchAnyProperty?actual:actual[key];if(!deepCompare(actualVal,expectedVal,comparator,anyPropertyKey,matchAnyProperty,
matchAnyProperty))return false}return true}else return comparator(actual,expected);case "function":return false;default:return comparator(actual,expected)}}function getTypeForFilter(val){return val===null?"null":typeof val}var MAX_DIGITS=22;var DECIMAL_SEP=".";var ZERO_CHAR="0";currencyFilter.$inject=["$locale"];function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol,fractionSize){if(amount==null)return amount;if(isUndefined(currencySymbol))currencySymbol=
formats.CURRENCY_SYM;if(isUndefined(fractionSize))fractionSize=formats.PATTERNS[1].maxFrac;var value=formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize);return currencySymbol?value.replace(/\u00A4/g,currencySymbol):value.replace(/(^|\S)\s*\u00A4\s*(\S|$)/g,function(_,g1,g2){return g1+currencySymbol+g2})}}numberFilter.$inject=["$locale"];function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return number==null?
number:formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize)}}function parse(numStr){var exponent=0,digits,numberOfIntegerDigits;var i,j,zeros;if((numberOfIntegerDigits=numStr.indexOf(DECIMAL_SEP))>-1)numStr=numStr.replace(DECIMAL_SEP,"");if((i=numStr.search(/e/i))>0){if(numberOfIntegerDigits<0)numberOfIntegerDigits=i;numberOfIntegerDigits+=+numStr.slice(i+1);numStr=numStr.substring(0,i)}else if(numberOfIntegerDigits<0)numberOfIntegerDigits=numStr.length;for(i=
0;numStr.charAt(i)===ZERO_CHAR;i++);if(i===(zeros=numStr.length)){digits=[0];numberOfIntegerDigits=1}else{zeros--;while(numStr.charAt(zeros)===ZERO_CHAR)zeros--;numberOfIntegerDigits-=i;digits=[];for(j=0;i<=zeros;i++,j++)digits[j]=+numStr.charAt(i)}if(numberOfIntegerDigits>MAX_DIGITS){digits=digits.splice(0,MAX_DIGITS-1);exponent=numberOfIntegerDigits-1;numberOfIntegerDigits=1}return{d:digits,e:exponent,i:numberOfIntegerDigits}}function roundNumber(parsedNumber,fractionSize,minFrac,maxFrac){var digits=
parsedNumber.d;var fractionLen=digits.length-parsedNumber.i;fractionSize=isUndefined(fractionSize)?Math.min(Math.max(minFrac,fractionLen),maxFrac):+fractionSize;var roundAt=fractionSize+parsedNumber.i;var digit=digits[roundAt];if(roundAt>0){digits.splice(Math.max(parsedNumber.i,roundAt));for(var j=roundAt;j<digits.length;j++)digits[j]=0}else{fractionLen=Math.max(0,fractionLen);parsedNumber.i=1;digits.length=Math.max(1,roundAt=fractionSize+1);digits[0]=0;for(var i=1;i<roundAt;i++)digits[i]=0}if(digit>=
5)if(roundAt-1<0){for(var k=0;k>roundAt;k--){digits.unshift(0);parsedNumber.i++}digits.unshift(1);parsedNumber.i++}else digits[roundAt-1]++;for(;fractionLen<Math.max(0,fractionSize);fractionLen++)digits.push(0);var carry=digits.reduceRight(function(carry,d,i,digits){d=d+carry;digits[i]=d%10;return Math.floor(d/10)},0);if(carry){digits.unshift(carry);parsedNumber.i++}}function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(!(isString(number)||isNumber(number))||isNaN(number))return"";
var isInfinity=!isFinite(number);var isZero=false;var numStr=Math.abs(number)+"",formattedText="",parsedNumber;if(isInfinity)formattedText="\u221e";else{parsedNumber=parse(numStr);roundNumber(parsedNumber,fractionSize,pattern.minFrac,pattern.maxFrac);var digits=parsedNumber.d;var integerLen=parsedNumber.i;var exponent=parsedNumber.e;var decimals=[];isZero=digits.reduce(function(isZero,d){return isZero&&!d},true);while(integerLen<0){digits.unshift(0);integerLen++}if(integerLen>0)decimals=digits.splice(integerLen,
digits.length);else{decimals=digits;digits=[0]}var groups=[];if(digits.length>=pattern.lgSize)groups.unshift(digits.splice(-pattern.lgSize,digits.length).join(""));while(digits.length>pattern.gSize)groups.unshift(digits.splice(-pattern.gSize,digits.length).join(""));if(digits.length)groups.unshift(digits.join(""));formattedText=groups.join(groupSep);if(decimals.length)formattedText+=decimalSep+decimals.join("");if(exponent)formattedText+="e+"+exponent}if(number<0&&!isZero)return pattern.negPre+formattedText+
pattern.negSuf;else return pattern.posPre+formattedText+pattern.posSuf}function padNumber(num,digits,trim,negWrap){var neg="";if(num<0||negWrap&&num<=0)if(negWrap)num=-num+1;else{num=-num;neg="-"}num=""+num;while(num.length<digits)num=ZERO_CHAR+num;if(trim)num=num.substr(num.length-digits);return neg+num}function dateGetter(name,size,offset,trim,negWrap){offset=offset||0;return function(date){var value=date["get"+name]();if(offset>0||value>-offset)value+=offset;if(value===0&&offset===-12)value=12;
return padNumber(value,size,trim,negWrap)}}function dateStrGetter(name,shortForm,standAlone){return function(date,formats){var value=date["get"+name]();var propPrefix=(standAlone?"STANDALONE":"")+(shortForm?"SHORT":"");var get=uppercase(propPrefix+name);return formats[get][value]}}function timeZoneGetter(date,formats,offset){var zone=-1*offset;var paddedZone=zone>=0?"+":"";paddedZone+=padNumber(Math[zone>0?"floor":"ceil"](zone/60),2)+padNumber(Math.abs(zone%60),2);return paddedZone}function getFirstThursdayOfYear(year){var dayOfWeekOnFirst=
(new Date(year,0,1)).getDay();return new Date(year,0,(dayOfWeekOnFirst<=4?5:12)-dayOfWeekOnFirst)}function getThursdayThisWeek(datetime){return new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()))}function weekGetter(size){return function(date){var firstThurs=getFirstThursdayOfYear(date.getFullYear()),thisThurs=getThursdayThisWeek(date);var diff=+thisThurs-+firstThurs,result=1+Math.round(diff/6048E5);return padNumber(result,size)}}function ampmGetter(date,
formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1]}function eraGetter(date,formats){return date.getFullYear()<=0?formats.ERAS[0]:formats.ERAS[1]}function longEraGetter(date,formats){return date.getFullYear()<=0?formats.ERANAMES[0]:formats.ERANAMES[1]}var DATE_FORMATS={yyyy:dateGetter("FullYear",4,0,false,true),yy:dateGetter("FullYear",2,0,true,true),y:dateGetter("FullYear",1,0,false,true),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",true),MM:dateGetter("Month",2,1),M:dateGetter("Month",
1,1),LLLL:dateStrGetter("Month",false,true),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",true),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1),G:eraGetter,GG:eraGetter,GGG:eraGetter,GGGG:longEraGetter};
var DATE_FORMATS_SPLIT=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,NUMBER_STRING=/^-?\d+$/;dateFilter.$inject=["$locale"];function dateFilter($locale){var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,
timeSetter=match[8]?date.setUTCHours:date.setHours;if(match[9]){tzHour=toInt(match[9]+match[10]);tzMin=toInt(match[9]+match[11])}dateSetter.call(date,toInt(match[1]),toInt(match[2])-1,toInt(match[3]));var h=toInt(match[4]||0)-tzHour;var m=toInt(match[5]||0)-tzMin;var s=toInt(match[6]||0);var ms=Math.round(parseFloat("0."+(match[7]||0))*1E3);timeSetter.call(date,h,m,s,ms);return date}return string}return function(date,format,timezone){var text="",parts=[],fn,match;format=format||"mediumDate";format=
$locale.DATETIME_FORMATS[format]||format;if(isString(date))date=NUMBER_STRING.test(date)?toInt(date):jsonStringToDate(date);if(isNumber(date))date=new Date(date);if(!isDate(date)||!isFinite(date.getTime()))return date;while(format){match=DATE_FORMATS_SPLIT.exec(format);if(match){parts=concat(parts,match,1);format=parts.pop()}else{parts.push(format);format=null}}var dateTimezoneOffset=date.getTimezoneOffset();if(timezone){dateTimezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);date=convertTimezoneToLocal(date,
timezone,true)}forEach(parts,function(value){fn=DATE_FORMATS[value];text+=fn?fn(date,$locale.DATETIME_FORMATS,dateTimezoneOffset):value==="''"?"'":value.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return text}}function jsonFilter(){return function(object,spacing){if(isUndefined(spacing))spacing=2;return toJson(object,spacing)}}var lowercaseFilter=valueFn(lowercase);var uppercaseFilter=valueFn(uppercase);function limitToFilter(){return function(input,limit,begin){if(Math.abs(Number(limit))===Infinity)limit=
Number(limit);else limit=toInt(limit);if(isNumberNaN(limit))return input;if(isNumber(input))input=input.toString();if(!isArrayLike(input))return input;begin=!begin||isNaN(begin)?0:toInt(begin);begin=begin<0?Math.max(0,input.length+begin):begin;if(limit>=0)return sliceFn(input,begin,begin+limit);else if(begin===0)return sliceFn(input,limit,input.length);else return sliceFn(input,Math.max(0,begin+limit),begin)}}function sliceFn(input,begin,end){if(isString(input))return input.slice(begin,end);return slice.call(input,
begin,end)}orderByFilter.$inject=["$parse"];function orderByFilter($parse){return function(array,sortPredicate,reverseOrder,compareFn){if(array==null)return array;if(!isArrayLike(array))throw minErr("orderBy")("notarray","Expected array but received: {0}",array);if(!isArray(sortPredicate))sortPredicate=[sortPredicate];if(sortPredicate.length===0)sortPredicate=["+"];var predicates=processPredicates(sortPredicate);var descending=reverseOrder?-1:1;var compare=isFunction(compareFn)?compareFn:defaultCompare;
var compareValues=Array.prototype.map.call(array,getComparisonObject);compareValues.sort(doComparison);array=compareValues.map(function(item){return item.value});return array;function getComparisonObject(value,index){return{value:value,tieBreaker:{value:index,type:"number",index:index},predicateValues:predicates.map(function(predicate){return getPredicateValue(predicate.get(value),index)})}}function doComparison(v1,v2){for(var i=0,ii=predicates.length;i<ii;i++){var result=compare(v1.predicateValues[i],
v2.predicateValues[i]);if(result)return result*predicates[i].descending*descending}return(compare(v1.tieBreaker,v2.tieBreaker)||defaultCompare(v1.tieBreaker,v2.tieBreaker))*descending}};function processPredicates(sortPredicates){return sortPredicates.map(function(predicate){var descending=1,get=identity;if(isFunction(predicate))get=predicate;else if(isString(predicate)){if(predicate.charAt(0)==="+"||predicate.charAt(0)==="-"){descending=predicate.charAt(0)==="-"?-1:1;predicate=predicate.substring(1)}if(predicate!==
""){get=$parse(predicate);if(get.constant){var key=get();get=function(value){return value[key]}}}}return{get:get,descending:descending}})}function isPrimitive(value){switch(typeof value){case "number":case "boolean":case "string":return true;default:return false}}function objectValue(value){if(isFunction(value.valueOf)){value=value.valueOf();if(isPrimitive(value))return value}if(hasCustomToString(value)){value=value.toString();if(isPrimitive(value))return value}return value}function getPredicateValue(value,
index){var type=typeof value;if(value===null)type="null";else if(type==="object")value=objectValue(value);return{value:value,type:type,index:index}}function defaultCompare(v1,v2){var result=0;var type1=v1.type;var type2=v2.type;if(type1===type2){var value1=v1.value;var value2=v2.value;if(type1==="string"){value1=value1.toLowerCase();value2=value2.toLowerCase()}else if(type1==="object"){if(isObject(value1))value1=v1.index;if(isObject(value2))value2=v2.index}if(value1!==value2)result=value1<value2?
-1:1}else result=type1==="undefined"?1:type2==="undefined"?-1:type1==="null"?1:type2==="null"?-1:type1<type2?-1:1;return result}}function ngDirective(directive){if(isFunction(directive))directive={link:directive};directive.restrict=directive.restrict||"AC";return valueFn(directive)}var htmlAnchorDirective=valueFn({restrict:"E",compile:function(element,attr){if(!attr.href&&!attr.xlinkHref)return function(scope,element){if(element[0].nodeName.toLowerCase()!=="a")return;var href=toString.call(element.prop("href"))===
"[object SVGAnimatedString]"?"xlink:href":"href";element.on("click",function(event){if(!element.attr(href))event.preventDefault()})}}});var ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){if(propName==="multiple")return;function defaultLinkFn(scope,element,attr){scope.$watch(attr[normalized],function ngBooleanAttrWatchAction(value){attr.$set(attrName,!!value)})}var normalized=directiveNormalize("ng-"+attrName);var linkFn=defaultLinkFn;if(propName==="checked")linkFn=
function(scope,element,attr){if(attr.ngModel!==attr[normalized])defaultLinkFn(scope,element,attr)};ngAttributeAliasDirectives[normalized]=function(){return{restrict:"A",priority:100,link:linkFn}}});forEach(ALIASED_ATTR,function(htmlAttr,ngAttr){ngAttributeAliasDirectives[ngAttr]=function(){return{priority:100,link:function(scope,element,attr){if(ngAttr==="ngPattern"&&attr.ngPattern.charAt(0)==="/"){var match=attr.ngPattern.match(REGEX_STRING_REGEXP);if(match){attr.$set("ngPattern",new RegExp(match[1],
match[2]));return}}scope.$watch(attr[ngAttr],function ngAttrAliasWatchAction(value){attr.$set(ngAttr,value)})}}}});forEach(["src","srcset","href"],function(attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=["$sce",function($sce){return{priority:99,link:function(scope,element,attr){var propName=attrName,name=attrName;if(attrName==="href"&&toString.call(element.prop("href"))==="[object SVGAnimatedString]"){name="xlinkHref";attr.$attr[name]="xlink:href";
propName=null}attr.$set(normalized,$sce.getTrustedMediaUrl(attr[normalized]));attr.$observe(normalized,function(value){if(!value){if(attrName==="href")attr.$set(name,null);return}attr.$set(name,value);if(msie&&propName)element.prop(propName,attr[name])})}}}]});var nullFormCtrl={$addControl:noop,$getControls:valueFn([]),$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop,$$setSubmitted:noop},PENDING_CLASS="ng-pending",SUBMITTED_CLASS=
"ng-submitted";function nullFormRenameControl(control,name){control.$name=name}FormController.$inject=["$element","$attrs","$scope","$animate","$interpolate"];function FormController($element,$attrs,$scope,$animate,$interpolate){this.$$controls=[];this.$error={};this.$$success={};this.$pending=undefined;this.$name=$interpolate($attrs.name||$attrs.ngForm||"")($scope);this.$dirty=false;this.$pristine=true;this.$valid=true;this.$invalid=false;this.$submitted=false;this.$$parentForm=nullFormCtrl;this.$$element=
$element;this.$$animate=$animate;setupValidity(this)}FormController.prototype={$rollbackViewValue:function(){forEach(this.$$controls,function(control){control.$rollbackViewValue()})},$commitViewValue:function(){forEach(this.$$controls,function(control){control.$commitViewValue()})},$addControl:function(control){assertNotHasOwnProperty(control.$name,"input");this.$$controls.push(control);if(control.$name)this[control.$name]=control;control.$$parentForm=this},$getControls:function(){return shallowCopy(this.$$controls)},
$$renameControl:function(control,newName){var oldName=control.$name;if(this[oldName]===control)delete this[oldName];this[newName]=control;control.$name=newName},$removeControl:function(control){if(control.$name&&this[control.$name]===control)delete this[control.$name];forEach(this.$pending,function(value,name){this.$setValidity(name,null,control)},this);forEach(this.$error,function(value,name){this.$setValidity(name,null,control)},this);forEach(this.$$success,function(value,name){this.$setValidity(name,
null,control)},this);arrayRemove(this.$$controls,control);control.$$parentForm=nullFormCtrl},$setDirty:function(){this.$$animate.removeClass(this.$$element,PRISTINE_CLASS);this.$$animate.addClass(this.$$element,DIRTY_CLASS);this.$dirty=true;this.$pristine=false;this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,PRISTINE_CLASS,DIRTY_CLASS+" "+SUBMITTED_CLASS);this.$dirty=false;this.$pristine=true;this.$submitted=false;forEach(this.$$controls,function(control){control.$setPristine()})},
$setUntouched:function(){forEach(this.$$controls,function(control){control.$setUntouched()})},$setSubmitted:function(){var rootForm=this;while(rootForm.$$parentForm&&rootForm.$$parentForm!==nullFormCtrl)rootForm=rootForm.$$parentForm;rootForm.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,SUBMITTED_CLASS);this.$submitted=true;forEach(this.$$controls,function(control){if(control.$$setSubmitted)control.$$setSubmitted()})}};addSetValidityMethod({clazz:FormController,
set:function(object,property,controller){var list=object[property];if(!list)object[property]=[controller];else{var index=list.indexOf(controller);if(index===-1)list.push(controller)}},unset:function(object,property,controller){var list=object[property];if(!list)return;arrayRemove(list,controller);if(list.length===0)delete object[property]}});var formDirectiveFactory=function(isNgForm){return["$timeout","$parse",function($timeout,$parse){var formDirective={name:"form",restrict:isNgForm?"EAC":"E",require:["form",
"^^?form"],controller:FormController,compile:function ngFormCompile(formElement,attr){formElement.addClass(PRISTINE_CLASS).addClass(VALID_CLASS);var nameAttr=attr.name?"name":isNgForm&&attr.ngForm?"ngForm":false;return{pre:function ngFormPreLink(scope,formElement,attr,ctrls){var controller=ctrls[0];if(!("action"in attr)){var handleFormSubmission=function(event){scope.$apply(function(){controller.$commitViewValue();controller.$setSubmitted()});event.preventDefault()};formElement[0].addEventListener("submit",
handleFormSubmission);formElement.on("$destroy",function(){$timeout(function(){formElement[0].removeEventListener("submit",handleFormSubmission)},0,false)})}var parentFormCtrl=ctrls[1]||controller.$$parentForm;parentFormCtrl.$addControl(controller);var setter=nameAttr?getSetter(controller.$name):noop;if(nameAttr){setter(scope,controller);attr.$observe(nameAttr,function(newValue){if(controller.$name===newValue)return;setter(scope,undefined);controller.$$parentForm.$$renameControl(controller,newValue);
setter=getSetter(controller.$name);setter(scope,controller)})}formElement.on("$destroy",function(){controller.$$parentForm.$removeControl(controller);setter(scope,undefined);extend(controller,nullFormCtrl)})}}}};return formDirective;function getSetter(expression){if(expression==="")return $parse('this[""]').assign;return $parse(expression).assign||noop}}]};var formDirective=formDirectiveFactory();var ngFormDirective=formDirectiveFactory(true);function setupValidity(instance){instance.$$classCache=
{};instance.$$classCache[INVALID_CLASS]=!(instance.$$classCache[VALID_CLASS]=instance.$$element.hasClass(VALID_CLASS))}function addSetValidityMethod(context){var clazz=context.clazz,set=context.set,unset=context.unset;clazz.prototype.$setValidity=function(validationErrorKey,state,controller){if(isUndefined(state))createAndSet(this,"$pending",validationErrorKey,controller);else unsetAndCleanup(this,"$pending",validationErrorKey,controller);if(!isBoolean(state)){unset(this.$error,validationErrorKey,
controller);unset(this.$$success,validationErrorKey,controller)}else if(state){unset(this.$error,validationErrorKey,controller);set(this.$$success,validationErrorKey,controller)}else{set(this.$error,validationErrorKey,controller);unset(this.$$success,validationErrorKey,controller)}if(this.$pending){cachedToggleClass(this,PENDING_CLASS,true);this.$valid=this.$invalid=undefined;toggleValidationCss(this,"",null)}else{cachedToggleClass(this,PENDING_CLASS,false);this.$valid=isObjectEmpty(this.$error);
this.$invalid=!this.$valid;toggleValidationCss(this,"",this.$valid)}var combinedState;if(this.$pending&&this.$pending[validationErrorKey])combinedState=undefined;else if(this.$error[validationErrorKey])combinedState=false;else if(this.$$success[validationErrorKey])combinedState=true;else combinedState=null;toggleValidationCss(this,validationErrorKey,combinedState);this.$$parentForm.$setValidity(validationErrorKey,combinedState,this)};function createAndSet(ctrl,name,value,controller){if(!ctrl[name])ctrl[name]=
{};set(ctrl[name],value,controller)}function unsetAndCleanup(ctrl,name,value,controller){if(ctrl[name])unset(ctrl[name],value,controller);if(isObjectEmpty(ctrl[name]))ctrl[name]=undefined}function cachedToggleClass(ctrl,className,switchValue){if(switchValue&&!ctrl.$$classCache[className]){ctrl.$$animate.addClass(ctrl.$$element,className);ctrl.$$classCache[className]=true}else if(!switchValue&&ctrl.$$classCache[className]){ctrl.$$animate.removeClass(ctrl.$$element,className);ctrl.$$classCache[className]=
false}}function toggleValidationCss(ctrl,validationErrorKey,isValid){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"";cachedToggleClass(ctrl,VALID_CLASS+validationErrorKey,isValid===true);cachedToggleClass(ctrl,INVALID_CLASS+validationErrorKey,isValid===false)}}function isObjectEmpty(obj){if(obj)for(var prop in obj)if(obj.hasOwnProperty(prop))return false;return true}var ISO_DATE_REGEXP=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/;
var URL_REGEXP=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i;var EMAIL_REGEXP=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;var NUMBER_REGEXP=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/;var DATE_REGEXP=/^(\d{4,})-(\d{2})-(\d{2})$/;var DATETIMELOCAL_REGEXP=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;
var WEEK_REGEXP=/^(\d{4,})-W(\d\d)$/;var MONTH_REGEXP=/^(\d{4,})-(\d\d)$/;var TIME_REGEXP=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var PARTIAL_VALIDATION_EVENTS="keydown wheel mousedown";var PARTIAL_VALIDATION_TYPES=createMap();forEach("date,datetime-local,month,time,week".split(","),function(type){PARTIAL_VALIDATION_TYPES[type]=true});var inputType={"text":textInputType,"date":createDateInputType("date",DATE_REGEXP,createDateParser(DATE_REGEXP,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",
DATETIMELOCAL_REGEXP,createDateParser(DATETIMELOCAL_REGEXP,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),"time":createDateInputType("time",TIME_REGEXP,createDateParser(TIME_REGEXP,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),"week":createDateInputType("week",WEEK_REGEXP,weekParser,"yyyy-Www"),"month":createDateInputType("month",MONTH_REGEXP,createDateParser(MONTH_REGEXP,["yyyy","MM"]),"yyyy-MM"),"number":numberInputType,"url":urlInputType,"email":emailInputType,"radio":radioInputType,
"range":rangeInputType,"checkbox":checkboxInputType,"hidden":noop,"button":noop,"submit":noop,"reset":noop,"file":noop};function stringBasedInputType(ctrl){ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?value:value.toString()})}function textInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl)}function baseInputType(scope,element,attr,ctrl,$sniffer,$browser){var type=lowercase(element[0].type);if(!$sniffer.android){var composing=
false;element.on("compositionstart",function(){composing=true});element.on("compositionupdate",function(ev){if(isUndefined(ev.data)||ev.data==="")composing=false});element.on("compositionend",function(){composing=false;listener()})}var timeout;var listener=function(ev){if(timeout){$browser.defer.cancel(timeout);timeout=null}if(composing)return;var value=element.val(),event=ev&&ev.type;if(type!=="password"&&(!attr.ngTrim||attr.ngTrim!=="false"))value=trim(value);if(ctrl.$viewValue!==value||value===
""&&ctrl.$$hasNativeValidators)ctrl.$setViewValue(value,event)};if($sniffer.hasEvent("input"))element.on("input",listener);else{var deferListener=function(ev,input,origValue){if(!timeout)timeout=$browser.defer(function(){timeout=null;if(!input||input.value!==origValue)listener(ev)})};element.on("keydown",function(event){var key=event.keyCode;if(key===91||15<key&&key<19||37<=key&&key<=40)return;deferListener(event,this,this.value)});if($sniffer.hasEvent("paste"))element.on("paste cut drop",deferListener)}element.on("change",
listener);if(PARTIAL_VALIDATION_TYPES[type]&&ctrl.$$hasNativeValidators&&type===attr.type)element.on(PARTIAL_VALIDATION_EVENTS,function(ev){if(!timeout){var validity=this[VALIDITY_STATE_PROPERTY];var origBadInput=validity.badInput;var origTypeMismatch=validity.typeMismatch;timeout=$browser.defer(function(){timeout=null;if(validity.badInput!==origBadInput||validity.typeMismatch!==origTypeMismatch)listener(ev)})}});ctrl.$render=function(){var value=ctrl.$isEmpty(ctrl.$viewValue)?"":ctrl.$viewValue;
if(element.val()!==value)element.val(value)}}function weekParser(isoWeek,existingDate){if(isDate(isoWeek))return isoWeek;if(isString(isoWeek)){WEEK_REGEXP.lastIndex=0;var parts=WEEK_REGEXP.exec(isoWeek);if(parts){var year=+parts[1],week=+parts[2],hours=0,minutes=0,seconds=0,milliseconds=0,firstThurs=getFirstThursdayOfYear(year),addDays=(week-1)*7;if(existingDate){hours=existingDate.getHours();minutes=existingDate.getMinutes();seconds=existingDate.getSeconds();milliseconds=existingDate.getMilliseconds()}return new Date(year,
0,firstThurs.getDate()+addDays,hours,minutes,seconds,milliseconds)}}return NaN}function createDateParser(regexp,mapping){return function(iso,previousDate){var parts,map;if(isDate(iso))return iso;if(isString(iso)){if(iso.charAt(0)==='"'&&iso.charAt(iso.length-1)==='"')iso=iso.substring(1,iso.length-1);if(ISO_DATE_REGEXP.test(iso))return new Date(iso);regexp.lastIndex=0;parts=regexp.exec(iso);if(parts){parts.shift();if(previousDate)map={yyyy:previousDate.getFullYear(),MM:previousDate.getMonth()+1,dd:previousDate.getDate(),
HH:previousDate.getHours(),mm:previousDate.getMinutes(),ss:previousDate.getSeconds(),sss:previousDate.getMilliseconds()/1E3};else map={yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0};forEach(parts,function(part,index){if(index<mapping.length)map[mapping[index]]=+part});var date=new Date(map.yyyy,map.MM-1,map.dd,map.HH,map.mm,map.ss||0,map.sss*1E3||0);if(map.yyyy<100)date.setFullYear(map.yyyy);return date}}return NaN}}function createDateInputType(type,regexp,parseDate,format){return function dynamicDateInputType(scope,
element,attr,ctrl,$sniffer,$browser,$filter,$parse){badInputChecker(scope,element,attr,ctrl,type);baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var isTimeType=type==="time"||type==="datetimelocal";var previousDate;var previousTimezone;ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(regexp.test(value))return parseDateAndConvertTimeZoneToLocal(value,previousDate);ctrl.$$parserName=type;return undefined});ctrl.$formatters.push(function(value){if(value&&!isDate(value))throw ngModelMinErr("datefmt",
"Expected `{0}` to be a date",value);if(isValidDate(value)){previousDate=value;var timezone=ctrl.$options.getOption("timezone");if(timezone){previousTimezone=timezone;previousDate=convertTimezoneToLocal(previousDate,timezone,true)}return formatter(value,timezone)}else{previousDate=null;previousTimezone=null;return""}});if(isDefined(attr.min)||attr.ngMin){var minVal=attr.min||$parse(attr.ngMin)(scope);var parsedMinVal=parseObservedDateValue(minVal);ctrl.$validators.min=function(value){return!isValidDate(value)||
isUndefined(parsedMinVal)||parseDate(value)>=parsedMinVal};attr.$observe("min",function(val){if(val!==minVal){parsedMinVal=parseObservedDateValue(val);minVal=val;ctrl.$validate()}})}if(isDefined(attr.max)||attr.ngMax){var maxVal=attr.max||$parse(attr.ngMax)(scope);var parsedMaxVal=parseObservedDateValue(maxVal);ctrl.$validators.max=function(value){return!isValidDate(value)||isUndefined(parsedMaxVal)||parseDate(value)<=parsedMaxVal};attr.$observe("max",function(val){if(val!==maxVal){parsedMaxVal=parseObservedDateValue(val);
maxVal=val;ctrl.$validate()}})}function isValidDate(value){return value&&!(value.getTime&&value.getTime()!==value.getTime())}function parseObservedDateValue(val){return isDefined(val)&&!isDate(val)?parseDateAndConvertTimeZoneToLocal(val)||undefined:val}function parseDateAndConvertTimeZoneToLocal(value,previousDate){var timezone=ctrl.$options.getOption("timezone");if(previousTimezone&&previousTimezone!==timezone)previousDate=addDateMinutes(previousDate,timezoneToOffset(previousTimezone));var parsedDate=
parseDate(value,previousDate);if(!isNaN(parsedDate)&&timezone)parsedDate=convertTimezoneToLocal(parsedDate,timezone);return parsedDate}function formatter(value,timezone){var targetFormat=format;if(isTimeType&&isString(ctrl.$options.getOption("timeSecondsFormat")))targetFormat=format.replace("ss.sss",ctrl.$options.getOption("timeSecondsFormat")).replace(/:$/,"");var formatted=$filter("date")(value,targetFormat,timezone);if(isTimeType&&ctrl.$options.getOption("timeStripZeroSeconds"))formatted=formatted.replace(/(?::00)?(?:\.000)?$/,
"");return formatted}}}function badInputChecker(scope,element,attr,ctrl,parserName){var node=element[0];var nativeValidation=ctrl.$$hasNativeValidators=isObject(node.validity);if(nativeValidation)ctrl.$parsers.push(function(value){var validity=element.prop(VALIDITY_STATE_PROPERTY)||{};if(validity.badInput||validity.typeMismatch){ctrl.$$parserName=parserName;return undefined}return value})}function numberFormatterParser(ctrl){ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(NUMBER_REGEXP.test(value))return parseFloat(value);
ctrl.$$parserName="number";return undefined});ctrl.$formatters.push(function(value){if(!ctrl.$isEmpty(value)){if(!isNumber(value))throw ngModelMinErr("numfmt","Expected `{0}` to be a number",value);value=value.toString()}return value})}function parseNumberAttrVal(val){if(isDefined(val)&&!isNumber(val))val=parseFloat(val);return!isNumberNaN(val)?val:undefined}function isNumberInteger(num){return(num|0)===num}function countDecimals(num){var numString=num.toString();var decimalSymbolIndex=numString.indexOf(".");
if(decimalSymbolIndex===-1){if(-1<num&&num<1){var match=/e-(\d+)$/.exec(numString);if(match)return Number(match[1])}return 0}return numString.length-decimalSymbolIndex-1}function isValidForStep(viewValue,stepBase,step){var value=Number(viewValue);var isNonIntegerValue=!isNumberInteger(value);var isNonIntegerStepBase=!isNumberInteger(stepBase);var isNonIntegerStep=!isNumberInteger(step);if(isNonIntegerValue||isNonIntegerStepBase||isNonIntegerStep){var valueDecimals=isNonIntegerValue?countDecimals(value):
0;var stepBaseDecimals=isNonIntegerStepBase?countDecimals(stepBase):0;var stepDecimals=isNonIntegerStep?countDecimals(step):0;var decimalCount=Math.max(valueDecimals,stepBaseDecimals,stepDecimals);var multiplier=Math.pow(10,decimalCount);value=value*multiplier;stepBase=stepBase*multiplier;step=step*multiplier;if(isNonIntegerValue)value=Math.round(value);if(isNonIntegerStepBase)stepBase=Math.round(stepBase);if(isNonIntegerStep)step=Math.round(step)}return(value-stepBase)%step===0}function numberInputType(scope,
element,attr,ctrl,$sniffer,$browser,$filter,$parse){badInputChecker(scope,element,attr,ctrl,"number");numberFormatterParser(ctrl);baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var parsedMinVal;if(isDefined(attr.min)||attr.ngMin){var minVal=attr.min||$parse(attr.ngMin)(scope);parsedMinVal=parseNumberAttrVal(minVal);ctrl.$validators.min=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(parsedMinVal)||viewValue>=parsedMinVal};attr.$observe("min",function(val){if(val!==
minVal){parsedMinVal=parseNumberAttrVal(val);minVal=val;ctrl.$validate()}})}if(isDefined(attr.max)||attr.ngMax){var maxVal=attr.max||$parse(attr.ngMax)(scope);var parsedMaxVal=parseNumberAttrVal(maxVal);ctrl.$validators.max=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(parsedMaxVal)||viewValue<=parsedMaxVal};attr.$observe("max",function(val){if(val!==maxVal){parsedMaxVal=parseNumberAttrVal(val);maxVal=val;ctrl.$validate()}})}if(isDefined(attr.step)||attr.ngStep){var stepVal=
attr.step||$parse(attr.ngStep)(scope);var parsedStepVal=parseNumberAttrVal(stepVal);ctrl.$validators.step=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(parsedStepVal)||isValidForStep(viewValue,parsedMinVal||0,parsedStepVal)};attr.$observe("step",function(val){if(val!==stepVal){parsedStepVal=parseNumberAttrVal(val);stepVal=val;ctrl.$validate()}})}}function rangeInputType(scope,element,attr,ctrl,$sniffer,$browser){badInputChecker(scope,element,attr,ctrl,"range");numberFormatterParser(ctrl);
baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var supportsRange=ctrl.$$hasNativeValidators&&element[0].type==="range",minVal=supportsRange?0:undefined,maxVal=supportsRange?100:undefined,stepVal=supportsRange?1:undefined,validity=element[0].validity,hasMinAttr=isDefined(attr.min),hasMaxAttr=isDefined(attr.max),hasStepAttr=isDefined(attr.step);var originalRender=ctrl.$render;ctrl.$render=supportsRange&&isDefined(validity.rangeUnderflow)&&isDefined(validity.rangeOverflow)?function rangeRender(){originalRender();
ctrl.$setViewValue(element.val())}:originalRender;if(hasMinAttr){minVal=parseNumberAttrVal(attr.min);ctrl.$validators.min=supportsRange?function noopMinValidator(){return true}:function minValidator(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(minVal)||viewValue>=minVal};setInitialValueAndObserver("min",minChange)}if(hasMaxAttr){maxVal=parseNumberAttrVal(attr.max);ctrl.$validators.max=supportsRange?function noopMaxValidator(){return true}:function maxValidator(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||
isUndefined(maxVal)||viewValue<=maxVal};setInitialValueAndObserver("max",maxChange)}if(hasStepAttr){stepVal=parseNumberAttrVal(attr.step);ctrl.$validators.step=supportsRange?function nativeStepValidator(){return!validity.stepMismatch}:function stepValidator(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(stepVal)||isValidForStep(viewValue,minVal||0,stepVal)};setInitialValueAndObserver("step",stepChange)}function setInitialValueAndObserver(htmlAttrName,changeFn){element.attr(htmlAttrName,
attr[htmlAttrName]);var oldVal=attr[htmlAttrName];attr.$observe(htmlAttrName,function wrappedObserver(val){if(val!==oldVal){oldVal=val;changeFn(val)}})}function minChange(val){minVal=parseNumberAttrVal(val);if(isNumberNaN(ctrl.$modelValue))return;if(supportsRange){var elVal=element.val();if(minVal>elVal){elVal=minVal;element.val(elVal)}ctrl.$setViewValue(elVal)}else ctrl.$validate()}function maxChange(val){maxVal=parseNumberAttrVal(val);if(isNumberNaN(ctrl.$modelValue))return;if(supportsRange){var elVal=
element.val();if(maxVal<elVal){element.val(maxVal);elVal=maxVal<minVal?minVal:maxVal}ctrl.$setViewValue(elVal)}else ctrl.$validate()}function stepChange(val){stepVal=parseNumberAttrVal(val);if(isNumberNaN(ctrl.$modelValue))return;if(!supportsRange)ctrl.$validate();else if(ctrl.$viewValue!==element.val())ctrl.$setViewValue(element.val())}}function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl);ctrl.$validators.url=
function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||URL_REGEXP.test(value)}}function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl);ctrl.$validators.email=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value)}}function radioInputType(scope,element,attr,ctrl){var doTrim=!attr.ngTrim||trim(attr.ngTrim)!==
"false";if(isUndefined(attr.name))element.attr("name",nextUid());var listener=function(ev){var value;if(element[0].checked){value=attr.value;if(doTrim)value=trim(value);ctrl.$setViewValue(value,ev&&ev.type)}};element.on("change",listener);ctrl.$render=function(){var value=attr.value;if(doTrim)value=trim(value);element[0].checked=value===ctrl.$viewValue};attr.$observe("value",ctrl.$render)}function parseConstantExpr($parse,context,name,expression,fallback){var parseFn;if(isDefined(expression)){parseFn=
$parse(expression);if(!parseFn.constant)throw ngModelMinErr("constexpr","Expected constant expression for `{0}`, but saw "+"`{1}`.",name,expression);return parseFn(context)}return fallback}function checkboxInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter,$parse){var trueValue=parseConstantExpr($parse,scope,"ngTrueValue",attr.ngTrueValue,true);var falseValue=parseConstantExpr($parse,scope,"ngFalseValue",attr.ngFalseValue,false);var listener=function(ev){ctrl.$setViewValue(element[0].checked,
ev&&ev.type)};element.on("change",listener);ctrl.$render=function(){element[0].checked=ctrl.$viewValue};ctrl.$isEmpty=function(value){return value===false};ctrl.$formatters.push(function(value){return equals(value,trueValue)});ctrl.$parsers.push(function(value){return value?trueValue:falseValue})}var inputDirective=["$browser","$sniffer","$filter","$parse",function($browser,$sniffer,$filter,$parse){return{restrict:"E",require:["?ngModel"],link:{pre:function(scope,element,attr,ctrls){if(ctrls[0])(inputType[lowercase(attr.type)]||
inputType.text)(scope,element,attr,ctrls[0],$sniffer,$browser,$filter,$parse)}}}}];var hiddenInputBrowserCacheDirective=function(){var valueProperty={configurable:true,enumerable:false,get:function(){return this.getAttribute("value")||""},set:function(val){this.setAttribute("value",val)}};return{restrict:"E",priority:200,compile:function(_,attr){if(lowercase(attr.type)!=="hidden")return;return{pre:function(scope,element,attr,ctrls){var node=element[0];if(node.parentNode)node.parentNode.insertBefore(node,
node.nextSibling);if(Object.defineProperty)Object.defineProperty(node,"value",valueProperty)}}}}};var CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/;var ngValueDirective=function(){function updateElementValue(element,attr,value){var propValue=isDefined(value)?value:msie===9?"":null;element.prop("value",propValue);attr.$set("value",value)}return{restrict:"A",priority:100,compile:function(tpl,tplAttr){if(CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue))return function ngValueConstantLink(scope,elm,attr){var value=
scope.$eval(attr.ngValue);updateElementValue(elm,attr,value)};else return function ngValueLink(scope,elm,attr){scope.$watch(attr.ngValue,function valueWatchAction(value){updateElementValue(elm,attr,value)})}}}};var ngBindDirective=["$compile",function($compile){return{restrict:"AC",compile:function ngBindCompile(templateElement){$compile.$$addBindingClass(templateElement);return function ngBindLink(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBind);element=element[0];scope.$watch(attr.ngBind,
function ngBindWatchAction(value){element.textContent=stringify(value)})}}}}];var ngBindTemplateDirective=["$interpolate","$compile",function($interpolate,$compile){return{compile:function ngBindTemplateCompile(templateElement){$compile.$$addBindingClass(templateElement);return function ngBindTemplateLink(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));$compile.$$addBindingInfo(element,interpolateFn.expressions);element=element[0];attr.$observe("ngBindTemplate",
function(value){element.textContent=isUndefined(value)?"":value})}}}}];var ngBindHtmlDirective=["$sce","$parse","$compile",function($sce,$parse,$compile){return{restrict:"A",compile:function ngBindHtmlCompile(tElement,tAttrs){var ngBindHtmlGetter=$parse(tAttrs.ngBindHtml);var ngBindHtmlWatch=$parse(tAttrs.ngBindHtml,function sceValueOf(val){return $sce.valueOf(val)});$compile.$$addBindingClass(tElement);return function ngBindHtmlLink(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBindHtml);
scope.$watch(ngBindHtmlWatch,function ngBindHtmlWatchAction(){var value=ngBindHtmlGetter(scope);element.html($sce.getTrustedHtml(value)||"")})}}}}];var ngChangeDirective=valueFn({restrict:"A",require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange)})}});function classDirective(name,selector){name="ngClass"+name;var indexWatchExpression;return["$parse",function($parse){return{restrict:"AC",link:function(scope,element,attr){var classCounts=
element.data("$classCounts");var oldModulo=true;var oldClassString;if(!classCounts){classCounts=createMap();element.data("$classCounts",classCounts)}if(name!=="ngClass"){if(!indexWatchExpression)indexWatchExpression=$parse("$index",function moduloTwo($index){return $index&1});scope.$watch(indexWatchExpression,ngClassIndexWatchAction)}scope.$watch($parse(attr[name],toClassString),ngClassWatchAction);function addClasses(classString){classString=digestClassCounts(split(classString),1);attr.$addClass(classString)}
function removeClasses(classString){classString=digestClassCounts(split(classString),-1);attr.$removeClass(classString)}function updateClasses(oldClassString,newClassString){var oldClassArray=split(oldClassString);var newClassArray=split(newClassString);var toRemoveArray=arrayDifference(oldClassArray,newClassArray);var toAddArray=arrayDifference(newClassArray,oldClassArray);var toRemoveString=digestClassCounts(toRemoveArray,-1);var toAddString=digestClassCounts(toAddArray,1);attr.$addClass(toAddString);
attr.$removeClass(toRemoveString)}function digestClassCounts(classArray,count){var classesToUpdate=[];forEach(classArray,function(className){if(count>0||classCounts[className]){classCounts[className]=(classCounts[className]||0)+count;if(classCounts[className]===+(count>0))classesToUpdate.push(className)}});return classesToUpdate.join(" ")}function ngClassIndexWatchAction(newModulo){if(newModulo===selector)addClasses(oldClassString);else removeClasses(oldClassString);oldModulo=newModulo}function ngClassWatchAction(newClassString){if(oldModulo===
selector)updateClasses(oldClassString,newClassString);oldClassString=newClassString}}}}];function arrayDifference(tokens1,tokens2){if(!tokens1||!tokens1.length)return[];if(!tokens2||!tokens2.length)return tokens1;var values=[];outer:for(var i=0;i<tokens1.length;i++){var token=tokens1[i];for(var j=0;j<tokens2.length;j++)if(token===tokens2[j])continue outer;values.push(token)}return values}function split(classString){return classString&&classString.split(" ")}function toClassString(classValue){if(!classValue)return classValue;
var classString=classValue;if(isArray(classValue))classString=classValue.map(toClassString).join(" ");else if(isObject(classValue))classString=Object.keys(classValue).filter(function(key){return classValue[key]}).join(" ");else if(!isString(classValue))classString=classValue+"";return classString}}var ngClassDirective=classDirective("",true);var ngClassOddDirective=classDirective("Odd",0);var ngClassEvenDirective=classDirective("Even",1);var ngCloakDirective=ngDirective({compile:function(element,
attr){attr.$set("ngCloak",undefined);element.removeClass("ng-cloak")}});var ngControllerDirective=[function(){return{restrict:"A",scope:true,controller:"@",priority:500}}];var ngEventDirectives={};var forceAsyncEvents={"blur":true,"focus":true};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(eventName){var directiveName=directiveNormalize("ng-"+eventName);ngEventDirectives[directiveName]=
["$parse","$rootScope","$exceptionHandler",function($parse,$rootScope,$exceptionHandler){return createEventDirective($parse,$rootScope,$exceptionHandler,directiveName,eventName,forceAsyncEvents[eventName])}]});function createEventDirective($parse,$rootScope,$exceptionHandler,directiveName,eventName,forceAsync){return{restrict:"A",compile:function($element,attr){var fn=$parse(attr[directiveName]);return function ngEventHandler(scope,element){element.on(eventName,function(event){var callback=function(){fn(scope,
{$event:event})};if(!$rootScope.$$phase)scope.$apply(callback);else if(forceAsync)scope.$evalAsync(callback);else try{callback()}catch(error){$exceptionHandler(error)}})}}}}var ngIfDirective=["$animate","$compile",function($animate,$compile){return{multiElement:true,transclude:"element",priority:600,terminal:true,restrict:"A",$$tlb:true,link:function($scope,$element,$attr,ctrl,$transclude){var block,childScope,previousElements;$scope.$watch($attr.ngIf,function ngIfWatchAction(value){if(value){if(!childScope)$transclude(function(clone,
newScope){childScope=newScope;clone[clone.length++]=$compile.$$createComment("end ngIf",$attr.ngIf);block={clone:clone};$animate.enter(clone,$element.parent(),$element)})}else{if(previousElements){previousElements.remove();previousElements=null}if(childScope){childScope.$destroy();childScope=null}if(block){previousElements=getBlockNodes(block.clone);$animate.leave(previousElements).done(function(response){if(response!==false)previousElements=null});block=null}}})}}}];var ngIncludeDirective=["$templateRequest",
"$anchorScroll","$animate",function($templateRequest,$anchorScroll,$animate){return{restrict:"ECA",priority:400,terminal:true,transclude:"element",controller:angular.noop,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var changeCounter=0,currentScope,previousElement,currentElement;var cleanupLastIncludeContent=function(){if(previousElement){previousElement.remove();previousElement=
null}if(currentScope){currentScope.$destroy();currentScope=null}if(currentElement){$animate.leave(currentElement).done(function(response){if(response!==false)previousElement=null});previousElement=currentElement;currentElement=null}};scope.$watch(srcExp,function ngIncludeWatchAction(src){var afterAnimation=function(response){if(response!==false&&isDefined(autoScrollExp)&&(!autoScrollExp||scope.$eval(autoScrollExp)))$anchorScroll()};var thisChangeId=++changeCounter;if(src){$templateRequest(src,true).then(function(response){if(scope.$$destroyed)return;
if(thisChangeId!==changeCounter)return;var newScope=scope.$new();ctrl.template=response;var clone=$transclude(newScope,function(clone){cleanupLastIncludeContent();$animate.enter(clone,null,$element).done(afterAnimation)});currentScope=newScope;currentElement=clone;currentScope.$emit("$includeContentLoaded",src);scope.$eval(onloadExp)},function(){if(scope.$$destroyed)return;if(thisChangeId===changeCounter){cleanupLastIncludeContent();scope.$emit("$includeContentError",src)}});scope.$emit("$includeContentRequested",
src)}else{cleanupLastIncludeContent();ctrl.template=null}})}}}}];var ngIncludeFillContentDirective=["$compile",function($compile){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(scope,$element,$attr,ctrl){if(toString.call($element[0]).match(/SVG/)){$element.empty();$compile(jqLiteBuildFragment(ctrl.template,window.document).childNodes)(scope,function namespaceAdaptedClone(clone){$element.append(clone)},{futureParentElement:$element});return}$element.html(ctrl.template);$compile($element.contents())(scope)}}}];
var ngInitDirective=ngDirective({priority:450,compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit)}}}});var ngListDirective=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(scope,element,attr,ctrl){var ngList=attr.ngList||", ";var trimValues=attr.ngTrim!=="false";var separator=trimValues?trim(ngList):ngList;var parse=function(viewValue){if(isUndefined(viewValue))return;var list=[];if(viewValue)forEach(viewValue.split(separator),function(value){if(value)list.push(trimValues?
trim(value):value)});return list};ctrl.$parsers.push(parse);ctrl.$formatters.push(function(value){if(isArray(value))return value.join(ngList);return undefined});ctrl.$isEmpty=function(value){return!value||!value.length}}}};var VALID_CLASS="ng-valid",INVALID_CLASS="ng-invalid",PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty",UNTOUCHED_CLASS="ng-untouched",TOUCHED_CLASS="ng-touched",EMPTY_CLASS="ng-empty",NOT_EMPTY_CLASS="ng-not-empty";var ngModelMinErr=minErr("ngModel");NgModelController.$inject=
["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"];function NgModelController($scope,$exceptionHandler,$attr,$element,$parse,$animate,$timeout,$q,$interpolate){this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$$rawModelValue=undefined;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=true;this.$touched=false;this.$pristine=true;this.$dirty=false;this.$valid=true;
this.$invalid=false;this.$error={};this.$$success={};this.$pending=undefined;this.$name=$interpolate($attr.name||"",false)($scope);this.$$parentForm=nullFormCtrl;this.$options=defaultModelOptions;this.$$updateEvents="";this.$$updateEventHandler=this.$$updateEventHandler.bind(this);this.$$parsedNgModel=$parse($attr.ngModel);this.$$parsedNgModelAssign=this.$$parsedNgModel.assign;this.$$ngModelGet=this.$$parsedNgModel;this.$$ngModelSet=this.$$parsedNgModelAssign;this.$$pendingDebounce=null;this.$$parserValid=
undefined;this.$$parserName="parse";this.$$currentValidationRunId=0;this.$$scope=$scope;this.$$rootScope=$scope.$root;this.$$attr=$attr;this.$$element=$element;this.$$animate=$animate;this.$$timeout=$timeout;this.$$parse=$parse;this.$$q=$q;this.$$exceptionHandler=$exceptionHandler;setupValidity(this);setupModelWatcher(this)}NgModelController.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var invokeModelGetter=this.$$parse(this.$$attr.ngModel+"()"),invokeModelSetter=
this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function($scope){var modelValue=this.$$parsedNgModel($scope);if(isFunction(modelValue))modelValue=invokeModelGetter($scope);return modelValue};this.$$ngModelSet=function($scope,newValue){if(isFunction(this.$$parsedNgModel($scope)))invokeModelSetter($scope,{$$$p:newValue});else this.$$parsedNgModelAssign($scope,newValue)}}else if(!this.$$parsedNgModel.assign)throw ngModelMinErr("nonassign","Expression '{0}' is non-assignable. Element: {1}",
this.$$attr.ngModel,startingTag(this.$$element));},$render:noop,$isEmpty:function(value){return isUndefined(value)||value===""||value===null||value!==value},$$updateEmptyClasses:function(value){if(this.$isEmpty(value)){this.$$animate.removeClass(this.$$element,NOT_EMPTY_CLASS);this.$$animate.addClass(this.$$element,EMPTY_CLASS)}else{this.$$animate.removeClass(this.$$element,EMPTY_CLASS);this.$$animate.addClass(this.$$element,NOT_EMPTY_CLASS)}},$setPristine:function(){this.$dirty=false;this.$pristine=
true;this.$$animate.removeClass(this.$$element,DIRTY_CLASS);this.$$animate.addClass(this.$$element,PRISTINE_CLASS)},$setDirty:function(){this.$dirty=true;this.$pristine=false;this.$$animate.removeClass(this.$$element,PRISTINE_CLASS);this.$$animate.addClass(this.$$element,DIRTY_CLASS);this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=false;this.$untouched=true;this.$$animate.setClass(this.$$element,UNTOUCHED_CLASS,TOUCHED_CLASS)},$setTouched:function(){this.$touched=true;this.$untouched=
false;this.$$animate.setClass(this.$$element,TOUCHED_CLASS,UNTOUCHED_CLASS)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce);this.$viewValue=this.$$lastCommittedViewValue;this.$render()},$validate:function(){if(isNumberNaN(this.$modelValue))return;var viewValue=this.$$lastCommittedViewValue;var modelValue=this.$$rawModelValue;var prevValid=this.$valid;var prevModelValue=this.$modelValue;var allowInvalid=this.$options.getOption("allowInvalid");var that=this;this.$$runValidators(modelValue,
viewValue,function(allValid){if(!allowInvalid&&prevValid!==allValid){that.$modelValue=allValid?modelValue:undefined;if(that.$modelValue!==prevModelValue)that.$$writeModelToScope()}})},$$runValidators:function(modelValue,viewValue,doneCallback){this.$$currentValidationRunId++;var localValidationRunId=this.$$currentValidationRunId;var that=this;if(!processParseErrors()){validationDone(false);return}if(!processSyncValidators()){validationDone(false);return}processAsyncValidators();function processParseErrors(){var errorKey=
that.$$parserName;if(isUndefined(that.$$parserValid))setValidity(errorKey,null);else{if(!that.$$parserValid){forEach(that.$validators,function(v,name){setValidity(name,null)});forEach(that.$asyncValidators,function(v,name){setValidity(name,null)})}setValidity(errorKey,that.$$parserValid);return that.$$parserValid}return true}function processSyncValidators(){var syncValidatorsValid=true;forEach(that.$validators,function(validator,name){var result=Boolean(validator(modelValue,viewValue));syncValidatorsValid=
syncValidatorsValid&&result;setValidity(name,result)});if(!syncValidatorsValid){forEach(that.$asyncValidators,function(v,name){setValidity(name,null)});return false}return true}function processAsyncValidators(){var validatorPromises=[];var allValid=true;forEach(that.$asyncValidators,function(validator,name){var promise=validator(modelValue,viewValue);if(!isPromiseLike(promise))throw ngModelMinErr("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",promise);setValidity(name,
undefined);validatorPromises.push(promise.then(function(){setValidity(name,true)},function(){allValid=false;setValidity(name,false)}))});if(!validatorPromises.length)validationDone(true);else that.$$q.all(validatorPromises).then(function(){validationDone(allValid)},noop)}function setValidity(name,isValid){if(localValidationRunId===that.$$currentValidationRunId)that.$setValidity(name,isValid)}function validationDone(allValid){if(localValidationRunId===that.$$currentValidationRunId)doneCallback(allValid)}
},$commitViewValue:function(){var viewValue=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce);if(this.$$lastCommittedViewValue===viewValue&&(viewValue!==""||!this.$$hasNativeValidators))return;this.$$updateEmptyClasses(viewValue);this.$$lastCommittedViewValue=viewValue;if(this.$pristine)this.$setDirty();this.$$parseAndValidate()},$$parseAndValidate:function(){var viewValue=this.$$lastCommittedViewValue;var modelValue=viewValue;var that=this;this.$$parserValid=isUndefined(modelValue)?undefined:
true;this.$setValidity(this.$$parserName,null);this.$$parserName="parse";if(this.$$parserValid)for(var i=0;i<this.$parsers.length;i++){modelValue=this.$parsers[i](modelValue);if(isUndefined(modelValue)){this.$$parserValid=false;break}}if(isNumberNaN(this.$modelValue))this.$modelValue=this.$$ngModelGet(this.$$scope);var prevModelValue=this.$modelValue;var allowInvalid=this.$options.getOption("allowInvalid");this.$$rawModelValue=modelValue;if(allowInvalid){this.$modelValue=modelValue;writeToModelIfNeeded()}this.$$runValidators(modelValue,
this.$$lastCommittedViewValue,function(allValid){if(!allowInvalid){that.$modelValue=allValid?modelValue:undefined;writeToModelIfNeeded()}});function writeToModelIfNeeded(){if(that.$modelValue!==prevModelValue)that.$$writeModelToScope()}},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue);forEach(this.$viewChangeListeners,function(listener){try{listener()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(value,trigger){this.$viewValue=value;if(this.$options.getOption("updateOnDefault"))this.$$debounceViewValueCommit(trigger)},
$$debounceViewValueCommit:function(trigger){var debounceDelay=this.$options.getOption("debounce");if(isNumber(debounceDelay[trigger]))debounceDelay=debounceDelay[trigger];else if(isNumber(debounceDelay["default"])&&this.$options.getOption("updateOn").indexOf(trigger)===-1)debounceDelay=debounceDelay["default"];else if(isNumber(debounceDelay["*"]))debounceDelay=debounceDelay["*"];this.$$timeout.cancel(this.$$pendingDebounce);var that=this;if(debounceDelay>0)this.$$pendingDebounce=this.$$timeout(function(){that.$commitViewValue()},
debounceDelay);else if(this.$$rootScope.$$phase)this.$commitViewValue();else this.$$scope.$apply(function(){that.$commitViewValue()})},$overrideModelOptions:function(options){this.$options=this.$options.createChild(options);this.$$setUpdateOnEvents()},$processModelValue:function(){var viewValue=this.$$format();if(this.$viewValue!==viewValue){this.$$updateEmptyClasses(viewValue);this.$viewValue=this.$$lastCommittedViewValue=viewValue;this.$render();this.$$runValidators(this.$modelValue,this.$viewValue,
noop)}},$$format:function(){var formatters=this.$formatters,idx=formatters.length;var viewValue=this.$modelValue;while(idx--)viewValue=formatters[idx](viewValue);return viewValue},$$setModelValue:function(modelValue){this.$modelValue=this.$$rawModelValue=modelValue;this.$$parserValid=undefined;this.$processModelValue()},$$setUpdateOnEvents:function(){if(this.$$updateEvents)this.$$element.off(this.$$updateEvents,this.$$updateEventHandler);this.$$updateEvents=this.$options.getOption("updateOn");if(this.$$updateEvents)this.$$element.on(this.$$updateEvents,
this.$$updateEventHandler)},$$updateEventHandler:function(ev){this.$$debounceViewValueCommit(ev&&ev.type)}};function setupModelWatcher(ctrl){ctrl.$$scope.$watch(function ngModelWatch(scope){var modelValue=ctrl.$$ngModelGet(scope);if(modelValue!==ctrl.$modelValue&&(ctrl.$modelValue===ctrl.$modelValue||modelValue===modelValue))ctrl.$$setModelValue(modelValue);return modelValue})}addSetValidityMethod({clazz:NgModelController,set:function(object,property){object[property]=true},unset:function(object,
property){delete object[property]}});var ngModelDirective=["$rootScope",function($rootScope){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:NgModelController,priority:1,compile:function ngModelCompile(element){element.addClass(PRISTINE_CLASS).addClass(UNTOUCHED_CLASS).addClass(VALID_CLASS);return{pre:function ngModelPreLink(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||modelCtrl.$$parentForm,optionsCtrl=ctrls[2];if(optionsCtrl)modelCtrl.$options=
optionsCtrl.$options;modelCtrl.$$initGetterSetters();formCtrl.$addControl(modelCtrl);attr.$observe("name",function(newValue){if(modelCtrl.$name!==newValue)modelCtrl.$$parentForm.$$renameControl(modelCtrl,newValue)});scope.$on("$destroy",function(){modelCtrl.$$parentForm.$removeControl(modelCtrl)})},post:function ngModelPostLink(scope,element,attr,ctrls){var modelCtrl=ctrls[0];modelCtrl.$$setUpdateOnEvents();function setTouched(){modelCtrl.$setTouched()}element.on("blur",function(){if(modelCtrl.$touched)return;
if($rootScope.$$phase)scope.$evalAsync(setTouched);else scope.$apply(setTouched)})}}}}}];var defaultModelOptions;var DEFAULT_REGEXP=/(\s+|^)default(\s+|$)/;function ModelOptions(options){this.$$options=options}ModelOptions.prototype={getOption:function(name){return this.$$options[name]},createChild:function(options){var inheritAll=false;options=extend({},options);forEach(options,function(option,key){if(option==="$inherit")if(key==="*")inheritAll=true;else{options[key]=this.$$options[key];if(key===
"updateOn")options.updateOnDefault=this.$$options.updateOnDefault}else if(key==="updateOn"){options.updateOnDefault=false;options[key]=trim(option.replace(DEFAULT_REGEXP,function(){options.updateOnDefault=true;return" "}))}},this);if(inheritAll){delete options["*"];defaults(options,this.$$options)}defaults(options,defaultModelOptions.$$options);return new ModelOptions(options)}};defaultModelOptions=new ModelOptions({updateOn:"",updateOnDefault:true,debounce:0,getterSetter:false,allowInvalid:false,
timezone:null});var ngModelOptionsDirective=function(){NgModelOptionsController.$inject=["$attrs","$scope"];function NgModelOptionsController($attrs,$scope){this.$$attrs=$attrs;this.$$scope=$scope}NgModelOptionsController.prototype={$onInit:function(){var parentOptions=this.parentCtrl?this.parentCtrl.$options:defaultModelOptions;var modelOptionsDefinition=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=parentOptions.createChild(modelOptionsDefinition)}};return{restrict:"A",priority:10,
require:{parentCtrl:"?^^ngModelOptions"},bindToController:true,controller:NgModelOptionsController}};function defaults(dst,src){forEach(src,function(value,key){if(!isDefined(dst[key]))dst[key]=value})}var ngNonBindableDirective=ngDirective({terminal:true,priority:1E3});var ngOptionsMinErr=minErr("ngOptions");var NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/;
var ngOptionsDirective=["$compile","$document","$parse",function($compile,$document,$parse){function parseOptionsExpression(optionsExp,selectElement,scope){var match=optionsExp.match(NG_OPTIONS_REGEXP);if(!match)throw ngOptionsMinErr("iexp","Expected expression in form of "+"'_select_ (as _label_)? for (_key_,)?_value_ in _collection_'"+" but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement));var valueName=match[5]||match[7];var keyName=match[6];var selectAs=/ as /.test(match[0])&&match[1];
var trackBy=match[9];var valueFn=$parse(match[2]?match[1]:valueName);var selectAsFn=selectAs&&$parse(selectAs);var viewValueFn=selectAsFn||valueFn;var trackByFn=trackBy&&$parse(trackBy);var getTrackByValueFn=trackBy?function(value,locals){return trackByFn(scope,locals)}:function getHashOfValue(value){return hashKey(value)};var getTrackByValue=function(value,key){return getTrackByValueFn(value,getLocals(value,key))};var displayFn=$parse(match[2]||match[1]);var groupByFn=$parse(match[3]||"");var disableWhenFn=
$parse(match[4]||"");var valuesFn=$parse(match[8]);var locals={};var getLocals=keyName?function(value,key){locals[keyName]=key;locals[valueName]=value;return locals}:function(value){locals[valueName]=value;return locals};function Option(selectValue,viewValue,label,group,disabled){this.selectValue=selectValue;this.viewValue=viewValue;this.label=label;this.group=group;this.disabled=disabled}function getOptionValuesKeys(optionValues){var optionValuesKeys;if(!keyName&&isArrayLike(optionValues))optionValuesKeys=
optionValues;else{optionValuesKeys=[];for(var itemKey in optionValues)if(optionValues.hasOwnProperty(itemKey)&&itemKey.charAt(0)!=="$")optionValuesKeys.push(itemKey)}return optionValuesKeys}return{trackBy:trackBy,getTrackByValue:getTrackByValue,getWatchables:$parse(valuesFn,function(optionValues){var watchedArray=[];optionValues=optionValues||[];var optionValuesKeys=getOptionValuesKeys(optionValues);var optionValuesLength=optionValuesKeys.length;for(var index=0;index<optionValuesLength;index++){var key=
optionValues===optionValuesKeys?index:optionValuesKeys[index];var value=optionValues[key];var locals=getLocals(value,key);var selectValue=getTrackByValueFn(value,locals);watchedArray.push(selectValue);if(match[2]||match[1]){var label=displayFn(scope,locals);watchedArray.push(label)}if(match[4]){var disableWhen=disableWhenFn(scope,locals);watchedArray.push(disableWhen)}}return watchedArray}),getOptions:function(){var optionItems=[];var selectValueMap={};var optionValues=valuesFn(scope)||[];var optionValuesKeys=
getOptionValuesKeys(optionValues);var optionValuesLength=optionValuesKeys.length;for(var index=0;index<optionValuesLength;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index];var value=optionValues[key];var locals=getLocals(value,key);var viewValue=viewValueFn(scope,locals);var selectValue=getTrackByValueFn(viewValue,locals);var label=displayFn(scope,locals);var group=groupByFn(scope,locals);var disabled=disableWhenFn(scope,locals);var optionItem=new Option(selectValue,viewValue,
label,group,disabled);optionItems.push(optionItem);selectValueMap[selectValue]=optionItem}return{items:optionItems,selectValueMap:selectValueMap,getOptionFromViewValue:function(value){return selectValueMap[getTrackByValue(value)]},getViewValueFromOption:function(option){return trackBy?copy(option.viewValue):option.viewValue}}}}}var optionTemplate=window.document.createElement("option"),optGroupTemplate=window.document.createElement("optgroup");function ngOptionsPostLink(scope,selectElement,attr,ctrls){var selectCtrl=
ctrls[0];var ngModelCtrl=ctrls[1];var multiple=attr.multiple;for(var i=0,children=selectElement.children(),ii=children.length;i<ii;i++)if(children[i].value===""){selectCtrl.hasEmptyOption=true;selectCtrl.emptyOption=children.eq(i);break}selectElement.empty();var providedEmptyOption=!!selectCtrl.emptyOption;var unknownOption=jqLite(optionTemplate.cloneNode(false));unknownOption.val("?");var options;var ngOptions=parseOptionsExpression(attr.ngOptions,selectElement,scope);var listFragment=$document[0].createDocumentFragment();
selectCtrl.generateUnknownOptionValue=function(val){return"?"};if(!multiple){selectCtrl.writeValue=function writeNgOptionsValue(value){if(!options)return;var selectedOption=selectElement[0].options[selectElement[0].selectedIndex];var option=options.getOptionFromViewValue(value);if(selectedOption)selectedOption.removeAttribute("selected");if(option){if(selectElement[0].value!==option.selectValue){selectCtrl.removeUnknownOption();selectElement[0].value=option.selectValue;option.element.selected=true}option.element.setAttribute("selected",
"selected")}else selectCtrl.selectUnknownOrEmptyOption(value)};selectCtrl.readValue=function readNgOptionsValue(){var selectedOption=options.selectValueMap[selectElement.val()];if(selectedOption&&!selectedOption.disabled){selectCtrl.unselectEmptyOption();selectCtrl.removeUnknownOption();return options.getViewValueFromOption(selectedOption)}return null};if(ngOptions.trackBy)scope.$watch(function(){return ngOptions.getTrackByValue(ngModelCtrl.$viewValue)},function(){ngModelCtrl.$render()})}else{selectCtrl.writeValue=
function writeNgOptionsMultiple(values){if(!options)return;var selectedOptions=values&&values.map(getAndUpdateSelectedOption)||[];options.items.forEach(function(option){if(option.element.selected&&!includes(selectedOptions,option))option.element.selected=false})};selectCtrl.readValue=function readNgOptionsMultiple(){var selectedValues=selectElement.val()||[],selections=[];forEach(selectedValues,function(value){var option=options.selectValueMap[value];if(option&&!option.disabled)selections.push(options.getViewValueFromOption(option))});
return selections};if(ngOptions.trackBy)scope.$watchCollection(function(){if(isArray(ngModelCtrl.$viewValue))return ngModelCtrl.$viewValue.map(function(value){return ngOptions.getTrackByValue(value)})},function(){ngModelCtrl.$render()})}if(providedEmptyOption){$compile(selectCtrl.emptyOption)(scope);selectElement.prepend(selectCtrl.emptyOption);if(selectCtrl.emptyOption[0].nodeType===NODE_TYPE_COMMENT){selectCtrl.hasEmptyOption=false;selectCtrl.registerOption=function(optionScope,optionEl){if(optionEl.val()===
""){selectCtrl.hasEmptyOption=true;selectCtrl.emptyOption=optionEl;selectCtrl.emptyOption.removeClass("ng-scope");ngModelCtrl.$render();optionEl.on("$destroy",function(){var needsRerender=selectCtrl.$isEmptyOptionSelected();selectCtrl.hasEmptyOption=false;selectCtrl.emptyOption=undefined;if(needsRerender)ngModelCtrl.$render()})}}}else selectCtrl.emptyOption.removeClass("ng-scope")}scope.$watchCollection(ngOptions.getWatchables,updateOptions);function addOptionElement(option,parent){var optionElement=
optionTemplate.cloneNode(false);parent.appendChild(optionElement);updateOptionElement(option,optionElement)}function getAndUpdateSelectedOption(viewValue){var option=options.getOptionFromViewValue(viewValue);var element=option&&option.element;if(element&&!element.selected)element.selected=true;return option}function updateOptionElement(option,element){option.element=element;element.disabled=option.disabled;if(option.label!==element.label){element.label=option.label;element.textContent=option.label}element.value=
option.selectValue}function updateOptions(){var previousValue=options&&selectCtrl.readValue();if(options)for(var i=options.items.length-1;i>=0;i--){var option=options.items[i];if(isDefined(option.group))jqLiteRemove(option.element.parentNode);else jqLiteRemove(option.element)}options=ngOptions.getOptions();var groupElementMap={};options.items.forEach(function addOption(option){var groupElement;if(isDefined(option.group)){groupElement=groupElementMap[option.group];if(!groupElement){groupElement=optGroupTemplate.cloneNode(false);
listFragment.appendChild(groupElement);groupElement.label=option.group===null?"null":option.group;groupElementMap[option.group]=groupElement}addOptionElement(option,groupElement)}else addOptionElement(option,listFragment)});selectElement[0].appendChild(listFragment);ngModelCtrl.$render();if(!ngModelCtrl.$isEmpty(previousValue)){var nextValue=selectCtrl.readValue();var isNotPrimitive=ngOptions.trackBy||multiple;if(isNotPrimitive?!equals(previousValue,nextValue):previousValue!==nextValue){ngModelCtrl.$setViewValue(nextValue);
ngModelCtrl.$render()}}}}return{restrict:"A",terminal:true,require:["select","ngModel"],link:{pre:function ngOptionsPreLink(scope,selectElement,attr,ctrls){ctrls[0].registerOption=noop},post:ngOptionsPostLink}}}];var ngPluralizeDirective=["$locale","$interpolate","$log",function($locale,$interpolate,$log){var BRACE=/{}/g,IS_WHEN=/^when(Minus)?(.+)$/;return{link:function(scope,element,attr){var numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=
scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),braceReplacement=startSymbol+numberExp+"-"+offset+endSymbol,watchRemover=angular.noop,lastCount;forEach(attr,function(expression,attributeName){var tmpMatch=IS_WHEN.exec(attributeName);if(tmpMatch){var whenKey=(tmpMatch[1]?"-":"")+lowercase(tmpMatch[2]);whens[whenKey]=element.attr(attr.$attr[attributeName])}});forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,
braceReplacement))});scope.$watch(numberExp,function ngPluralizeWatchAction(newVal){var count=parseFloat(newVal);var countIsNaN=isNumberNaN(count);if(!countIsNaN&&!(count in whens))count=$locale.pluralCat(count-offset);if(count!==lastCount&&!(countIsNaN&&isNumberNaN(lastCount))){watchRemover();var whenExpFn=whensExpFns[count];if(isUndefined(whenExpFn)){if(newVal!=null)$log.debug("ngPluralize: no rule defined for '"+count+"' in "+whenExp);watchRemover=noop;updateElementText()}else watchRemover=scope.$watch(whenExpFn,
updateElementText);lastCount=count}});function updateElementText(newText){element.text(newText||"")}}}}];var ngRefMinErr=minErr("ngRef");var ngRefDirective=["$parse",function($parse){return{priority:-1,restrict:"A",compile:function(tElement,tAttrs){var controllerName=directiveNormalize(nodeName_(tElement));var getter=$parse(tAttrs.ngRef);var setter=getter.assign||function(){throw ngRefMinErr("nonassign",'Expression in ngRef\x3d"{0}" is non-assignable!',tAttrs.ngRef);};return function(scope,element,
attrs){var refValue;if(attrs.hasOwnProperty("ngRefRead"))if(attrs.ngRefRead==="$element")refValue=element;else{refValue=element.data("$"+attrs.ngRefRead+"Controller");if(!refValue)throw ngRefMinErr("noctrl",'The controller for ngRefRead\x3d"{0}" could not be found on ngRef\x3d"{1}"',attrs.ngRefRead,tAttrs.ngRef);}else refValue=element.data("$"+controllerName+"Controller");refValue=refValue||element;setter(scope,refValue);element.on("$destroy",function(){if(getter(scope)===refValue)setter(scope,null)})}}}}];
var ngRepeatDirective=["$parse","$animate","$compile",function($parse,$animate,$compile){var NG_REMOVED="$$NG_REMOVED";var ngRepeatMinErr=minErr("ngRepeat");var updateScope=function(scope,index,valueIdentifier,value,keyIdentifier,key,arrayLength){scope[valueIdentifier]=value;if(keyIdentifier)scope[keyIdentifier]=key;scope.$index=index;scope.$first=index===0;scope.$last=index===arrayLength-1;scope.$middle=!(scope.$first||scope.$last);scope.$odd=!(scope.$even=(index&1)===0)};var getBlockStart=function(block){return block.clone[0]};
var getBlockEnd=function(block){return block.clone[block.clone.length-1]};var trackByIdArrayFn=function($scope,key,value){return hashKey(value)};var trackByIdObjFn=function($scope,key){return key};return{restrict:"A",multiElement:true,transclude:"element",priority:1E3,terminal:true,$$tlb:true,compile:function ngRepeatCompile($element,$attr){var expression=$attr.ngRepeat;var ngRepeatEndComment=$compile.$$createComment("end ngRepeat",expression);var match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
if(!match)throw ngRepeatMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);var lhs=match[1];var rhs=match[2];var aliasAs=match[3];var trackByExp=match[4];match=lhs.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!match)throw ngRepeatMinErr("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs);var valueIdentifier=match[3]||match[1];var keyIdentifier=
match[2];if(aliasAs&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(aliasAs)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(aliasAs)))throw ngRepeatMinErr("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",aliasAs);var trackByIdExpFn;if(trackByExp){var hashFnLocals={$id:hashKey};var trackByExpGetter=$parse(trackByExp);trackByIdExpFn=function($scope,key,value,index){if(keyIdentifier)hashFnLocals[keyIdentifier]=
key;hashFnLocals[valueIdentifier]=value;hashFnLocals.$index=index;return trackByExpGetter($scope,hashFnLocals)}}return function ngRepeatLink($scope,$element,$attr,ctrl,$transclude){var lastBlockMap=createMap();$scope.$watchCollection(rhs,function ngRepeatAction(collection){var index,length,previousNode=$element[0],nextNode,nextBlockMap=createMap(),collectionLength,key,value,trackById,trackByIdFn,collectionKeys,block,nextBlockOrder,elementsToRemove;if(aliasAs)$scope[aliasAs]=collection;if(isArrayLike(collection)){collectionKeys=
collection;trackByIdFn=trackByIdExpFn||trackByIdArrayFn}else{trackByIdFn=trackByIdExpFn||trackByIdObjFn;collectionKeys=[];for(var itemKey in collection)if(hasOwnProperty.call(collection,itemKey)&&itemKey.charAt(0)!=="$")collectionKeys.push(itemKey)}collectionLength=collectionKeys.length;nextBlockOrder=new Array(collectionLength);for(index=0;index<collectionLength;index++){key=collection===collectionKeys?index:collectionKeys[index];value=collection[key];trackById=trackByIdFn($scope,key,value,index);
if(lastBlockMap[trackById]){block=lastBlockMap[trackById];delete lastBlockMap[trackById];nextBlockMap[trackById]=block;nextBlockOrder[index]=block}else if(nextBlockMap[trackById]){forEach(nextBlockOrder,function(block){if(block&&block.scope)lastBlockMap[block.id]=block});throw ngRepeatMinErr("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",expression,trackById,value);}else{nextBlockOrder[index]=
{id:trackById,scope:undefined,clone:undefined};nextBlockMap[trackById]=true}}if(hashFnLocals)hashFnLocals[valueIdentifier]=undefined;for(var blockKey in lastBlockMap){block=lastBlockMap[blockKey];elementsToRemove=getBlockNodes(block.clone);$animate.leave(elementsToRemove);if(elementsToRemove[0].parentNode)for(index=0,length=elementsToRemove.length;index<length;index++)elementsToRemove[index][NG_REMOVED]=true;block.scope.$destroy()}for(index=0;index<collectionLength;index++){key=collection===collectionKeys?
index:collectionKeys[index];value=collection[key];block=nextBlockOrder[index];if(block.scope){nextNode=previousNode;do nextNode=nextNode.nextSibling;while(nextNode&&nextNode[NG_REMOVED]);if(getBlockStart(block)!==nextNode)$animate.move(getBlockNodes(block.clone),null,previousNode);previousNode=getBlockEnd(block);updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)}else $transclude(function ngRepeatTransclude(clone,scope){block.scope=scope;var endNode=ngRepeatEndComment.cloneNode(false);
clone[clone.length++]=endNode;$animate.enter(clone,null,previousNode);previousNode=endNode;block.clone=clone;nextBlockMap[block.id]=block;updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)})}lastBlockMap=nextBlockMap})}}}}];var NG_HIDE_CLASS="ng-hide";var NG_HIDE_IN_PROGRESS_CLASS="ng-hide-animate";var ngShowDirective=["$animate",function($animate){return{restrict:"A",multiElement:true,link:function(scope,element,attr){scope.$watch(attr.ngShow,function ngShowWatchAction(value){$animate[value?
"removeClass":"addClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}];var ngHideDirective=["$animate",function($animate){return{restrict:"A",multiElement:true,link:function(scope,element,attr){scope.$watch(attr.ngHide,function ngHideWatchAction(value){$animate[value?"addClass":"removeClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}];var ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watchCollection(attr.ngStyle,function ngStyleWatchAction(newStyles,
oldStyles){if(oldStyles&&newStyles!==oldStyles)forEach(oldStyles,function(val,style){element.css(style,"")});if(newStyles)element.css(newStyles)})});var ngSwitchDirective=["$animate","$compile",function($animate,$compile){return{require:"ngSwitch",controller:["$scope",function NgSwitchController(){this.cases={}}],link:function(scope,element,attr,ngSwitchController){var watchExpr=attr.ngSwitch||attr.on,selectedTranscludes=[],selectedElements=[],previousLeaveAnimations=[],selectedScopes=[];var spliceFactory=
function(array,index){return function(response){if(response!==false)array.splice(index,1)}};scope.$watch(watchExpr,function ngSwitchWatchAction(value){var i,ii;while(previousLeaveAnimations.length)$animate.cancel(previousLeaveAnimations.pop());for(i=0,ii=selectedScopes.length;i<ii;++i){var selected=getBlockNodes(selectedElements[i].clone);selectedScopes[i].$destroy();var runner=previousLeaveAnimations[i]=$animate.leave(selected);runner.done(spliceFactory(previousLeaveAnimations,i))}selectedElements.length=
0;selectedScopes.length=0;if(selectedTranscludes=ngSwitchController.cases["!"+value]||ngSwitchController.cases["?"])forEach(selectedTranscludes,function(selectedTransclude){selectedTransclude.transclude(function(caseElement,selectedScope){selectedScopes.push(selectedScope);var anchor=selectedTransclude.element;caseElement[caseElement.length++]=$compile.$$createComment("end ngSwitchWhen");var block={clone:caseElement};selectedElements.push(block);$animate.enter(caseElement,anchor.parent(),anchor)})})})}}}];
var ngSwitchWhenDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:true,link:function(scope,element,attrs,ctrl,$transclude){var cases=attrs.ngSwitchWhen.split(attrs.ngSwitchWhenSeparator).sort().filter(function(element,index,array){return array[index-1]!==element});forEach(cases,function(whenCase){ctrl.cases["!"+whenCase]=ctrl.cases["!"+whenCase]||[];ctrl.cases["!"+whenCase].push({transclude:$transclude,element:element})})}});var ngSwitchDefaultDirective=ngDirective({transclude:"element",
priority:1200,require:"^ngSwitch",multiElement:true,link:function(scope,element,attr,ctrl,$transclude){ctrl.cases["?"]=ctrl.cases["?"]||[];ctrl.cases["?"].push({transclude:$transclude,element:element})}});var ngTranscludeMinErr=minErr("ngTransclude");var ngTranscludeDirective=["$compile",function($compile){return{restrict:"EAC",compile:function ngTranscludeCompile(tElement){var fallbackLinkFn=$compile(tElement.contents());tElement.empty();return function ngTranscludePostLink($scope,$element,$attrs,
controller,$transclude){if(!$transclude)throw ngTranscludeMinErr("orphan","Illegal use of ngTransclude directive in the template! "+"No parent directive that requires a transclusion found. "+"Element: {0}",startingTag($element));if($attrs.ngTransclude===$attrs.$attr.ngTransclude)$attrs.ngTransclude="";var slotName=$attrs.ngTransclude||$attrs.ngTranscludeSlot;$transclude(ngTranscludeCloneAttachFn,null,slotName);if(slotName&&!$transclude.isSlotFilled(slotName))useFallbackContent();function ngTranscludeCloneAttachFn(clone,
transcludedScope){if(clone.length&&notWhitespace(clone))$element.append(clone);else{useFallbackContent();transcludedScope.$destroy()}}function useFallbackContent(){fallbackLinkFn($scope,function(clone){$element.append(clone)})}function notWhitespace(nodes){for(var i=0,ii=nodes.length;i<ii;i++){var node=nodes[i];if(node.nodeType!==NODE_TYPE_TEXT||node.nodeValue.trim())return true}}}}}}];var scriptDirective=["$templateCache",function($templateCache){return{restrict:"E",terminal:true,compile:function(element,
attr){if(attr.type==="text/ng-template"){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text)}}}}];var noopNgModelController={$setViewValue:noop,$render:noop};function setOptionSelectedStatus(optionEl,value){optionEl.prop("selected",value);optionEl.attr("selected",value)}var SelectController=["$element","$scope",function($element,$scope){var self=this,optionsMap=new NgMap;self.selectValueMap={};self.ngModelCtrl=noopNgModelController;self.multiple=false;self.unknownOption=
jqLite(window.document.createElement("option"));self.hasEmptyOption=false;self.emptyOption=undefined;self.renderUnknownOption=function(val){var unknownVal=self.generateUnknownOptionValue(val);self.unknownOption.val(unknownVal);$element.prepend(self.unknownOption);setOptionSelectedStatus(self.unknownOption,true);$element.val(unknownVal)};self.updateUnknownOption=function(val){var unknownVal=self.generateUnknownOptionValue(val);self.unknownOption.val(unknownVal);setOptionSelectedStatus(self.unknownOption,
true);$element.val(unknownVal)};self.generateUnknownOptionValue=function(val){return"? "+hashKey(val)+" ?"};self.removeUnknownOption=function(){if(self.unknownOption.parent())self.unknownOption.remove()};self.selectEmptyOption=function(){if(self.emptyOption){$element.val("");setOptionSelectedStatus(self.emptyOption,true)}};self.unselectEmptyOption=function(){if(self.hasEmptyOption)setOptionSelectedStatus(self.emptyOption,false)};$scope.$on("$destroy",function(){self.renderUnknownOption=noop});self.readValue=
function readSingleValue(){var val=$element.val();var realVal=val in self.selectValueMap?self.selectValueMap[val]:val;if(self.hasOption(realVal))return realVal;return null};self.writeValue=function writeSingleValue(value){var currentlySelectedOption=$element[0].options[$element[0].selectedIndex];if(currentlySelectedOption)setOptionSelectedStatus(jqLite(currentlySelectedOption),false);if(self.hasOption(value)){self.removeUnknownOption();var hashedVal=hashKey(value);$element.val(hashedVal in self.selectValueMap?
hashedVal:value);var selectedOption=$element[0].options[$element[0].selectedIndex];setOptionSelectedStatus(jqLite(selectedOption),true)}else self.selectUnknownOrEmptyOption(value)};self.addOption=function(value,element){if(element[0].nodeType===NODE_TYPE_COMMENT)return;assertNotHasOwnProperty(value,'"option value"');if(value===""){self.hasEmptyOption=true;self.emptyOption=element}var count=optionsMap.get(value)||0;optionsMap.set(value,count+1);scheduleRender()};self.removeOption=function(value){var count=
optionsMap.get(value);if(count)if(count===1){optionsMap.delete(value);if(value===""){self.hasEmptyOption=false;self.emptyOption=undefined}}else optionsMap.set(value,count-1)};self.hasOption=function(value){return!!optionsMap.get(value)};self.$hasEmptyOption=function(){return self.hasEmptyOption};self.$isUnknownOptionSelected=function(){return $element[0].options[0]===self.unknownOption[0]};self.$isEmptyOptionSelected=function(){return self.hasEmptyOption&&$element[0].options[$element[0].selectedIndex]===
self.emptyOption[0]};self.selectUnknownOrEmptyOption=function(value){if(value==null&&self.emptyOption){self.removeUnknownOption();self.selectEmptyOption()}else if(self.unknownOption.parent().length)self.updateUnknownOption(value);else self.renderUnknownOption(value)};var renderScheduled=false;function scheduleRender(){if(renderScheduled)return;renderScheduled=true;$scope.$$postDigest(function(){renderScheduled=false;self.ngModelCtrl.$render()})}var updateScheduled=false;function scheduleViewValueUpdate(renderAfter){if(updateScheduled)return;
updateScheduled=true;$scope.$$postDigest(function(){if($scope.$$destroyed)return;updateScheduled=false;self.ngModelCtrl.$setViewValue(self.readValue());if(renderAfter)self.ngModelCtrl.$render()})}self.registerOption=function(optionScope,optionElement,optionAttrs,interpolateValueFn,interpolateTextFn){if(optionAttrs.$attr.ngValue){var oldVal,hashedVal;optionAttrs.$observe("value",function valueAttributeObserveAction(newVal){var removal;var previouslySelected=optionElement.prop("selected");if(isDefined(hashedVal)){self.removeOption(oldVal);
delete self.selectValueMap[hashedVal];removal=true}hashedVal=hashKey(newVal);oldVal=newVal;self.selectValueMap[hashedVal]=newVal;self.addOption(newVal,optionElement);optionElement.attr("value",hashedVal);if(removal&&previouslySelected)scheduleViewValueUpdate()})}else if(interpolateValueFn)optionAttrs.$observe("value",function valueAttributeObserveAction(newVal){self.readValue();var removal;var previouslySelected=optionElement.prop("selected");if(isDefined(oldVal)){self.removeOption(oldVal);removal=
true}oldVal=newVal;self.addOption(newVal,optionElement);if(removal&&previouslySelected)scheduleViewValueUpdate()});else if(interpolateTextFn)optionScope.$watch(interpolateTextFn,function interpolateWatchAction(newVal,oldVal){optionAttrs.$set("value",newVal);var previouslySelected=optionElement.prop("selected");if(oldVal!==newVal)self.removeOption(oldVal);self.addOption(newVal,optionElement);if(oldVal&&previouslySelected)scheduleViewValueUpdate()});else self.addOption(optionAttrs.value,optionElement);
optionAttrs.$observe("disabled",function(newVal){if(newVal==="true"||newVal&&optionElement.prop("selected"))if(self.multiple)scheduleViewValueUpdate(true);else{self.ngModelCtrl.$setViewValue(null);self.ngModelCtrl.$render()}});optionElement.on("$destroy",function(){var currentValue=self.readValue();var removeValue=optionAttrs.value;self.removeOption(removeValue);scheduleRender();if(self.multiple&&currentValue&&currentValue.indexOf(removeValue)!==-1||currentValue===removeValue)scheduleViewValueUpdate(true)})}}];
var selectDirective=function(){return{restrict:"E",require:["select","?ngModel"],controller:SelectController,priority:1,link:{pre:selectPreLink,post:selectPostLink}};function selectPreLink(scope,element,attr,ctrls){var selectCtrl=ctrls[0];var ngModelCtrl=ctrls[1];if(!ngModelCtrl){selectCtrl.registerOption=noop;return}selectCtrl.ngModelCtrl=ngModelCtrl;element.on("change",function(){selectCtrl.removeUnknownOption();scope.$apply(function(){ngModelCtrl.$setViewValue(selectCtrl.readValue())})});if(attr.multiple){selectCtrl.multiple=
true;selectCtrl.readValue=function readMultipleValue(){var array=[];forEach(element.find("option"),function(option){if(option.selected&&!option.disabled){var val=option.value;array.push(val in selectCtrl.selectValueMap?selectCtrl.selectValueMap[val]:val)}});return array};selectCtrl.writeValue=function writeMultipleValue(value){forEach(element.find("option"),function(option){var shouldBeSelected=!!value&&(includes(value,option.value)||includes(value,selectCtrl.selectValueMap[option.value]));var currentlySelected=
option.selected;if(shouldBeSelected!==currentlySelected)setOptionSelectedStatus(jqLite(option),shouldBeSelected)})};var lastView,lastViewRef=NaN;scope.$watch(function selectMultipleWatch(){if(lastViewRef===ngModelCtrl.$viewValue&&!equals(lastView,ngModelCtrl.$viewValue)){lastView=shallowCopy(ngModelCtrl.$viewValue);ngModelCtrl.$render()}lastViewRef=ngModelCtrl.$viewValue});ngModelCtrl.$isEmpty=function(value){return!value||value.length===0}}}function selectPostLink(scope,element,attrs,ctrls){var ngModelCtrl=
ctrls[1];if(!ngModelCtrl)return;var selectCtrl=ctrls[0];ngModelCtrl.$render=function(){selectCtrl.writeValue(ngModelCtrl.$viewValue)}}};var optionDirective=["$interpolate",function($interpolate){return{restrict:"E",priority:100,compile:function(element,attr){var interpolateValueFn,interpolateTextFn;if(isDefined(attr.ngValue));else if(isDefined(attr.value))interpolateValueFn=$interpolate(attr.value,true);else{interpolateTextFn=$interpolate(element.text(),true);if(!interpolateTextFn)attr.$set("value",
element.text())}return function(scope,element,attr){var selectCtrlName="$selectController",parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);if(selectCtrl)selectCtrl.registerOption(scope,element,attr,interpolateValueFn,interpolateTextFn)}}}}];var requiredDirective=["$parse",function($parse){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(!ctrl)return;var value=attr.hasOwnProperty("required")||$parse(attr.ngRequired)(scope);
if(!attr.ngRequired)attr.required=true;ctrl.$validators.required=function(modelValue,viewValue){return!value||!ctrl.$isEmpty(viewValue)};attr.$observe("required",function(newVal){if(value!==newVal){value=newVal;ctrl.$validate()}})}}}];var patternDirective=["$parse",function($parse){return{restrict:"A",require:"?ngModel",compile:function(tElm,tAttr){var patternExp;var parseFn;if(tAttr.ngPattern){patternExp=tAttr.ngPattern;if(tAttr.ngPattern.charAt(0)==="/"&&REGEX_STRING_REGEXP.test(tAttr.ngPattern))parseFn=
function(){return tAttr.ngPattern};else parseFn=$parse(tAttr.ngPattern)}return function(scope,elm,attr,ctrl){if(!ctrl)return;var attrVal=attr.pattern;if(attr.ngPattern)attrVal=parseFn(scope);else patternExp=attr.pattern;var regexp=parsePatternAttr(attrVal,patternExp,elm);attr.$observe("pattern",function(newVal){var oldRegexp=regexp;regexp=parsePatternAttr(newVal,patternExp,elm);if((oldRegexp&&oldRegexp.toString())!==(regexp&&regexp.toString()))ctrl.$validate()});ctrl.$validators.pattern=function(modelValue,
viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(regexp)||regexp.test(viewValue)}}}}}];var maxlengthDirective=["$parse",function($parse){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(!ctrl)return;var maxlength=attr.maxlength||$parse(attr.ngMaxlength)(scope);var maxlengthParsed=parseLength(maxlength);attr.$observe("maxlength",function(value){if(maxlength!==value){maxlengthParsed=parseLength(value);maxlength=value;ctrl.$validate()}});ctrl.$validators.maxlength=
function(modelValue,viewValue){return maxlengthParsed<0||ctrl.$isEmpty(viewValue)||viewValue.length<=maxlengthParsed}}}}];var minlengthDirective=["$parse",function($parse){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(!ctrl)return;var minlength=attr.minlength||$parse(attr.ngMinlength)(scope);var minlengthParsed=parseLength(minlength)||-1;attr.$observe("minlength",function(value){if(minlength!==value){minlengthParsed=parseLength(value)||-1;minlength=value;ctrl.$validate()}});
ctrl.$validators.minlength=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||viewValue.length>=minlengthParsed}}}}];function parsePatternAttr(regex,patternExp,elm){if(!regex)return undefined;if(isString(regex))regex=new RegExp("^"+regex+"$");if(!regex.test)throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",patternExp,regex,startingTag(elm));return regex}function parseLength(val){var intVal=toInt(val);return isNumberNaN(intVal)?-1:intVal}if(window.angular.bootstrap){if(window.console)console.log("WARNING: Tried to load AngularJS more than once.");
return}bindJQuery();publishExternalAPI(angular);angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};function getDecimals(n){n=n+"";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;if(undefined===v)v=Math.min(getDecimals(n),3);var base=Math.pow(10,v);var f=(n*base|0)%base;return{v:v,f:f}}$provide.value("$locale",{"DATETIME_FORMATS":{"AMPMS":["AM","PM"],
"DAY":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"ERANAMES":["Before Christ","Anno Domini"],"ERAS":["BC","AD"],"FIRSTDAYOFWEEK":6,"MONTH":["January","February","March","April","May","June","July","August","September","October","November","December"],"SHORTDAY":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"SHORTMONTH":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"STANDALONEMONTH":["January","February","March","April","May","June","July","August",
"September","October","November","December"],"WEEKENDRANGE":[5,6],"fullDate":"EEEE, MMMM d, y","longDate":"MMMM d, y","medium":"MMM d, y h:mm:ss a","mediumDate":"MMM d, y","mediumTime":"h:mm:ss a","short":"M/d/yy h:mm a","shortDate":"M/d/yy","shortTime":"h:mm a"},"NUMBER_FORMATS":{"CURRENCY_SYM":"$","DECIMAL_SEP":".","GROUP_SEP":",","PATTERNS":[{"gSize":3,"lgSize":3,"maxFrac":3,"minFrac":0,"minInt":1,"negPre":"-","negSuf":"","posPre":"","posSuf":""},{"gSize":3,"lgSize":3,"maxFrac":2,"minFrac":2,"minInt":1,
"negPre":"-\u00a4","negSuf":"","posPre":"\u00a4","posSuf":""}]},"id":"en-us","localeID":"en_US","pluralCat":function(n,opt_precision){var i=n|0;var vf=getVF(n,opt_precision);if(i==1&&vf.v==0)return PLURAL_CATEGORY.ONE;return PLURAL_CATEGORY.OTHER}})}]);jqLite(function(){angularInit(window.document,bootstrap)})})(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend(window.angular.element("\x3cstyle\x3e").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}'));
(function(window,angular){function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i<ii;i++)dst[i]=src[i]}else if(isObject(src)){dst=dst||{};for(var key in src)if(!(key.charAt(0)==="$"&&key.charAt(1)==="$"))dst[key]=src[key]}return dst||src}function routeToRegExp(path,opts){var keys=[];var pattern=path.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(_,slash,key,option){var optional=option==="?"||option==="*?";var star=option==="*"||option==="*?";
keys.push({name:key,optional:optional});slash=slash||"";return(optional?"(?:"+slash:slash+"(?:")+(star?"(.+?)":"([^/]+)")+(optional?"?)?":")")}).replace(/([/$*])/g,"\\$1");if(opts.ignoreTrailingSlashes)pattern=pattern.replace(/\/+$/,"")+"/*";return{keys:keys,regexp:new RegExp("^"+pattern+"(?:[?#]|$)",opts.caseInsensitiveMatch?"i":"")}}var isArray;var isObject;var isDefined;var noop;var ngRouteModule=angular.module("ngRoute",[]).info({angularVersion:"1.9.0"}).provider("$route",$RouteProvider).run(instantiateRoute);
var $routeMinErr=angular.$$minErr("ngRoute");var isEagerInstantiationEnabled;function $RouteProvider(){isArray=angular.isArray;isObject=angular.isObject;isDefined=angular.isDefined;noop=angular.noop;function inherit(parent,extra){return angular.extend(Object.create(parent),extra)}var routes={};this.when=function(path,route){var routeCopy=shallowCopy(route);if(angular.isUndefined(routeCopy.reloadOnUrl))routeCopy.reloadOnUrl=true;if(angular.isUndefined(routeCopy.reloadOnSearch))routeCopy.reloadOnSearch=
true;if(angular.isUndefined(routeCopy.caseInsensitiveMatch))routeCopy.caseInsensitiveMatch=this.caseInsensitiveMatch;routes[path]=angular.extend(routeCopy,{originalPath:path},path&&routeToRegExp(path,routeCopy));if(path){var redirectPath=path[path.length-1]==="/"?path.substr(0,path.length-1):path+"/";routes[redirectPath]=angular.extend({originalPath:path,redirectTo:path},routeToRegExp(redirectPath,routeCopy))}return this};this.caseInsensitiveMatch=false;this.otherwise=function(params){if(typeof params===
"string")params={redirectTo:params};this.when(null,params);return this};isEagerInstantiationEnabled=true;this.eagerInstantiationEnabled=function eagerInstantiationEnabled(enabled){if(isDefined(enabled)){isEagerInstantiationEnabled=enabled;return this}return isEagerInstantiationEnabled};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function($rootScope,$location,$routeParams,$q,$injector,$templateRequest,$sce,$browser){var forceReload=false,
preparedRoute,preparedRouteIsUpdateOnly,$route={routes:routes,reload:function(){forceReload=true;var fakeLocationEvent={defaultPrevented:false,preventDefault:function fakePreventDefault(){this.defaultPrevented=true;forceReload=false}};$rootScope.$evalAsync(function(){prepareRoute(fakeLocationEvent);if(!fakeLocationEvent.defaultPrevented)commitRoute()})},updateParams:function(newParams){if(this.current&&this.current.$$route){newParams=angular.extend({},this.current.params,newParams);$location.path(interpolate(this.current.$$route.originalPath,
newParams));$location.search(newParams)}else throw $routeMinErr("norout","Tried updating route with no current route");}};$rootScope.$on("$locationChangeStart",prepareRoute);$rootScope.$on("$locationChangeSuccess",commitRoute);return $route;function switchRouteMatcher(on,route){var keys=route.keys,params={};if(!route.regexp)return null;var m=route.regexp.exec(on);if(!m)return null;for(var i=1,len=m.length;i<len;++i){var key=keys[i-1];var val=m[i];if(key&&val)params[key.name]=val}return params}function prepareRoute($locationEvent){var lastRoute=
$route.current;preparedRoute=parseRoute();preparedRouteIsUpdateOnly=isNavigationUpdateOnly(preparedRoute,lastRoute);if(!preparedRouteIsUpdateOnly&&(lastRoute||preparedRoute))if($rootScope.$broadcast("$routeChangeStart",preparedRoute,lastRoute).defaultPrevented)if($locationEvent)$locationEvent.preventDefault()}function commitRoute(){var lastRoute=$route.current;var nextRoute=preparedRoute;if(preparedRouteIsUpdateOnly){lastRoute.params=nextRoute.params;angular.copy(lastRoute.params,$routeParams);$rootScope.$broadcast("$routeUpdate",
lastRoute)}else if(nextRoute||lastRoute){forceReload=false;$route.current=nextRoute;var nextRoutePromise=$q.resolve(nextRoute);$browser.$$incOutstandingRequestCount("$route");nextRoutePromise.then(getRedirectionData).then(handlePossibleRedirection).then(function(keepProcessingRoute){return keepProcessingRoute&&nextRoutePromise.then(resolveLocals).then(function(locals){if(nextRoute===$route.current){if(nextRoute){nextRoute.locals=locals;angular.copy(nextRoute.params,$routeParams)}$rootScope.$broadcast("$routeChangeSuccess",
nextRoute,lastRoute)}})}).catch(function(error){if(nextRoute===$route.current)$rootScope.$broadcast("$routeChangeError",nextRoute,lastRoute,error)}).finally(function(){$browser.$$completeOutstandingRequest(noop,"$route")})}}function getRedirectionData(route){var data={route:route,hasRedirection:false};if(route)if(route.redirectTo)if(angular.isString(route.redirectTo)){data.path=interpolate(route.redirectTo,route.params);data.search=route.params;data.hasRedirection=true}else{var oldPath=$location.path();
var oldSearch=$location.search();var newUrl=route.redirectTo(route.pathParams,oldPath,oldSearch);if(angular.isDefined(newUrl)){data.url=newUrl;data.hasRedirection=true}}else if(route.resolveRedirectTo)return $q.resolve($injector.invoke(route.resolveRedirectTo)).then(function(newUrl){if(angular.isDefined(newUrl)){data.url=newUrl;data.hasRedirection=true}return data});return data}function handlePossibleRedirection(data){var keepProcessingRoute=true;if(data.route!==$route.current)keepProcessingRoute=
false;else if(data.hasRedirection){var oldUrl=$location.url();var newUrl=data.url;if(newUrl)$location.url(newUrl).replace();else newUrl=$location.path(data.path).search(data.search).replace().url();if(newUrl!==oldUrl)keepProcessingRoute=false}return keepProcessingRoute}function resolveLocals(route){if(route){var locals=angular.extend({},route.resolve);angular.forEach(locals,function(value,key){locals[key]=angular.isString(value)?$injector.get(value):$injector.invoke(value,null,null,key)});var template=
getTemplateFor(route);if(angular.isDefined(template))locals["$template"]=template;return $q.all(locals)}}function getTemplateFor(route){var template,templateUrl;if(angular.isDefined(template=route.template)){if(angular.isFunction(template))template=template(route.params)}else if(angular.isDefined(templateUrl=route.templateUrl)){if(angular.isFunction(templateUrl))templateUrl=templateUrl(route.params);if(angular.isDefined(templateUrl)){route.loadedTemplateUrl=$sce.valueOf(templateUrl);template=$templateRequest(templateUrl)}}return template}
function parseRoute(){var params,match;angular.forEach(routes,function(route,path){if(!match&&(params=switchRouteMatcher($location.path(),route))){match=inherit(route,{params:angular.extend({},$location.search(),params),pathParams:params});match.$$route=route}});return match||routes[null]&&inherit(routes[null],{params:{},pathParams:{}})}function isNavigationUpdateOnly(newRoute,oldRoute){return!forceReload&&newRoute&&oldRoute&&newRoute.$$route===oldRoute.$$route&&(!newRoute.reloadOnUrl||!newRoute.reloadOnSearch&&
angular.equals(newRoute.pathParams,oldRoute.pathParams))}function interpolate(string,params){var result=[];angular.forEach((string||"").split(":"),function(segment,i){if(i===0)result.push(segment);else{var segmentMatch=segment.match(/(\w+)(?:[?*])?(.*)/);var key=segmentMatch[1];result.push(params[key]);result.push(segmentMatch[2]||"");delete params[key]}});return result.join("")}}]}instantiateRoute.$inject=["$injector"];function instantiateRoute($injector){if(isEagerInstantiationEnabled)$injector.get("$route")}
ngRouteModule.provider("$routeParams",$RouteParamsProvider);function $RouteParamsProvider(){this.$get=function(){return{}}}ngRouteModule.directive("ngView",ngViewFactory);ngRouteModule.directive("ngView",ngViewFillContentFactory);ngViewFactory.$inject=["$route","$anchorScroll","$animate"];function ngViewFactory($route,$anchorScroll,$animate){return{restrict:"ECA",terminal:true,priority:400,transclude:"element",link:function(scope,$element,attr,ctrl,$transclude){var currentScope,currentElement,previousLeaveAnimation,
autoScrollExp=attr.autoscroll,onloadExp=attr.onload||"";scope.$on("$routeChangeSuccess",update);update();function cleanupLastView(){if(previousLeaveAnimation){$animate.cancel(previousLeaveAnimation);previousLeaveAnimation=null}if(currentScope){currentScope.$destroy();currentScope=null}if(currentElement){previousLeaveAnimation=$animate.leave(currentElement);previousLeaveAnimation.done(function(response){if(response!==false)previousLeaveAnimation=null});currentElement=null}}function update(){var locals=
$route.current&&$route.current.locals,template=locals&&locals.$template;if(angular.isDefined(template)){var newScope=scope.$new();var current=$route.current;var clone=$transclude(newScope,function(clone){$animate.enter(clone,null,currentElement||$element).done(function onNgViewEnter(response){if(response!==false&&angular.isDefined(autoScrollExp)&&(!autoScrollExp||scope.$eval(autoScrollExp)))$anchorScroll()});cleanupLastView()});currentElement=clone;currentScope=current.scope=newScope;currentScope.$emit("$viewContentLoaded");
currentScope.$eval(onloadExp)}else cleanupLastView()}}}}ngViewFillContentFactory.$inject=["$compile","$controller","$route"];function ngViewFillContentFactory($compile,$controller,$route){return{restrict:"ECA",priority:-400,link:function(scope,$element){var current=$route.current,locals=current.locals;$element.html(locals.$template);var link=$compile($element.contents());if(current.controller){locals.$scope=scope;var controller=$controller(current.controller,locals);if(current.controllerAs)scope[current.controllerAs]=
controller;$element.data("$ngControllerController",controller);$element.children().data("$ngControllerController",controller)}scope[current.resolveAs||"$resolve"]=locals;link(scope)}}}})(window,window.angular);
(function(window,angular){var $resourceMinErr=angular.$$minErr("$resource");var MEMBER_NAME_REGEX=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function isValidDottedPath(path){return path!=null&&path!==""&&path!=="hasOwnProperty"&&MEMBER_NAME_REGEX.test("."+path)}function lookupDottedPath(obj,path){if(!isValidDottedPath(path))throw $resourceMinErr("badmember",'Dotted member path "@{0}" is invalid.',path);var keys=path.split(".");for(var i=0,ii=keys.length;i<ii&&angular.isDefined(obj);i++){var key=keys[i];
obj=obj!==null?obj[key]:undefined}return obj}function shallowClearAndCopy(src,dst){dst=dst||{};angular.forEach(dst,function(value,key){delete dst[key]});for(var key in src)if(src.hasOwnProperty(key)&&!(key.charAt(0)==="$"&&key.charAt(1)==="$"))dst[key]=src[key];return dst}angular.module("ngResource",["ng"]).info({angularVersion:"1.9.0"}).provider("$resource",function ResourceProvider(){var PROTOCOL_AND_IPV6_REGEX=/^https?:\/\/\[[^\]]*][^/]*/;var provider=this;this.defaults={stripTrailingSlashes:true,
cancellable:false,actions:{"get":{method:"GET"},"save":{method:"POST"},"query":{method:"GET",isArray:true},"remove":{method:"DELETE"},"delete":{method:"DELETE"}}};this.$get=["$http","$log","$q","$timeout",function($http,$log,$q,$timeout){var noop=angular.noop,forEach=angular.forEach,extend=angular.extend,copy=angular.copy,isArray=angular.isArray,isDefined=angular.isDefined,isFunction=angular.isFunction,isNumber=angular.isNumber,encodeUriQuery=angular.$$encodeUriQuery,encodeUriSegment=angular.$$encodeUriSegment;
function Route(template,defaults){this.template=template;this.defaults=extend({},provider.defaults,defaults);this.urlParams={}}Route.prototype={setUrlParams:function(config,params,actionUrl){var self=this,url=actionUrl||self.template,val,encodedVal,protocolAndIpv6="";var urlParams=self.urlParams=Object.create(null);forEach(url.split(/\W/),function(param){if(param==="hasOwnProperty")throw $resourceMinErr("badname","hasOwnProperty is not a valid parameter name.");if(!(new RegExp("^\\d+$")).test(param)&&
param&&(new RegExp("(^|[^\\\\]):"+param+"(\\W|$)")).test(url))urlParams[param]={isQueryParamValue:(new RegExp("\\?.*\x3d:"+param+"(?:\\W|$)")).test(url)}});url=url.replace(/\\:/g,":");url=url.replace(PROTOCOL_AND_IPV6_REGEX,function(match){protocolAndIpv6=match;return""});params=params||{};forEach(self.urlParams,function(paramInfo,urlParam){val=params.hasOwnProperty(urlParam)?params[urlParam]:self.defaults[urlParam];if(isDefined(val)&&val!==null){if(paramInfo.isQueryParamValue)encodedVal=encodeUriQuery(val,
true);else encodedVal=encodeUriSegment(val);url=url.replace(new RegExp(":"+urlParam+"(\\W|$)","g"),function(match,p1){return encodedVal+p1})}else url=url.replace(new RegExp("(/?):"+urlParam+"(\\W|$)","g"),function(match,leadingSlashes,tail){if(tail.charAt(0)==="/")return tail;else return leadingSlashes+tail})});if(self.defaults.stripTrailingSlashes)url=url.replace(/\/+$/,"")||"/";url=url.replace(/\/\.(?=\w+($|\?))/,".");config.url=protocolAndIpv6+url.replace(/\/(\\|%5C)\./,"/.");forEach(params,function(value,
key){if(!self.urlParams[key]){config.params=config.params||{};config.params[key]=value}})}};function resourceFactory(url,paramDefaults,actions,options){var route=new Route(url,options);actions=extend({},provider.defaults.actions,actions);function extractParams(data,actionParams){var ids={};actionParams=extend({},paramDefaults,actionParams);forEach(actionParams,function(value,key){if(isFunction(value))value=value(data);ids[key]=value&&value.charAt&&value.charAt(0)==="@"?lookupDottedPath(data,value.substr(1)):
value});return ids}function defaultResponseInterceptor(response){return response.resource}function Resource(value){shallowClearAndCopy(value||{},this)}Resource.prototype.toJSON=function(){var data=extend({},this);delete data.$promise;delete data.$resolved;delete data.$cancelRequest;return data};forEach(actions,function(action,name){var hasBody=action.hasBody===true||action.hasBody!==false&&/^(POST|PUT|PATCH)$/i.test(action.method);var numericTimeout=action.timeout;var cancellable=isDefined(action.cancellable)?
action.cancellable:route.defaults.cancellable;if(numericTimeout&&!isNumber(numericTimeout)){$log.debug("ngResource:\n"+"  Only numeric values are allowed as `timeout`.\n"+"  Promises are not supported in $resource, because the same value would "+"be used for multiple requests. If you are looking for a way to cancel "+"requests, you should use the `cancellable` option.");delete action.timeout;numericTimeout=null}Resource[name]=function(a1,a2,a3,a4){var params={},data,onSuccess,onError;switch(arguments.length){case 4:onError=
a4;onSuccess=a3;case 3:case 2:if(isFunction(a2)){if(isFunction(a1)){onSuccess=a1;onError=a2;break}onSuccess=a2;onError=a3}else{params=a1;data=a2;onSuccess=a3;break}case 1:if(isFunction(a1))onSuccess=a1;else if(hasBody)data=a1;else params=a1;break;case 0:break;default:throw $resourceMinErr("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length);}var isInstanceCall=this instanceof Resource;var value=isInstanceCall?data:action.isArray?[]:new Resource(data);
var httpConfig={};var requestInterceptor=action.interceptor&&action.interceptor.request||undefined;var requestErrorInterceptor=action.interceptor&&action.interceptor.requestError||undefined;var responseInterceptor=action.interceptor&&action.interceptor.response||defaultResponseInterceptor;var responseErrorInterceptor=action.interceptor&&action.interceptor.responseError||$q.reject;var successCallback=onSuccess?function(val){onSuccess(val,response.headers,response.status,response.statusText)}:undefined;
var errorCallback=onError||undefined;var timeoutDeferred;var numericTimeoutPromise;var response;forEach(action,function(value,key){switch(key){default:httpConfig[key]=copy(value);break;case "params":case "isArray":case "interceptor":case "cancellable":break}});if(!isInstanceCall&&cancellable){timeoutDeferred=$q.defer();httpConfig.timeout=timeoutDeferred.promise;if(numericTimeout)numericTimeoutPromise=$timeout(timeoutDeferred.resolve,numericTimeout)}if(hasBody)httpConfig.data=data;route.setUrlParams(httpConfig,
extend({},extractParams(data,action.params||{}),params),action.url);var promise=$q.resolve(httpConfig).then(requestInterceptor).catch(requestErrorInterceptor).then($http);promise=promise.then(function(resp){var data=resp.data;if(data){if(isArray(data)!==!!action.isArray)throw $resourceMinErr("badcfg","Error in resource configuration for action `{0}`. Expected response to "+"contain an {1} but got an {2} (Request: {3} {4})",name,action.isArray?"array":"object",isArray(data)?"array":"object",httpConfig.method,
httpConfig.url);if(action.isArray){value.length=0;forEach(data,function(item){if(typeof item==="object")value.push(new Resource(item));else value.push(item)})}else{var promise=value.$promise;shallowClearAndCopy(data,value);value.$promise=promise}}resp.resource=value;response=resp;return responseInterceptor(resp)},function(rejectionOrResponse){rejectionOrResponse.resource=value;response=rejectionOrResponse;return responseErrorInterceptor(rejectionOrResponse)});promise=promise["finally"](function(){value.$resolved=
true;if(!isInstanceCall&&cancellable){value.$cancelRequest=noop;$timeout.cancel(numericTimeoutPromise);timeoutDeferred=numericTimeoutPromise=httpConfig.timeout=null}});promise.then(successCallback,errorCallback);if(!isInstanceCall){value.$promise=promise;value.$resolved=false;if(cancellable)value.$cancelRequest=cancelRequest;return value}return promise;function cancelRequest(value){promise.catch(noop);if(timeoutDeferred!==null)timeoutDeferred.resolve(value)}};Resource.prototype["$"+name]=function(params,
success,error){if(isFunction(params)){error=success;success=params;params={}}var result=Resource[name].call(this,params,this,success,error);return result.$promise||result}});return Resource}return resourceFactory}]})})(window,window.angular);
(function(window,angular){var $sanitizeMinErr=angular.$$minErr("$sanitize");var bind;var extend;var forEach;var isArray;var isDefined;var lowercase;var noop;var nodeContains;var htmlParser;var htmlSanitizeWriter;function $SanitizeProvider(){var hasBeenInstantiated=false;var svgEnabled=false;this.$get=["$$sanitizeUri",function($$sanitizeUri){hasBeenInstantiated=true;if(svgEnabled)extend(validElements,svgElements);return function(html){var buf=[];htmlParser(html,htmlSanitizeWriter(buf,function(uri,
isImage){return!/^unsafe:/.test($$sanitizeUri(uri,isImage))}));return buf.join("")}}];this.enableSvg=function(enableSvg){if(isDefined(enableSvg)){svgEnabled=enableSvg;return this}else return svgEnabled};this.addValidElements=function(elements){if(!hasBeenInstantiated){if(isArray(elements))elements={htmlElements:elements};addElementsTo(svgElements,elements.svgElements);addElementsTo(voidElements,elements.htmlVoidElements);addElementsTo(validElements,elements.htmlVoidElements);addElementsTo(validElements,
elements.htmlElements)}return this};this.addValidAttrs=function(attrs){if(!hasBeenInstantiated)extend(validAttrs,arrayToMap(attrs,true));return this};bind=angular.bind;extend=angular.extend;forEach=angular.forEach;isArray=angular.isArray;isDefined=angular.isDefined;lowercase=angular.$$lowercase;noop=angular.noop;htmlParser=htmlParserImpl;htmlSanitizeWriter=htmlSanitizeWriterImpl;nodeContains=window.Node.prototype.contains||function(arg){return!!(this.compareDocumentPosition(arg)&16)};var SURROGATE_PAIR_REGEXP=
/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^#-~ |!])/g;var voidElements=stringToMap("area,br,col,hr,img,wbr");var optionalEndTagBlockElements=stringToMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=stringToMap("rp,rt"),optionalEndTagElements=extend({},optionalEndTagInlineElements,optionalEndTagBlockElements);var blockElements=extend({},optionalEndTagBlockElements,stringToMap("address,article,"+"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,"+
"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));var inlineElements=extend({},optionalEndTagInlineElements,stringToMap("a,abbr,acronym,b,"+"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,"+"samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var svgElements=stringToMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,"+"hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,"+"radialGradient,rect,stop,svg,switch,text,title,tspan");
var blockedElements=stringToMap("script,style");var validElements=extend({},voidElements,blockElements,inlineElements,optionalEndTagElements);var uriAttrs=stringToMap("background,cite,href,longdesc,src,xlink:href,xml:base");var htmlAttrs=stringToMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,"+"color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,"+"ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,"+"scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,"+
"valign,value,vspace,width");var svgAttrs=stringToMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,"+"baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,"+"cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,"+"font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,"+"height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,"+"marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,"+
"max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,"+"path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,"+"requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,"+"stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,"+"stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,"+"stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,"+
"underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,"+"width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,"+"xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var validAttrs=extend({},uriAttrs,svgAttrs,htmlAttrs);function stringToMap(str,lowercaseKeys){return arrayToMap(str.split(","),lowercaseKeys)}function arrayToMap(items,lowercaseKeys){var obj={},i;for(i=0;i<items.length;i++)obj[lowercaseKeys?
lowercase(items[i]):items[i]]=true;return obj}function addElementsTo(elementsMap,newElements){if(newElements&&newElements.length)extend(elementsMap,arrayToMap(newElements))}var getInertBodyElement=function(window,document){if(isDOMParserAvailable())return getInertBodyElement_DOMParser;if(!document||!document.implementation)throw $sanitizeMinErr("noinert","Can't create an inert html document");var inertDocument=document.implementation.createHTMLDocument("inert");var inertBodyElement=(inertDocument.documentElement||
inertDocument.getDocumentElement()).querySelector("body");return getInertBodyElement_InertDocument;function isDOMParserAvailable(){try{return!!getInertBodyElement_DOMParser("")}catch(e){return false}}function getInertBodyElement_DOMParser(html){html="\x3cremove\x3e\x3c/remove\x3e"+html;try{var body=(new window.DOMParser).parseFromString(html,"text/html").body;body.firstChild.remove();return body}catch(e){return undefined}}function getInertBodyElement_InertDocument(html){inertBodyElement.innerHTML=
html;if(document.documentMode)stripCustomNsAttrs(inertBodyElement);return inertBodyElement}}(window,window.document);function htmlParserImpl(html,handler){if(html===null||html===undefined)html="";else if(typeof html!=="string")html=""+html;var inertBodyElement=getInertBodyElement(html);if(!inertBodyElement)return"";var mXSSAttempts=5;do{if(mXSSAttempts===0)throw $sanitizeMinErr("uinput","Failed to sanitize html because the input is unstable");mXSSAttempts--;html=inertBodyElement.innerHTML;inertBodyElement=
getInertBodyElement(html)}while(html!==inertBodyElement.innerHTML);var node=inertBodyElement.firstChild;while(node){switch(node.nodeType){case 1:handler.start(node.nodeName.toLowerCase(),attrToMap(node.attributes));break;case 3:handler.chars(node.textContent);break}var nextNode;if(!(nextNode=node.firstChild)){if(node.nodeType===1)handler.end(node.nodeName.toLowerCase());nextNode=getNonDescendant("nextSibling",node);if(!nextNode)while(nextNode==null){node=getNonDescendant("parentNode",node);if(node===
inertBodyElement)break;nextNode=getNonDescendant("nextSibling",node);if(node.nodeType===1)handler.end(node.nodeName.toLowerCase())}}node=nextNode}while(node=inertBodyElement.firstChild)inertBodyElement.removeChild(node)}function attrToMap(attrs){var map={};for(var i=0,ii=attrs.length;i<ii;i++){var attr=attrs[i];map[attr.name]=attr.value}return map}function encodeEntities(value){return value.replace(/&/g,"\x26amp;").replace(SURROGATE_PAIR_REGEXP,function(value){var hi=value.charCodeAt(0);var low=value.charCodeAt(1);
return"\x26#"+((hi-55296)*1024+(low-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(value){return"\x26#"+value.charCodeAt(0)+";"}).replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")}function htmlSanitizeWriterImpl(buf,uriValidator){var ignoreCurrentElement=false;var out=bind(buf,buf.push);return{start:function(tag,attrs){tag=lowercase(tag);if(!ignoreCurrentElement&&blockedElements[tag])ignoreCurrentElement=tag;if(!ignoreCurrentElement&&validElements[tag]===true){out("\x3c");out(tag);forEach(attrs,
function(value,key){var lkey=lowercase(key);var isImage=tag==="img"&&lkey==="src"||lkey==="background";if(validAttrs[lkey]===true&&(uriAttrs[lkey]!==true||uriValidator(value,isImage))){out(" ");out(key);out('\x3d"');out(encodeEntities(value));out('"')}});out("\x3e")}},end:function(tag){tag=lowercase(tag);if(!ignoreCurrentElement&&validElements[tag]===true&&voidElements[tag]!==true){out("\x3c/");out(tag);out("\x3e")}if(tag==ignoreCurrentElement)ignoreCurrentElement=false},chars:function(chars){if(!ignoreCurrentElement)out(encodeEntities(chars))}}}
function stripCustomNsAttrs(node){while(node){if(node.nodeType===window.Node.ELEMENT_NODE){var attrs=node.attributes;for(var i=0,l=attrs.length;i<l;i++){var attrNode=attrs[i];var attrName=attrNode.name.toLowerCase();if(attrName==="xmlns:ns1"||attrName.lastIndexOf("ns1:",0)===0){node.removeAttributeNode(attrNode);i--;l--}}}var nextNode=node.firstChild;if(nextNode)stripCustomNsAttrs(nextNode);node=getNonDescendant("nextSibling",node)}}function getNonDescendant(propName,node){var nextNode=node[propName];
if(nextNode&&nodeContains.call(node,nextNode))throw $sanitizeMinErr("elclob","Failed to sanitize html because the element is clobbered: {0}",node.outerHTML||node.outerText);return nextNode}}function sanitizeText(chars){var buf=[];var writer=htmlSanitizeWriter(buf,noop);writer.chars(chars);return buf.join("")}angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider).info({angularVersion:"1.9.0"});angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=
/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i;var linkyMinErr=angular.$$minErr("linky");var isDefined=angular.isDefined;var isFunction=angular.isFunction;var isObject=angular.isObject;var isString=angular.isString;return function(text,target,attributes){if(text==null||text==="")return text;if(!isString(text))throw linkyMinErr("notstring","Expected string but received: {0}",text);var attributesFn=isFunction(attributes)?attributes:
isObject(attributes)?function getAttributesObject(){return attributes}:function getEmptyAttributesObject(){return{}};var match;var raw=text;var html=[];var url;var i;while(match=raw.match(LINKY_URL_REGEXP)){url=match[0];if(!match[2]&&!match[4])url=(match[3]?"http://":"mailto:")+url;i=match.index;addText(raw.substr(0,i));addLink(url,match[0].replace(MAILTO_REGEXP,""));raw=raw.substring(i+match[0].length)}addText(raw);return $sanitize(html.join(""));function addText(text){if(!text)return;html.push(sanitizeText(text))}
function addLink(url,text){var key,linkAttributes=attributesFn(url);html.push("\x3ca ");for(key in linkAttributes)html.push(key+'\x3d"'+linkAttributes[key]+'" ');if(isDefined(target)&&!("target"in linkAttributes))html.push('target\x3d"',target,'" ');html.push('href\x3d"',url.replace(/"/g,"\x26quot;"),'"\x3e');addText(text);html.push("\x3c/a\x3e")}}}])})(window,window.angular);angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.pagination","ui.bootstrap.paging","ui.bootstrap.tabindex"]);
angular.module("ui.bootstrap.tpls",["uib/template/pagination/pagination.html"]);
angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function($scope,$attrs,$parse,uibPaging,uibPaginationConfig){var ctrl=this;var maxSize=angular.isDefined($attrs.maxSize)?$scope.$parent.$eval($attrs.maxSize):uibPaginationConfig.maxSize,rotate=angular.isDefined($attrs.rotate)?$scope.$parent.$eval($attrs.rotate):uibPaginationConfig.rotate,forceEllipses=angular.isDefined($attrs.forceEllipses)?
$scope.$parent.$eval($attrs.forceEllipses):uibPaginationConfig.forceEllipses,boundaryLinkNumbers=angular.isDefined($attrs.boundaryLinkNumbers)?$scope.$parent.$eval($attrs.boundaryLinkNumbers):uibPaginationConfig.boundaryLinkNumbers,pageLabel=angular.isDefined($attrs.pageLabel)?function(idx){return $scope.$parent.$eval($attrs.pageLabel,{$page:idx})}:angular.identity;$scope.boundaryLinks=angular.isDefined($attrs.boundaryLinks)?$scope.$parent.$eval($attrs.boundaryLinks):uibPaginationConfig.boundaryLinks;
$scope.directionLinks=angular.isDefined($attrs.directionLinks)?$scope.$parent.$eval($attrs.directionLinks):uibPaginationConfig.directionLinks;$attrs.$set("role","menu");uibPaging.create(this,$scope,$attrs);if($attrs.maxSize)ctrl._watchers.push($scope.$parent.$watch($parse($attrs.maxSize),function(value){maxSize=parseInt(value,10);ctrl.render()}));function makePage(number,text,isActive){return{number:number,text:text,active:isActive}}function getPages(currentPage,totalPages){var pages=[];var startPage=
1,endPage=totalPages;var isMaxSized=angular.isDefined(maxSize)&&maxSize<totalPages;if(isMaxSized)if(rotate){startPage=Math.max(currentPage-Math.floor(maxSize/2),1);endPage=startPage+maxSize-1;if(endPage>totalPages){endPage=totalPages;startPage=endPage-maxSize+1}}else{startPage=(Math.ceil(currentPage/maxSize)-1)*maxSize+1;endPage=Math.min(startPage+maxSize-1,totalPages)}for(var number=startPage;number<=endPage;number++){var page=makePage(number,pageLabel(number),number===currentPage);pages.push(page)}if(isMaxSized&&
maxSize>0&&(!rotate||forceEllipses||boundaryLinkNumbers)){if(startPage>1){if(!boundaryLinkNumbers||startPage>3){var previousPageSet=makePage(startPage-1,"...",false);pages.unshift(previousPageSet)}if(boundaryLinkNumbers){if(startPage===3){var secondPageLink=makePage(2,"2",false);pages.unshift(secondPageLink)}var firstPageLink=makePage(1,"1",false);pages.unshift(firstPageLink)}}if(endPage<totalPages){if(!boundaryLinkNumbers||endPage<totalPages-2){var nextPageSet=makePage(endPage+1,"...",false);pages.push(nextPageSet)}if(boundaryLinkNumbers){if(endPage===
totalPages-2){var secondToLastPageLink=makePage(totalPages-1,totalPages-1,false);pages.push(secondToLastPageLink)}var lastPageLink=makePage(totalPages,totalPages,false);pages.push(lastPageLink)}}}return pages}var originalRender=this.render;this.render=function(){originalRender();if($scope.page>0&&$scope.page<=$scope.totalPages)$scope.pages=getPages($scope.page,$scope.totalPages)}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:false,boundaryLinkNumbers:false,directionLinks:true,firstText:"First",
previousText:"Previous",nextText:"Next",lastText:"Last",rotate:true,forceEllipses:false}).directive("uibPagination",["$parse","uibPaginationConfig",function($parse,uibPaginationConfig){return{scope:{totalItems:"\x3d",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"\x3d"},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(element,attrs){return attrs.templateUrl||"uib/template/pagination/pagination.html"},
link:function(scope,element,attrs,ctrls){element.addClass("pagination");var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(!ngModelCtrl)return;paginationCtrl.init(ngModelCtrl,uibPaginationConfig)}}}]);
angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function($parse){return{create:function(ctrl,$scope,$attrs){ctrl.setNumPages=$attrs.numPages?$parse($attrs.numPages).assign:angular.noop;ctrl.ngModelCtrl={$setViewValue:angular.noop};ctrl._watchers=[];ctrl.init=function(ngModelCtrl,config){ctrl.ngModelCtrl=ngModelCtrl;ctrl.config=config;ngModelCtrl.$render=function(){ctrl.render()};if($attrs.itemsPerPage)ctrl._watchers.push($scope.$parent.$watch($attrs.itemsPerPage,function(value){ctrl.itemsPerPage=
parseInt(value,10);$scope.totalPages=ctrl.calculateTotalPages();ctrl.updatePage()}));else ctrl.itemsPerPage=config.itemsPerPage;$scope.$watch("totalItems",function(newTotal,oldTotal){if(angular.isDefined(newTotal)||newTotal!==oldTotal){$scope.totalPages=ctrl.calculateTotalPages();ctrl.updatePage()}})};ctrl.calculateTotalPages=function(){var totalPages=ctrl.itemsPerPage<1?1:Math.ceil($scope.totalItems/ctrl.itemsPerPage);return Math.max(totalPages||0,1)};ctrl.render=function(){$scope.page=parseInt(ctrl.ngModelCtrl.$viewValue,
10)||1};$scope.selectPage=function(page,evt){if(evt)evt.preventDefault();var clickAllowed=!$scope.ngDisabled||!evt;if(clickAllowed&&$scope.page!==page&&page>0&&page<=$scope.totalPages){if(evt&&evt.target)evt.target.blur();ctrl.ngModelCtrl.$setViewValue(page);ctrl.ngModelCtrl.$render();$(".Pagination-item").click(function(){if($(".perso-bloc").offset()!=undefined)$("html, body").scrollTop($(".perso-bloc").offset().top)})}};$scope.getText=function(key){return $scope[key+"Text"]||ctrl.config[key+"Text"]};
$scope.noPrevious=function(){return $scope.page===1};$scope.noNext=function(){return $scope.page===$scope.totalPages};ctrl.updatePage=function(){ctrl.setNumPages($scope.$parent,$scope.totalPages);if($scope.page>$scope.totalPages)$scope.selectPage($scope.totalPages);else ctrl.ngModelCtrl.$render()};$scope.$on("$destroy",function(){while(ctrl._watchers.length)ctrl._watchers.shift()()})}}}]);
angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(scope,elem,attrs){attrs.$observe("disabled",function(disabled){attrs.$set("tabindex",disabled?-1:null)})}}});
angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/pagination/pagination.html",'\x3cli role\x3d"menuitem" ng-if\x3d"::boundaryLinks" ng-class\x3d"{disabled: noPrevious()||ngDisabled}" class\x3d"pagination-first"\x3e\x3ca href ng-click\x3d"selectPage(1, $event)" ng-disabled\x3d"noPrevious()||ngDisabled" uib-tabindex-toggle\x3e{{::getText(\'first\')}}\x3c/a\x3e\x3c/li\x3e\n'+'\x3cli role\x3d"menuitem" ng-if\x3d"::directionLinks" ng-class\x3d"{disabled: noPrevious()||ngDisabled}" class\x3d"pagination-prev"\x3e\x3ca href ng-click\x3d"selectPage(page - 1, $event)" ng-disabled\x3d"noPrevious()||ngDisabled" uib-tabindex-toggle\x3e{{::getText(\'previous\')}}\x3c/a\x3e\x3c/li\x3e\n'+
'\x3cli role\x3d"menuitem" ng-repeat\x3d"page in pages track by $index" ng-class\x3d"{active: page.active,disabled: ngDisabled\x26\x26!page.active}" class\x3d"pagination-page"\x3e\x3ca href ng-click\x3d"selectPage(page.number, $event)" ng-disabled\x3d"ngDisabled\x26\x26!page.active" uib-tabindex-toggle\x3e{{page.text}}\x3c/a\x3e\x3c/li\x3e\n'+'\x3cli role\x3d"menuitem" ng-if\x3d"::directionLinks" ng-class\x3d"{disabled: noNext()||ngDisabled}" class\x3d"pagination-next"\x3e\x3ca href ng-click\x3d"selectPage(page + 1, $event)" ng-disabled\x3d"noNext()||ngDisabled" uib-tabindex-toggle\x3e{{::getText(\'next\')}}\x3c/a\x3e\x3c/li\x3e\n'+
'\x3cli role\x3d"menuitem" ng-if\x3d"::boundaryLinks" ng-class\x3d"{disabled: noNext()||ngDisabled}" class\x3d"pagination-last"\x3e\x3ca href ng-click\x3d"selectPage(totalPages, $event)" ng-disabled\x3d"noNext()||ngDisabled" uib-tabindex-toggle\x3e{{::getText(\'last\')}}\x3c/a\x3e\x3c/li\x3e\n'+"")}]);var NPC=NPC||{};NPC.synthese=NPC.synthese||{};var MARCHES_AVEC_PAIEMENTS_ENCAISSEMENTS=["agriculteur","association","collectivites-publiques","entreprise","professionnel"];
var PAIEMENTS_ENCAISSEMENTS="paiements-encaissements";var MOYENS_PAIEMENT="moyens-paiement";var SYNTHESE_PARENT_FOLDER_URL="operations";var EDITER_RIB_PARENT_FOLDER_URL="operations-courantes";var PAGE_VIREMENT="virement";var PAGE_MA_CARTE="ma-carte";var PAGE_MES_CARTES="mes-cartes";var PAGE_IHML_GESTION_CARTES="gestion-cartes";var PAGE_EDITER_RIB="editer-rib";var PAGE_TELECHARGEMENT="telechargement/jcr:content.getFichier";var INIT_CARTES_SELECTOR=".init-cartes";
NPC.synthese.gotoMesCartes=function(uneSeuleCarte,compte){var page=uneSeuleCarte?PAGE_MA_CARTE:PAGE_MES_CARTES;var left=getCheminDossierParentCarteEtVirement();var right="";if(compte&&compte.grandeFamilleProduitCode&&compte.indexCompte)right=page+".html#!/cartes/"+compte.grandeFamilleProduitCode+"/"+compte.indexCompte;else if(uneSeuleCarte)right=page+".html#!/carte/0";else right=page+".html#!/cartes/";window.location=left+"/"+right};
NPC.synthese.gotoGestionCartes=function(){window.location=getCheminIhmlGestionCarte()+PAGE_IHML_GESTION_CARTES+".html"};NPC.synthese.getCheminPageVirement=function(){return getCheminDossierParentCarteEtVirement()+"/"+PAGE_VIREMENT+".html"};NPC.synthese.getCheminEditerRib=function(){return window.location.pathname.substring(0,window.location.pathname.indexOf("/"+SYNTHESE_PARENT_FOLDER_URL))+"/"+SYNTHESE_PARENT_FOLDER_URL+"/"+EDITER_RIB_PARENT_FOLDER_URL+"/"+PAGE_EDITER_RIB+".html"};
NPC.synthese.getCheminPageEditVirement=function(){return NPC.synthese.getCheminPageVirement()+"#!/edit"};NPC.synthese.compterCartes=function(compte){if(compte!=undefined)if(compte.cartes!=undefined)return compte.cartes.length;else if(compte.cartesDD!=undefined)return compte.cartesDD.length;return 0};
NPC.synthese.formaterCodeProduit=function(codeProduit){if(codeProduit!=undefined&&codeProduit.leftPad!=undefined)return codeProduit.leftPad(5,"0");console.warn("Impossible de formatter le code produit : ",codeProduit);return codeProduit};NPC.synthese.getCheminTelechargement=function(){return window.location.pathname.substring(0,window.location.pathname.indexOf("/"+SYNTHESE_PARENT_FOLDER_URL))+"/"+SYNTHESE_PARENT_FOLDER_URL+"/"+EDITER_RIB_PARENT_FOLDER_URL+"/"+PAGE_TELECHARGEMENT+".json"};
NPC.synthese.getCurrentMarcheUrl=function(){if(window!=undefined&&window.location!=undefined&&window.location.pathname!=undefined){var marche=window.location.pathname.substring(0,window.location.pathname.indexOf("/"+SYNTHESE_PARENT_FOLDER_URL));return marche.substring(marche.lastIndexOf("/")+1)}else return null};
NPC.synthese.creerListeRegroupementParPartenaire=function(elementsContrats,grouperParEtablissement){function GroupementInfo(groupeId,libelle,roleAffiche){this.id=groupeId;this.libelle=libelle;this.produits=[];this.roleAffiche=roleAffiche}GroupementInfo.prototype.addProduit=function(produit){this.produits.push(produit)};var groupeParId={};var groupes=[];for(var i=0;i<elementsContrats.length;i++){var elementContrat=elementsContrats[i];var groupeId=elementContrat.idPartenaire+""+elementContrat.libelleCompte;
if(grouperParEtablissement&&elementContrat.etablissement!=undefined)groupeId=elementContrat.etablissement.type+" "+elementContrat.etablissement.siret+""+elementContrat.libelleCompte;var groupe=groupeParId[groupeId];if(i==0||groupe==undefined){groupe=new GroupementInfo(groupeId,elementContrat.libelleCompte,elementContrat.rolePartenaireAffiche);groupes.push(groupe);groupeParId[groupeId]=groupe}groupe.addProduit(elementContrat)}return groupes};
NPC.synthese.extractCartesFromComptes=function(comptes){var result={hasImmediat:false,hasDiffere:false,cartes:[]};angular.forEach(comptes,function(compte,keyCompte){angular.forEach(compte.listeCartes,function(carte,keyCarte){if(carte.idTitulaire!==undefined&&carte.codeSituationCarte==7){carte.statutOption={};if(carte.codeTypeDebitPaiementCarte.indexOf("I")!==-1)result.hasImmediat=true;else if(carte.codeTypeDebitPaiementCarte.indexOf("D")!==-1)result.hasDiffere=true;if(carte.encoursCarteM!==undefined&&
carte.encoursCarteM1!==undefined)carte.encoursCarteTri=carte.encoursCarteM1;else if(carte.encoursCarteM!==undefined)carte.encoursCarteTri=carte.encoursCarteM;else if(carte.encoursCarteM1!==undefined)carte.encoursCarteTri=carte.encoursCarteM1;carte.idCompte=compte.idCompte;carte.compteIdx=compte.compteIdx;carte.grandeFamilleCode=compte.grandeFamilleCode;if(compte.libelleEtablissement!==undefined){carte.libelleEtablissement=compte.libelleEtablissement;carte.typeEtablissement=compte.type}result.cartes.push(carte)}})});
return result};var getCurrentLangueUrl=function(marche){if(window!=undefined&&window.location!=undefined&&window.location.pathname!=undefined&&marche.length!=0){var langue=window.location.pathname.substring(0,window.location.pathname.indexOf("/"+marche));return langue.substring(langue.lastIndexOf("/")+1)}else return null};
var getCheminDossierParentCarteEtVirement=function(){var prefixUrl=window.location.pathname.substring(0,window.location.pathname.indexOf("/"+SYNTHESE_PARENT_FOLDER_URL))+"/"+SYNTHESE_PARENT_FOLDER_URL+"/";var dossierPage=MARCHES_AVEC_PAIEMENTS_ENCAISSEMENTS.indexOf(NPC.synthese.getCurrentMarcheUrl())!=-1?PAIEMENTS_ENCAISSEMENTS:MOYENS_PAIEMENT;return prefixUrl+dossierPage};
var getCheminIhmlGestionCarte=function(){var prefixUrl=window.location.pathname.substring(0,window.location.pathname.indexOf("/"+SYNTHESE_PARENT_FOLDER_URL))+"/"+SYNTHESE_PARENT_FOLDER_URL+"/";var dossierPage=EDITER_RIB_PARENT_FOLDER_URL+"/";return prefixUrl+dossierPage};$(document).ready(function(){});var NPC=NPC||{};
(function(NPC){NPC.synthese=NPC.synthese||{};function redirigerMoco(donneesLien,objetParametres){var parametres=angular.merge({},donneesLien.donnees,objetParametres?objetParametres:{});delete parametres.idAppPartenaire;NPC.postPartenaire(donneesLien.url,parametres)}function redirigerPu(donneesLien,objetParametres){var parametres=angular.merge({},donneesLien.donnees,objetParametres);delete parametres.idPu;NPC.postPartenaire(donneesLien.url+"?npidde\x3d"+genererIdDemarragePU(),parametres)}function genererIdDemarragePU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(c){var r=Math.random()*16|0,v=c=="x"?r:r&3|8;return v.toString(16)})}NPC.synthese.afficherDetailProduit=function(donneesConfigurationLiens,produit){if(produit!==undefined&&produit.codeProduit!==undefined){var donneesLien=donneesConfigurationLiens[produit.codeProduit];if(donneesLien)switch(donneesLien.type){case "I":window.location.href=donneesLien.url+"?idx\x3d"+produit.index+"\x26famillecode\x3d"+produit.grandeFamilleProduitCode;break;case "M":if(donneesLien.donnees&&donneesLien.donnees.idAppPartenaire)switch(donneesLien.donnees.idAppPartenaire){case "ATOUTLIBRE":redirigerMoco(donneesLien,
{idelco:produit.numeroContrat});break;case "PREDICA":redirigerMoco(donneesLien,{idelco:produit.numeroCompte});break;case "PACIFICA":redirigerMoco(donneesLien,{idelco:produit.idElementContrat});break;case "CATITRES":redirigerMoco(donneesLien,{num_compte:produit.numeroCompteBam,code_fam_produit:produit.codeFamilleProduitBam,code_fam_contrat_compte:produit.codeFamilleContratBam});break;default:redirigerMoco(donneesLien);break}break;case "P":if(donneesLien.donnees&&donneesLien.donnees.idPu)switch(donneesLien.donnees.idPu){case "Cautions":case "Lignebillet":case "Effettdb":redirigerPu(donneesLien,
{});break;case "Releves":redirigerPu(donneesLien,{numcompte:produit.numeroCompteBam,numsouscompte:produit.numeroSousCompteBam,cfcontrat:produit.codeFamilleContratBam,cfproduit:produit.codeFamilleProduitBam});break;case "DAT":redirigerPu(donneesLien,{idcompte:produit.numeroCompteBam,lib:produit.libellePartenaireBam,cat:produit.typeEcranBam});break;case "Detailcredit":var numeroPret=produit.numeroCredit||produit.numeroPret;redirigerPu(donneesLien,{numcompte:produit.numeroCompteBam,numsouscompte:produit.numeroSousCompteBam,
cfcontrat:produit.codeFamilleContratBam,cfproduit:produit.codeFamilleProduitBam,codenat:produit.codeNatureCompteBam,nat:produit.natureCompteBam,num:numeroPret,indexList:produit.indexList});break;case "Pret":var numeroPret=produit.numeroCredit||produit.numeroPret;redirigerPu(donneesLien,{numcompte:produit.numeroCompteBam,numsouscompte:produit.numeroSousCompteBam,cfcontrat:produit.codeFamilleContratBam,cfproduit:produit.codeFamilleProduitBam,codenat:produit.codeNatureCompteBam,nat:produit.natureCompteBam,
num:numeroPret,indexList:produit.indexList});break}break;case "L":var param={id_element_contrat:produit.idElementContrat,numero_compte:produit.numeroCompte,url:donneesLien.url};var ref="n1.chargercontexteihml.parcourssynthesecontexteservlet";$.post(NPC.genererURLJson(ref),param,function(data){window.location=data}).fail(function(data){console.log("Erreur lors de l'appel \u00e0 la servlet : "+ref+" status : "+data.status)});break;default:console.log("type de configuration de lien non connu : "+donneesLien.type);
break}else{var keys=Object.keys(donneesConfigurationLiens);var cles=keys.join(", ");NPC.clientSideLogger.error("ERROR","Code produit ("+produit.codeProduit+") absent de la liste des autorisations :"+cles)}}}})(NPC);var NPC=NPC||{};NPC.angularApp=NPC.angularApp||angular.module("npc",["ngRoute","ui.bootstrap"]);
NPC.angularApp.filter("montant",["$sce",function($sce){return function(montant,libelleDevise){if(montant!=undefined&&libelleDevise!=undefined)return $sce.trustAsHtml(NPC.formatCurrency(montant,libelleDevise));else return $sce.trustAsHtml("Informations non disponibles")}}]);NPC.angularApp.filter("montantOperation",["$sce",function($sce){return function(op){return $sce.trustAsHtml(NPC.formatCurrency(op.montant,op.libelleDevise))}}]);
NPC.angularApp.filter("formatDate",["$sce",function($sce){return function(date){return NPC.formatDate(date,true,true)}}]);
NPC.angularApp.directive("npcPagination",["$parse","uibPaginationConfig",function($parse,uibPaginationConfig){return{scope:{totalItems:"\x3d",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"\x3d"},require:["npcPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(element,attrs){return attrs.templateUrl||"uib/template/pagination/pagination.html"},link:function(scope,element,attrs,ctrls){var paginationCtrl=ctrls[0],
ngModelCtrl=ctrls[1];if(!ngModelCtrl)return;paginationCtrl.init(ngModelCtrl,uibPaginationConfig)}}}]);NPC.angularApp.factory("logoutInterceptor",["$q",logoutInterceptor]);NPC.angularApp.config(["$httpProvider",httpProviderConfig]);
function logoutInterceptor($q){var handleLogout={responseError:function(response){if(response.status===403){var cause=response.data;if(cause!==undefined&&cause.indexOf("Authentication Failed")!==-1){Granite.Sling.LOGIN_URL=NPC.urlMarcheCourant+".npc.login.html";Granite.HTTP.handleLoginRedirect()}}return $q.reject(response)}};return handleLogout}
function httpProviderConfig($httpProvider){if(!$httpProvider.defaults.headers.get)$httpProvider.defaults.headers.get={};$httpProvider.defaults.headers.get["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT";$httpProvider.defaults.headers.get["Cache-Control"]="no-cache";$httpProvider.defaults.headers.get["Pragma"]="no-cache";$httpProvider.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";$httpProvider.interceptors.push("logoutInterceptor")}var NPC=NPC||{};
NPC.angularApp=NPC.angularApp||angular.module("npc",["ngRoute","ui.bootstrap"]);NPC.angularApp.filter("purcent",function(){if(typeof a=="string")return a;return function(a,b){if(!a||!b||isNaN(a)||isNaN(b)||b==0)return a;return a/(b/100)}});var NPC=NPC||{};NPC.angularApp=NPC.angularApp||angular.module("npc",["ngRoute","ui.bootstrap"]);
NPC.angularApp.directive("charPolicy",function(){var latinChars={"\u00c1":"A","\u0102":"A","\u1eae":"A","\u1eb6":"A","\u1eb0":"A","\u1eb2":"A","\u1eb4":"A","\u01cd":"A","\u00c2":"A","\u1ea4":"A","\u1eac":"A","\u1ea6":"A","\u1ea8":"A","\u1eaa":"A","\u00c4":"A","\u01de":"A","\u0226":"A","\u01e0":"A","\u1ea0":"A","\u0200":"A","\u00c0":"A","\u1ea2":"A","\u0202":"A","\u0100":"A","\u0104":"A","\u00c5":"A","\u01fa":"A","\u1e00":"A","\u023a":"A","\u00c3":"A","\ua732":"AA","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE",
"\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u1e02":"B","\u1e04":"B","\u0181":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0106":"C","\u010c":"C","\u00c7":"C","\u1e08":"C","\u0108":"C","\u010a":"C","\u0187":"C","\u023b":"C","\u010e":"D","\u1e10":"D","\u1e12":"D","\u1e0a":"D","\u1e0c":"D","\u018a":"D","\u1e0e":"D","\u01f2":"D","\u01c5":"D","\u0110":"D","\u018b":"D","\u01f1":"DZ","\u01c4":"DZ","\u00c9":"E","\u0114":"E","\u011a":"E","\u0228":"E","\u1e1c":"E","\u00ca":"E",
"\u1ebe":"E","\u1ec6":"E","\u1ec0":"E","\u1ec2":"E","\u1ec4":"E","\u1e18":"E","\u00cb":"E","\u0116":"E","\u1eb8":"E","\u0204":"E","\u00c8":"E","\u1eba":"E","\u0206":"E","\u0112":"E","\u1e16":"E","\u1e14":"E","\u0118":"E","\u0246":"E","\u1ebc":"E","\u1e1a":"E","\ua76a":"ET","\u1e1e":"F","\u0191":"F","\u01f4":"G","\u011e":"G","\u01e6":"G","\u0122":"G","\u011c":"G","\u0120":"G","\u0193":"G","\u1e20":"G","\u01e4":"G","\u1e2a":"H","\u021e":"H","\u1e28":"H","\u0124":"H","\u2c67":"H","\u1e26":"H","\u1e22":"H",
"\u1e24":"H","\u0126":"H","\u00cd":"I","\u012c":"I","\u01cf":"I","\u00ce":"I","\u00cf":"I","\u1e2e":"I","\u0130":"I","\u1eca":"I","\u0208":"I","\u00cc":"I","\u1ec8":"I","\u020a":"I","\u012a":"I","\u012e":"I","\u0197":"I","\u0128":"I","\u1e2c":"I","\ua779":"D","\ua77b":"F","\ua77d":"G","\ua782":"R","\ua784":"S","\ua786":"T","\ua76c":"IS","\u0134":"J","\u0248":"J","\u1e30":"K","\u01e8":"K","\u0136":"K","\u2c69":"K","\ua742":"K","\u1e32":"K","\u0198":"K","\u1e34":"K","\ua740":"K","\ua744":"K","\u0139":"L",
"\u023d":"L","\u013d":"L","\u013b":"L","\u1e3c":"L","\u1e36":"L","\u1e38":"L","\u2c60":"L","\ua748":"L","\u1e3a":"L","\u013f":"L","\u2c62":"L","\u01c8":"L","\u0141":"L","\u01c7":"LJ","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u0143":"N","\u0147":"N","\u0145":"N","\u1e4a":"N","\u1e44":"N","\u1e46":"N","\u01f8":"N","\u019d":"N","\u1e48":"N","\u0220":"N","\u01cb":"N","\u00d1":"N","\u01ca":"NJ","\u00d3":"O","\u014e":"O","\u01d1":"O","\u00d4":"O","\u1ed0":"O","\u1ed8":"O","\u1ed2":"O","\u1ed4":"O",
"\u1ed6":"O","\u00d6":"O","\u022a":"O","\u022e":"O","\u0230":"O","\u1ecc":"O","\u0150":"O","\u020c":"O","\u00d2":"O","\u1ece":"O","\u01a0":"O","\u1eda":"O","\u1ee2":"O","\u1edc":"O","\u1ede":"O","\u1ee0":"O","\u020e":"O","\ua74a":"O","\ua74c":"O","\u014c":"O","\u1e52":"O","\u1e50":"O","\u019f":"O","\u01ea":"O","\u01ec":"O","\u00d8":"O","\u01fe":"O","\u00d5":"O","\u1e4c":"O","\u1e4e":"O","\u022c":"O","\u01a2":"OI","\ua74e":"OO","\u0190":"E","\u0186":"O","\u0222":"OU","\u1e54":"P","\u1e56":"P","\ua752":"P",
"\u01a4":"P","\ua754":"P","\u2c63":"P","\ua750":"P","\ua758":"Q","\ua756":"Q","\u0154":"R","\u0158":"R","\u0156":"R","\u1e58":"R","\u1e5a":"R","\u1e5c":"R","\u0210":"R","\u0212":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua73e":"C","\u018e":"E","\u015a":"S","\u1e64":"S","\u0160":"S","\u1e66":"S","\u015e":"S","\u015c":"S","\u0218":"S","\u1e60":"S","\u1e62":"S","\u1e68":"S","\u0164":"T","\u0162":"T","\u1e70":"T","\u021a":"T","\u023e":"T","\u1e6a":"T","\u1e6c":"T","\u01ac":"T","\u1e6e":"T","\u01ae":"T",
"\u0166":"T","\u2c6f":"A","\ua780":"L","\u019c":"M","\u0245":"V","\ua728":"TZ","\u00da":"U","\u016c":"U","\u01d3":"U","\u00db":"U","\u1e76":"U","\u00dc":"U","\u01d7":"U","\u01d9":"U","\u01db":"U","\u01d5":"U","\u1e72":"U","\u1ee4":"U","\u0170":"U","\u0214":"U","\u00d9":"U","\u1ee6":"U","\u01af":"U","\u1ee8":"U","\u1ef0":"U","\u1eea":"U","\u1eec":"U","\u1eee":"U","\u0216":"U","\u016a":"U","\u1e7a":"U","\u0172":"U","\u016e":"U","\u0168":"U","\u1e78":"U","\u1e74":"U","\ua75e":"V","\u1e7e":"V","\u01b2":"V",
"\u1e7c":"V","\ua760":"VY","\u1e82":"W","\u0174":"W","\u1e84":"W","\u1e86":"W","\u1e88":"W","\u1e80":"W","\u2c72":"W","\u1e8c":"X","\u1e8a":"X","\u00dd":"Y","\u0176":"Y","\u0178":"Y","\u1e8e":"Y","\u1ef4":"Y","\u1ef2":"Y","\u01b3":"Y","\u1ef6":"Y","\u1efe":"Y","\u0232":"Y","\u024e":"Y","\u1ef8":"Y","\u0179":"Z","\u017d":"Z","\u1e90":"Z","\u2c6b":"Z","\u017b":"Z","\u1e92":"Z","\u0224":"Z","\u1e94":"Z","\u01b5":"Z","\u0132":"IJ","\u0152":"OE","\u1d00":"A","\u1d01":"AE","\u0299":"B","\u1d03":"B","\u1d04":"C",
"\u1d05":"D","\u1d07":"E","\ua730":"F","\u0262":"G","\u029b":"G","\u029c":"H","\u026a":"I","\u0281":"R","\u1d0a":"J","\u1d0b":"K","\u029f":"L","\u1d0c":"L","\u1d0d":"M","\u0274":"N","\u1d0f":"O","\u0276":"OE","\u1d10":"O","\u1d15":"OU","\u1d18":"P","\u0280":"R","\u1d0e":"N","\u1d19":"R","\ua731":"S","\u1d1b":"T","\u2c7b":"E","\u1d1a":"R","\u1d1c":"U","\u1d20":"V","\u1d21":"W","\u028f":"Y","\u1d22":"Z","\u00e1":"a","\u0103":"a","\u1eaf":"a","\u1eb7":"a","\u1eb1":"a","\u1eb3":"a","\u1eb5":"a","\u01ce":"a",
"\u00e2":"a","\u1ea5":"a","\u1ead":"a","\u1ea7":"a","\u1ea9":"a","\u1eab":"a","\u00e4":"a","\u01df":"a","\u0227":"a","\u01e1":"a","\u1ea1":"a","\u0201":"a","\u00e0":"a","\u1ea3":"a","\u0203":"a","\u0101":"a","\u0105":"a","\u1d8f":"a","\u1e9a":"a","\u00e5":"a","\u01fb":"a","\u1e01":"a","\u2c65":"a","\u00e3":"a","\ua733":"aa","\u00e6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u1e03":"b","\u1e05":"b","\u0253":"b","\u1e07":"b","\u1d6c":"b",
"\u1d80":"b","\u0180":"b","\u0183":"b","\u0275":"o","\u0107":"c","\u010d":"c","\u00e7":"c","\u1e09":"c","\u0109":"c","\u0255":"c","\u010b":"c","\u0188":"c","\u023c":"c","\u010f":"d","\u1e11":"d","\u1e13":"d","\u0221":"d","\u1e0b":"d","\u1e0d":"d","\u0257":"d","\u1d91":"d","\u1e0f":"d","\u1d6d":"d","\u1d81":"d","\u0111":"d","\u0256":"d","\u018c":"d","\u0131":"i","\u0237":"j","\u025f":"j","\u0284":"j","\u01f3":"dz","\u01c6":"dz","\u00e9":"e","\u0115":"e","\u011b":"e","\u0229":"e","\u1e1d":"e","\u00ea":"e",
"\u1ebf":"e","\u1ec7":"e","\u1ec1":"e","\u1ec3":"e","\u1ec5":"e","\u1e19":"e","\u00eb":"e","\u0117":"e","\u1eb9":"e","\u0205":"e","\u00e8":"e","\u1ebb":"e","\u0207":"e","\u0113":"e","\u1e17":"e","\u1e15":"e","\u2c78":"e","\u0119":"e","\u1d92":"e","\u0247":"e","\u1ebd":"e","\u1e1b":"e","\ua76b":"et","\u1e1f":"f","\u0192":"f","\u1d6e":"f","\u1d82":"f","\u01f5":"g","\u011f":"g","\u01e7":"g","\u0123":"g","\u011d":"g","\u0121":"g","\u0260":"g","\u1e21":"g","\u1d83":"g","\u01e5":"g","\u1e2b":"h","\u021f":"h",
"\u1e29":"h","\u0125":"h","\u2c68":"h","\u1e27":"h","\u1e23":"h","\u1e25":"h","\u0266":"h","\u1e96":"h","\u0127":"h","\u0195":"hv","\u00ed":"i","\u012d":"i","\u01d0":"i","\u00ee":"i","\u00ef":"i","\u1e2f":"i","\u1ecb":"i","\u0209":"i","\u00ec":"i","\u1ec9":"i","\u020b":"i","\u012b":"i","\u012f":"i","\u1d96":"i","\u0268":"i","\u0129":"i","\u1e2d":"i","\ua77a":"d","\ua77c":"f","\u1d79":"g","\ua783":"r","\ua785":"s","\ua787":"t","\ua76d":"is","\u01f0":"j","\u0135":"j","\u029d":"j","\u0249":"j","\u1e31":"k",
"\u01e9":"k","\u0137":"k","\u2c6a":"k","\ua743":"k","\u1e33":"k","\u0199":"k","\u1e35":"k","\u1d84":"k","\ua741":"k","\ua745":"k","\u013a":"l","\u019a":"l","\u026c":"l","\u013e":"l","\u013c":"l","\u1e3d":"l","\u0234":"l","\u1e37":"l","\u1e39":"l","\u2c61":"l","\ua749":"l","\u1e3b":"l","\u0140":"l","\u026b":"l","\u1d85":"l","\u026d":"l","\u0142":"l","\u01c9":"lj","\u017f":"s","\u1e9c":"s","\u1e9b":"s","\u1e9d":"s","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u1d6f":"m","\u1d86":"m","\u0144":"n",
"\u0148":"n","\u0146":"n","\u1e4b":"n","\u0235":"n","\u1e45":"n","\u1e47":"n","\u01f9":"n","\u0272":"n","\u1e49":"n","\u019e":"n","\u1d70":"n","\u1d87":"n","\u0273":"n","\u00f1":"n","\u01cc":"nj","\u00f3":"o","\u014f":"o","\u01d2":"o","\u00f4":"o","\u1ed1":"o","\u1ed9":"o","\u1ed3":"o","\u1ed5":"o","\u1ed7":"o","\u00f6":"o","\u022b":"o","\u022f":"o","\u0231":"o","\u1ecd":"o","\u0151":"o","\u020d":"o","\u00f2":"o","\u1ecf":"o","\u01a1":"o","\u1edb":"o","\u1ee3":"o","\u1edd":"o","\u1edf":"o","\u1ee1":"o",
"\u020f":"o","\ua74b":"o","\ua74d":"o","\u2c7a":"o","\u014d":"o","\u1e53":"o","\u1e51":"o","\u01eb":"o","\u01ed":"o","\u00f8":"o","\u01ff":"o","\u00f5":"o","\u1e4d":"o","\u1e4f":"o","\u022d":"o","\u01a3":"oi","\ua74f":"oo","\u025b":"e","\u1d93":"e","\u0254":"o","\u1d97":"o","\u0223":"ou","\u1e55":"p","\u1e57":"p","\ua753":"p","\u01a5":"p","\u1d71":"p","\u1d88":"p","\ua755":"p","\u1d7d":"p","\ua751":"p","\ua759":"q","\u02a0":"q","\u024b":"q","\ua757":"q","\u0155":"r","\u0159":"r","\u0157":"r","\u1e59":"r",
"\u1e5b":"r","\u1e5d":"r","\u0211":"r","\u027e":"r","\u1d73":"r","\u0213":"r","\u1e5f":"r","\u027c":"r","\u1d72":"r","\u1d89":"r","\u024d":"r","\u027d":"r","\u2184":"c","\ua73f":"c","\u0258":"e","\u027f":"r","\u015b":"s","\u1e65":"s","\u0161":"s","\u1e67":"s","\u015f":"s","\u015d":"s","\u0219":"s","\u1e61":"s","\u1e63":"s","\u1e69":"s","\u0282":"s","\u1d74":"s","\u1d8a":"s","\u023f":"s","\u0261":"g","\u1d11":"o","\u1d13":"o","\u1d1d":"u","\u0165":"t","\u0163":"t","\u1e71":"t","\u021b":"t","\u0236":"t",
"\u1e97":"t","\u2c66":"t","\u1e6b":"t","\u1e6d":"t","\u01ad":"t","\u1e6f":"t","\u1d75":"t","\u01ab":"t","\u0288":"t","\u0167":"t","\u1d7a":"th","\u0250":"a","\u1d02":"ae","\u01dd":"e","\u1d77":"g","\u0265":"h","\u02ae":"h","\u02af":"h","\u1d09":"i","\u029e":"k","\ua781":"l","\u026f":"m","\u0270":"m","\u1d14":"oe","\u0279":"r","\u027b":"r","\u027a":"r","\u2c79":"r","\u0287":"t","\u028c":"v","\u028d":"w","\u028e":"y","\ua729":"tz","\u00fa":"u","\u016d":"u","\u01d4":"u","\u00fb":"u","\u1e77":"u","\u00fc":"u",
"\u01d8":"u","\u01da":"u","\u01dc":"u","\u01d6":"u","\u1e73":"u","\u1ee5":"u","\u0171":"u","\u0215":"u","\u00f9":"u","\u1ee7":"u","\u01b0":"u","\u1ee9":"u","\u1ef1":"u","\u1eeb":"u","\u1eed":"u","\u1eef":"u","\u0217":"u","\u016b":"u","\u1e7b":"u","\u0173":"u","\u1d99":"u","\u016f":"u","\u0169":"u","\u1e79":"u","\u1e75":"u","\u1d6b":"ue","\ua778":"um","\u2c74":"v","\ua75f":"v","\u1e7f":"v","\u028b":"v","\u1d8c":"v","\u2c71":"v","\u1e7d":"v","\ua761":"vy","\u1e83":"w","\u0175":"w","\u1e85":"w","\u1e87":"w",
"\u1e89":"w","\u1e81":"w","\u2c73":"w","\u1e98":"w","\u1e8d":"x","\u1e8b":"x","\u1d8d":"x","\u00fd":"y","\u0177":"y","\u00ff":"y","\u1e8f":"y","\u1ef5":"y","\u1ef3":"y","\u01b4":"y","\u1ef7":"y","\u1eff":"y","\u0233":"y","\u1e99":"y","\u024f":"y","\u1ef9":"y","\u017a":"z","\u017e":"z","\u1e91":"z","\u0291":"z","\u2c6c":"z","\u017c":"z","\u1e93":"z","\u0225":"z","\u1e95":"z","\u1d76":"z","\u1d8e":"z","\u0290":"z","\u01b6":"z","\u0240":"z","\ufb00":"ff","\ufb03":"ffi","\ufb04":"ffl","\ufb01":"fi","\ufb02":"fl",
"\u0133":"ij","\u0153":"oe","\ufb06":"st","\u2090":"a","\u2091":"e","\u1d62":"i","\u2c7c":"j","\u2092":"o","\u1d63":"r","\u1d64":"u","\u1d65":"v","\u2093":"x"};var _getErrorIndex=function(value,policyPattern){var max=value.length;var min=0;var cursor=max;var match,subStr;var pattern=new RegExp(policyPattern);while(true){subStr=value.substr(0,cursor);match=pattern.test(subStr);if(match){min=cursor;cursor=max-Math.floor((max-min)/2)}else cursor=Math.max(min,Math.floor(cursor/2));if(cursor===min)return min;
if(cursor>max)return-1}};var _autoClearAccents=function(value){return value.replace(/[^A-Za-z0-9\[\] ]/g,function(a){return latinChars[a]||a})};return{require:"ngModel",restrict:"A",link:function(scope,element,attrs,ngModel){scope.$watch(function(){return ngModel.$viewValue},function(newValue,oldValue){if(newValue!=oldValue){if(attrs.autoClearAccents)newValue=_autoClearAccents(newValue);var errorIndex=_getErrorIndex(newValue,attrs.charPolicy);if(errorIndex>=0){var finalValue=newValue.substr(0,errorIndex);
ngModel.$setViewValue(finalValue);ngModel.$render()}}},true)}}});var NPC=NPC||{};NPC.angularApp=NPC.angularApp||angular.module("npc",["ngRoute","ui.bootstrap"]);
NPC.angularApp.directive("datePicker",function(){return{template:'\x3cdiv class\x3d"input-field js-input-field--innerLabel1"\x3e\t\t\t\t\t\x3clabel ng-show\x3d"!inline" for\x3d"dateFrom" class\x3d"sr-only"\x3e{{placeholder}}\x3c/label\x3e\t\t\t\t\t\x3cspan ng-show\x3d"inline" class\x3d"input-field-label"\x3e{{label}}\x3c/span\x3e\t\t           \x3cinput type\x3d"text"\t\t\t\t\tid\x3d"{{inputId}}"                    name\x3d"{{inputName}}"                    class\x3d"{{inputClass}} date form-control"                    placeholder\x3d"{{inputPlaceholder}}"                    ng-disabled\x3d"inputDisabled"                    ng-model\x3d"inputModel"\x3e                    \x3cspan ng-show\x3d"iconClass !\x3d\x3d false" class\x3d"{{iconClass}} input-field-icon"\x3e\x3c/span\x3e                \x3c/div\x3e\t\t\t\t\x3cdiv ng-show\x3d"!inline" ng-transclude\x3e\x3c/div\x3e',transclude:true,
restrict:"AE",scope:{inputModel:"\x3d",inputName:"@",inputId:"@",inputPlaceholder:"@",inputDisabled:"\x3c",datepickerOptions:"\x3c",iconClass:"@",label:"@",inline:"\x3d",startDate:"\x3c"},controllerAs:"$ctrl",controller:["$scope","$element",function($scope,$element){var datePicker=this;if($scope.startDate){$scope.datepickerOptions=$scope.datepickerOptions||{};$scope.datepickerOptions.startDate=$scope.startDate}datePicker.$input=$element.find("input");$scope.iconClass="npc-calendar";datePicker.$onInit=
function(){};$scope.$evalAsync(function(){var baseParams={todayBtn:"linked",language:"fr",autoclose:true,todayHighlight:true};datePicker.$input=$element.find("input");datePicker.$input.datepicker($.extend(baseParams,$scope.datepickerOptions)).on("changeDate.bs.datepicker",function(){$scope.inputModel=datePicker.$input.val();$scope.$apply()})})}]}});
NPC.angularApp.directive("inputDateRange",function(){return{template:'\x3cdiv class\x3d"form-group form-inline js-inputDateRange"\x3e          \t\t   \t\x3cdate-picker\t\t\t\t\t\tng-click\x3d"checkRadioInput()"\t\t\t\t\t\tinput-id\x3d"{{idStart}}"\t\t\t\t\t\tlabel\x3d"Du"\t\t\t\t\t\tplaceholder\x3d"{{placeholderStart}}"\t\t\t\t\t\tinput-name\x3d"{{nameStart}}"\t\t\t\t\t\tinput-model\x3d"modelStart"\t\t\t\t\t\tdatepicker-options\x3d"options"\t\t\t\t\t\tinline\x3d"true"\t\t\t\t\t\x3e\x3c/date-picker\x3e          \t\t   \t\x3cdate-picker\t\t\t\t\t\tng-click\x3d"checkRadioInput()"\t\t\t\t\t\tinput-id\x3d"{{idEnd}}"\t\t\t\t\t\tlabel\x3d"Au"\t\t\t\t\t\tplaceholder\x3d"{{placeholderEnd}}"\t\t\t\t\t\tinput-name\x3d"{{nameEnd}}"\t\t\t\t\t\tinput-model\x3d"modelEnd"\t\t\t\t\t\tdatepicker-options\x3d"options"\t\t\t\t\t\tinline\x3d"true"\t\t\t\t\t\x3e\x3c/date-picker\x3e\t\t\t\t   \x3c/div\x3e',transclude:true,
replace:true,restrict:"AE",scope:{modelStart:"\x3d",modelEnd:"\x3d",inputRadioModel:"\x3d",idStart:"@",idEnd:"@",placeholderStart:"@",placeholderEnd:"@",nameStart:"@",nameEnd:"@",options:"\x3c"},controllerAs:"$ctrl",controller:["$scope","$element",function($scope,$element){$scope.checkRadioInput=function(){var inputRadio=$(".date-range-radio");if(inputRadio)$scope.inputRadioModel=angular.copy(inputRadio[0].value)};$scope.$evalAsync(function(){var baseOptions={withInnerClass:"input-field--innerLabel",
labelSelector:".input-field-label",inputSelector:".form-control",marginRight:5};$.fn.addInputInnerLabel1=function(option){if(!this)return $(this);var opt=$.extend({},baseOptions,option);function removeInputInnerLabel($inputWrapper,$input,removeClass){$input.css("paddingLeft","");if(removeClass!==false)$inputWrapper.removeClass(opt.withInnerClass)}function addInputInnerLabel($inputWrapper,$label,$input){removeInputInnerLabel($inputWrapper,$input,false);setTimeout(function(){$inputWrapper.addClass(opt.withInnerClass);
$input.css("paddingLeft",parseInt($input.css("paddingLeft"))+opt.marginRight+$label.width())},0)}$(this).each(function(){var $this=$(this);var $label=$this.find(opt.labelSelector);var $input=$this.find(opt.inputSelector);if($label.length===1&&$input.length===1)addInputInnerLabel($this,$label,$input)});return $(this)};$element.find(".js-input-field--innerLabel1").addInputInnerLabel1()})}]}});var NPC=NPC||{};NPC.angularApp=NPC.angularApp||angular.module("npc",["ngRoute","ui.bootstrap"]);
NPC.angularApp.directive("autoTab",function(){return{require:"ngModel",restrict:"A",link:function(scope,element,attrs,ngModel){scope.$watch(function(){return ngModel.$viewValue},function(newValue,oldValue){if(newValue!=oldValue)if(newValue.length>=attrs.autoTab)element.next(":input").focus()},true)}}});var NPC=NPC||{};NPC.angularApp=NPC.angularApp||angular.module("npc",["ngRoute","ui.bootstrap"]);
var template="\x3cdiv ng-show\x3d'ctrl.qtyItems \x3e 0 \x26\x26 ctrl.infoTxt !\x3d undefined' class\x3d'dataTables_info' id\x3d'virementsTable_info' role\x3d'status' aria-live\x3d'polite' style\x3d'display: block;'\x3e{{ctrl.infoTxt}}\x3c/div\x3e"+"\x3cdiv class\x3d'dataTables_paginate paging_simple_numbers' id\x3d'virementsTable_paginate' ng-show\x3d'ctrl.qtyItems \x3e 0 \x26\x26 ctrl.qtyPages \x3e 1'\x3e"+"\x3ca class\x3d'paginate_button previous' ng-class\x3d'{\"disabled\" : ctrl.currentPage \x3c\x3d 0}' ng-click\x3d'ctrl.gotoPrevious();$event.preventDefault()' \x3e\x26lt;\x3c/a\x3e"+
"\x3cspan\x3e"+"\x3ca class\x3d'paginate_button'\tid\x3d'{{ctrl.paginationId}}-page-0' ng-class\x3d'{\"current\": ctrl.currentPage \x3d\x3d 0}' ng-click\x3d'ctrl.gotoPage(0);$event.preventDefault()' ng-show\x3d'ctrl.qtyPages \x3c\x3d 3'\x3e1\x3c/a\x3e"+"\x3ca class\x3d'paginate_button' id\x3d'{{ctrl.paginationId}}-page-1' ng-class\x3d'{\"current\": ctrl.currentPage \x3d\x3d 1}' ng-click\x3d'ctrl.gotoPage(1);$event.preventDefault()' ng-show\x3d'ctrl.qtyPages \x3d\x3d 2 || ctrl.qtyPages \x3d\x3d 3'\x3e2\x3c/a\x3e"+
"\x3ca class\x3d'paginate_button' id\x3d'{{ctrl.paginationId}}-page-2' ng-class\x3d'{\"current\": ctrl.currentPage \x3d\x3d 2}' ng-click\x3d'ctrl.gotoPage(2);$event.preventDefault()' ng-show\x3d'ctrl.qtyPages \x3d\x3d 3'\x3e3\x3c/a\x3e"+"\x3ca class\x3d'paginate_button' id\x3d'{{ctrl.paginationId}}-page-1' ng-click\x3d'ctrl.gotoPage(0);$event.preventDefault()' ng-show\x3d'ctrl.qtyPages \x3e 3 \x26\x26 ctrl.currentPage \x3e\x3d 2'\x3e1\x3c/a\x3e"+"\x3cspan class\x3d'ellipsis' ng-show\x3d'ctrl.qtyPages \x3e 4 \x26\x26 ctrl.currentPage \x3e\x3d 2'\x3e\u2026\x3c/span\x3e"+
"\x3ca class\x3d'paginate_button current' id\x3d'{{ctrl.paginationId}}-page-0' ng-click\x3d'ctrl.gotoPage(0);$event.preventDefault()' ng-show\x3d'ctrl.qtyPages \x3e 3 \x26\x26 ctrl.currentPage \x3d\x3d 0'\x3e1\x3c/a\x3e"+"\x3ca class\x3d'paginate_button' \t\tid\x3d'{{ctrl.paginationId}}-page-1' ng-click\x3d'ctrl.gotoPage(1);$event.preventDefault()' ng-show\x3d'ctrl.qtyPages \x3e 3 \x26\x26 ctrl.currentPage \x3d\x3d 0'\x3e2\x3c/a\x3e"+"\x3ca class\x3d'paginate_button' \t\tid\x3d'{{ctrl.paginationId}}-page-2' ng-click\x3d'ctrl.gotoPage(2);$event.preventDefault()' ng-show\x3d'ctrl.qtyPages \x3e 3 \x26\x26 ctrl.currentPage \x3d\x3d 0'\x3e3\x3c/a\x3e"+
"\x3ca class\x3d'paginate_button' \t\tid\x3d'{{ctrl.paginationId}}-page-{{ctrl.currentPage}}' \t\tng-click\x3d'ctrl.gotoPage(ctrl.currentPage - 1);$event.preventDefault()' \tng-show\x3d'ctrl.qtyPages \x3e 3 \x26\x26 ctrl.currentPage \x3e 0 \x26\x26 ctrl.currentPage \x3c ctrl.qtyPages - 1'\x3e{{ctrl.currentPage}}\x3c/a\x3e"+"\x3ca class\x3d'paginate_button current' id\x3d'{{ctrl.paginationId}}-page-{{ctrl.currentPage + 1}}' \tng-click\x3d'ctrl.gotoPage(ctrl.currentPage);$event.preventDefault()' \t\tng-show\x3d'ctrl.qtyPages \x3e 3 \x26\x26 ctrl.currentPage \x3e 0 \x26\x26 ctrl.currentPage \x3c ctrl.qtyPages - 1'\x3e{{ctrl.currentPage + 1}}\x3c/a\x3e"+
"\x3ca class\x3d'paginate_button' \t\tid\x3d'{{ctrl.paginationId}}-page-{{ctrl.currentPage + 2}}' \tng-click\x3d'ctrl.gotoPage(ctrl.currentPage + 1);$event.preventDefault()' \tng-show\x3d'ctrl.qtyPages \x3e 3 \x26\x26 ctrl.currentPage \x3e 0 \x26\x26 ctrl.currentPage \x3c ctrl.qtyPages - 1'\x3e{{ctrl.currentPage + 2}}\x3c/a\x3e"+"\x3ca class\x3d'paginate_button' \t\t\tid\x3d'{{ctrl.paginationId}}-page-{{ctrl.qtyPages - 3}}' \tng-click\x3d'ctrl.gotoPage(ctrl.qtyPages - 3);$event.preventDefault()' ng-show\x3d'ctrl.qtyPages \x3e 3 \x26\x26 ctrl.currentPage \x3d\x3d ctrl.qtyPages - 1'\x3e{{ctrl.qtyPages - 2}}\x3c/a\x3e"+
"\x3ca class\x3d'paginate_button' \t\t\tid\x3d'{{ctrl.paginationId}}-page-{{ctrl.qtyPages - 2}}' \tng-click\x3d'ctrl.gotoPage(ctrl.qtyPages - 2);$event.preventDefault()' ng-show\x3d'ctrl.qtyPages \x3e 3 \x26\x26 ctrl.currentPage \x3d\x3d ctrl.qtyPages - 1'\x3e{{ctrl.qtyPages - 1}}\x3c/a\x3e"+"\x3ca class\x3d'paginate_button current' \tid\x3d'{{ctrl.paginationId}}-page-{{ctrl.qtyPages - 1}}' \tng-click\x3d'ctrl.gotoPage(ctrl.qtyPages - 1);$event.preventDefault()' ng-show\x3d'ctrl.qtyPages \x3e 3 \x26\x26 ctrl.currentPage \x3d\x3d ctrl.qtyPages - 1'\x3e{{ctrl.qtyPages}}\x3c/a\x3e"+
"\x3cspan class\x3d'ellipsis' ng-show\x3d'ctrl.qtyPages \x3e 4 \x26\x26 ctrl.currentPage \x3c ctrl.qtyPages - 2'\x3e\u2026\x3c/span\x3e"+"\x3ca class\x3d'paginate_button' id\x3d'{{ctrl.paginationId}}-page-{{ctrl.qtyPages}}' ng-click\x3d'ctrl.gotoPage(ctrl.qtyPages - 1);$event.preventDefault()' ng-show\x3d'ctrl.qtyPages \x3e 3 \x26\x26 ctrl.currentPage \x3c\x3d ctrl.qtyPages - 3'\x3e{{ctrl.qtyPages}}\x3c/a\x3e"+"\x3c/span\x3e"+"\x3ca class\x3d'paginate_button next' ng-class\x3d'{\"disabled\" : ctrl.currentPage \x3e\x3d ctrl.qtyPages - 1}' ng-click\x3d'ctrl.gotoNext();$event.preventDefault()'\x3e\x26gt;\x3c/a\x3e"+
"\x3c/div\x3e";
NPC.angularApp.component("simplePagination",{template:template,transclude:true,bindings:{pageSize:"\x3c",qtyItems:"\x3c",cursor:"\x3d",paginationId:"\x3c",info:"\x3c"},controllerAs:"ctrl",controller:["$scope","$timeout",function($scope,$timeout){var me=this;me.currentPage=0;me.qtyPages=0;me.pages=[];me.infoTxt="";var _generateArray=function(size){var result=[];for(var i=0;i<size;i++)result.push(i);return result};var _calculateQtyPages=function(){if(!me.pageSize||me.pageSize==0){console.warn("(simple-pagination) : Bad 'page-size' value, auto set to '10' !");me.pageSize=
10}if(me.qtyItems&&me.pageSize){me.qtyPages=Math.ceil(me.qtyItems/me.pageSize);me.pages=_generateArray(me.qtyPages)}_drawInfo()};var _calculateCursor=function(){me.cursor=me.currentPage*me.pageSize};var _drawInfo=function(){if(me.info!=undefined){var tmp=me.info;tmp=tmp.replace("[QTY_ITEMS]",me.qtyItems);tmp=tmp.replace("[QTY_PAGES]",me.qtyPages);tmp=tmp.replace("[ITEM_S]",me.qtyItems>1?"s":"");tmp=tmp.replace("[PAGE_S]",me.qtyPages>1?"s":"");me.infoTxt=tmp}};me.gotoPrevious=function(){if(me.currentPage<=
0)return;me.currentPage--;_calculateCursor()};me.gotoNext=function(){if(me.currentPage>=me.qtyPages-1)return;me.currentPage++;_calculateCursor()};me.gotoPage=function(page){if(page>=me.qtyPages||page<0)return;me.currentPage=page;_calculateCursor()};$scope.$watch(function(){return me.qtyItems},function(val,old){me.cursor=0;me.currentPage=0;_calculateQtyPages()});$scope.$watch(function(){return me.pageSize},function(val,old){me.cursor=0;_calculateQtyPages()});$timeout(function(){_calculateQtyPages()})}]});
NPC.angularApp.filter("simplePaginationFilter",function(){return function(items,start,size){var filtered=[];var i=0;var stop=start+size;angular.forEach(items,function(item){if(i>=start&&i<stop)filtered.push(item);i++});return filtered}});var NPC=NPC||{};NPC.angularApp=NPC.angularApp||angular.module("npc",["ngRoute","ui.bootstrap"]);
NPC.angularApp.filter("searchObjByAttr",function(){return function(items,field,value,checkExactValue){checkExactValue=checkExactValue||false;var filtered=[];angular.forEach(items,function(item){if(item[field]!=undefined)if(checkExactValue){if(item[field]==value)filtered.push(item)}else{var strValue=""+item[field];if(strValue.indexOf(value)>-1)filtered.push(item)}});return filtered}});var NPC=NPC||{};NPC.angularApp=NPC.angularApp||angular.module("npc",["ngRoute","ui.bootstrap"]);
NPC.angularApp.filter("orderObjByAttr",function(){return function(items,field,order){var filtered=[];angular.forEach(items,function(item){filtered.push(item)});filtered.sort(function(a,b){return a[field]>b[field]?1:-1});if(order!=="asc")filtered.reverse();return filtered}});var NPC=NPC||{};NPC.angularApp=NPC.angularApp||angular.module("npc",["ngRoute","ui.bootstrap"]);
NPC.angularApp.filter("euroAmount",function(){return function(number){if(isNaN(number)||number==="")return number;var result="";var txtNumber=parseFloat(number).toFixed(2);var parts=txtNumber.split(".");var leftPart=parts[0].split("").reverse().join("");var value="";for(var i=0;i<leftPart.length;i++){if(i!=0&&i%3===0)value+=" ";value+=leftPart[i]}value=value.split("").reverse().join("");result=parts.length==2?value+","+parts[1]:value;result+=" \u20ac";return result}});var NPC=NPC||{};
NPC.angularApp=NPC.angularApp||angular.module("npc",["ngRoute","ui.bootstrap"]);
NPC.angularApp.directive("amountFormat",function(){var _getErrorIndex=function(value,policyPattern){var max=value.length;var min=0;var cursor=max;var match,subStr;var pattern=new RegExp(policyPattern);while(true){subStr=value.substr(0,cursor);match=pattern.test(subStr);if(match){min=cursor;cursor=max-Math.floor((max-min)/2)}else cursor=Math.max(min,Math.floor(cursor/2));if(cursor===min)return min;if(cursor>max)return-1}};var _toPureNumber=function(value){value=value.replace(/\s/g,"");value=value.replace(/\./g,
",");return value};var _formatNumber=function(value){if(value=="")return"";splValue=value.split(",");var tmp=[];for(var i=splValue[0].length;i>0;i-=3){var qty=3;var j=i-3;if(j<0){qty=3+j;j=0}tmp.push(splValue[0].substr(j,qty))}var formattedNumber=tmp.reverse().join(" ");if(splValue.length>1)formattedNumber+=","+splValue[1];return formattedNumber};return{require:"ngModel",restrict:"A",link:function(scope,element,attrs,ngModel){scope.$watch(function(){return ngModel.$viewValue},function(newValue,oldValue){var type=
typeof newValue;if(newValue!=oldValue&&attrs.amountFormat==="true"&&type=="string"){var pureNumber=_toPureNumber(newValue);if(pureNumber!=oldValue){var errorIndex=_getErrorIndex(pureNumber,"^[0-9]+(,)?([0-9]{1,2})?$");var finalValue=pureNumber.substr(0,errorIndex);var formattedValue=_formatNumber(finalValue);if(finalValue.length>0&&finalValue[finalValue.length-1]==",")finalValue=finalValue.substr(0,finalValue.length-1);ngModel.$setViewValue(finalValue);ngModel.$viewValue=formattedValue;ngModel.$render()}}},
true)}}});var NPC=NPC||{};NPC.angularApp=NPC.angularApp||angular.module("npc",["ngRoute","ui.bootstrap"]);NPC.angularApp.filter("absolute",function(){return function(a){return Math.abs(a)}});
(function(angular){angular.module("selectCustom",[]).directive("selectCustom",function(){return{template:'\x3cdiv class\x3d"{{wrapperClass}} input-field" ng-class\x3d"{\'bootstrap-select-wrapper\': inputLabel}"\x3e                    \x3clabel for\x3d"{{inputId}}" class\x3d"bootstrap-select-wrapperLabel" ng-if\x3d"inputLabel"\x3e{{inputLabel}}\x3c/label\x3e                    \x3cselect id\x3d"{{inputId}}"                    name\x3d"{{inputName}}"                    class\x3d"{{inputClass}} show-menu-arrow bootstrap-select--default"                    ng-disabled\x3d"inputDisabled"                    ng-model\x3d"inputModel" ng-change\x3d"inputChange()" ng-transclude\x3e                    \x3c/select\x3e                \x3c/div\x3e',restrict:"AE",
transclude:true,scope:{wrapperClass:"@",inputId:"@",inputName:"@",inputModel:"\x3d",inputPlaceholder:"@",inputClass:"@",inputDisabled:"\x3c",inputLabel:"@",inputChange:"\x3c"},controllerAs:"$ctrl",controller:["$scope","$element","$timeout",function($scope,$element,$timeout){var initialized=false;this.$onInit=function(){};var updateSelect=function(){if(initialized===true)$timeout(function(){$element.find("select").selectpicker("refresh")})};$scope.$watch("inputDisabled",updateSelect);$scope.$watch("inputModel",
updateSelect);$scope.$evalAsync(function(){$timeout(function(){$element.find(".bootstrap-select-wrapper").addSelectLabel();var $select=$element.find("select");var firstOption=$select[0].options[0];if(firstOption.value[0]==="?"&&firstOption.value[firstOption.value.length-1]==="?")firstOption.parentNode.removeChild(firstOption);$element.find("select").selectpicker({title:$scope.inputPlaceholder}).on("change",function(){$scope.$apply()});initialized=true})})}]}})})(angular);
(function(angular){angular.module("npc").component("errorLoadingData",{template:"\x3cdiv ng-show\x3d'ctrl.showMsg'\x3e"+"\x3cdiv class\x3d'OutputMsg'\x3e"+"\x3ci class\x3d'icon npc-ko OutputMsg-icon'\x3e\x3c/i\x3e"+"\x3ch2 class\x3d'OutputMsg-title'\x3e{{ctrl.errorMessageTitle}}\x3c/h2\x3e "+"\x3cdiv class\x3d'OutputMsg-text'\x3e"+"\x3cp\x3e\x3cb\x3e{{ctrl.errorMessageSubtitle}}\x3c/b\x3e\x3c/p\x3e"+"\x3c/div\x3e"+"\x3c/div\x3e"+"\x3cbr /\x3e"+"\x3cdiv style\x3d'text-align:center; margin-bottom:20px;'\x3e"+
"\x3cbutton type\x3d'submit' ng-disabled\x3d'ctrl.cancelDisabled' style\x3d'margin-left: 4px; margin-right: 4px; padding-left: 30px; padding-right: 30px;'"+"class\x3d'btn btn-default'"+"ng-click\x3d'ctrl.cancelAction(); $event.preventDefault()'\x3e{{ctrl.cancelLabel}}\x3c/button\x3e"+"\x3cbutton type\x3d'submit' ng-disabled\x3d'ctrl.submitDisabled' style\x3d'margin-left: 4px; margin-right: 4px; padding-left: 30px; padding-right: 30px;'"+"class\x3d'btn btn-default hover'"+"ng-click\x3d'ctrl.submitAction(); $event.preventDefault()'\x3e{{ctrl.submitLabel}}\x3c/button\x3e"+
"\x3c/div\x3e"+"\x3c/div\x3e",bindings:{showMsg:"\x3c",errorMessageTitle:"\x3c",errorMessageSubtitle:"\x3c",cancelLabel:"\x3c",submitLabel:"\x3c"},controllerAs:"ctrl",controller:ErrorLoadingDataController});ErrorLoadingDataController.$inject=["$scope"];function ErrorLoadingDataController($scope){var vm=this;var OPERATIONS_PATHNAME="operations";var SYNTHESE_PATHNAME=OPERATIONS_PATHNAME+"/synthese.html";vm.cancelDisabled=false;vm.submitDisabled=false;vm.$onInit=function(){if(vm.errorMessageTitle===
undefined)vm.errorMessageTitle="UNE ERREUR TECHNIQUE EST SURVENUE";if(vm.errorMessageSubtitle===undefined)vm.errorMessageSubtitle="Nous vous invitons \u00e0 r\u00e9essayer ult\u00e9rieurement.";if(vm.cancelLabel===undefined)vm.cancelLabel="Retour \u00e0 la synth\u00e8se";if(vm.submitLabel===undefined)vm.submitLabel="R\u00e9essayer"};vm.$onChanges=function(changes){if(changes.showMsg)vm.showMsg=changes.showMsg.currentValue;if(changes.errorMessageTitle)vm.errorMessageTitle=changes.errorMessageTitle.currentValue;
if(changes.errorMessageSubtitle)vm.errorMessageSubtitle=changes.errorMessageSubtitle.currentValue;if(changes.cancelLabel)vm.cancelLabel=changes.cancelLabel.currentValue;if(changes.submitLabel)vm.submitLabel=changes.submitLabel.currentValue};vm.cancelAction=function(){vm.cancelDisabled=true;var uriParts=window.location.pathname.split(OPERATIONS_PATHNAME);window.location.href=uriParts[0]+SYNTHESE_PATHNAME};vm.submitAction=function(){vm.submitDisabled=true;window.location.reload(true)}}})(angular);
(function(angular){angular.module("npc").component("npcLoader",{template:"\x3cdiv ng-show\x3d'ctrl.showLoader' class\x3d'loader'\x3e...\x3c/div\x3e",bindings:{showLoader:"\x3c"},controllerAs:"ctrl",controller:NpcLoaderController});function NpcLoaderController(){var vm=this;vm.$onInit=function(){}}})(angular);var NPC=NPC||{};NPC.virement=NPC.virement||{};
NPC.genererURLJson=function(selecteurs){var pathname=window.location.pathname;var indexExtension=pathname.indexOf(".html");if(indexExtension!==-1){pathname=pathname.substring(0,indexExtension);var indexDebutNoeud=pathname.lastIndexOf("/");var indexDebutSelecteur=pathname.indexOf(".",indexDebutNoeud);if(indexDebutSelecteur!==-1)pathname=pathname.substring(0,indexDebutSelecteur);pathname=pathname+"/jcr:content"+(selecteurs?"."+selecteurs:"")+".json";return pathname}};
$(document).ready(function(){var checkForm=function(){var $confirmBtn=$("#btnConfirmer");var isMailEmetteurChecked=$("#checkbox-mailEmetteur").is(":checked");var $mailEmetteur=$("#mailEmetteur");var hasMailEmetteur=$mailEmetteur!==undefined&&$mailEmetteur.val()!==undefined&&$mailEmetteur.val().length!==0;var isMailBeneficiaireChecked=$("#checkbox-mailBeneficiaire").is(":checked");var $mailBeneficiaire=$("#mailBeneficiaire");var hasMailBeneficiaire=$mailBeneficiaire!==undefined&&$mailBeneficiaire.val()!==
undefined&&$mailBeneficiaire.val().length!==0;var isMailEmetteurFilled=isMailEmetteurChecked&&hasMailEmetteur;var isMailBeneficiaireFilled=isMailBeneficiaireChecked&&hasMailBeneficiaire;if(isMailEmetteurFilled&&!isMailBeneficiaireChecked)$confirmBtn.prop("disabled",false);else if(isMailBeneficiaireFilled&&!isMailEmetteurChecked)$confirmBtn.prop("disabled",false);else if(isMailEmetteurFilled&&isMailBeneficiaireFilled)$confirmBtn.prop("disabled",false);else $confirmBtn.prop("disabled",true)};var $divMsg=
$("#messageValidationVirement");if($divMsg.is(":hidden"))$divMsg.slideDown("slow");if($("#mailEmetteur").val()!==""&&$("#checkbox-mailEmetteur").is(":checked"))$("#btnConfirmer").prop("disabled",false);$("#confirmButton").click(function(){$("#confirmButton").hide();$("#mailForm").slideDown("slow");return false});$("#cancelButton").click(function(){$("#mailForm").slideUp("slow");$("#confirmButton").show("slow");return false});$("#checkbox-mailBeneficiaire").on("click",function(){$("#beneficiary-confirmation").toggle()});
$("#mailEmetteur,#mailBeneficiaire").on("keyup change",function(){checkForm()});$("#checkbox-mailBeneficiaire, #checkbox-mailEmetteur").on("click",function(){checkForm()})});NPC.virement.isValidMail=function(mail){var re=/^[0-9a-zA-Z.\-_]+@[0-9a-zA-Z.\-_]{2,}\.[0-9a-zA-Z]{2,}$/;var a=re.test(mail);var b=mail.indexOf("--")==-1;var c=mail.indexOf("__")==-1;var d=mail.indexOf("..")==-1;return a&&b&&c&&d};
NPC.virement.sendMail=function(){var errorDivEmetteur=$(".message-validation-virement-mail-emetteur .error-field");var errorDivBeneficiaire=$(".message-validation-virement-mail-beneficiaire .error-field");var sendEmailEmetteur=$("#checkbox-mailEmetteur").is(":checked");var emailEmetteur=$(".message-validation-virement-mail-emetteur");var sendEmailBeneficiaire=$("#checkbox-mailBeneficiaire").is(":checked");var emailBeneficiaire=$(".message-validation-virement-mail-beneficiaire");emailEmetteur.removeClass("has-error");
emailBeneficiaire.removeClass("has-error");errorDivEmetteur.hide();errorDivBeneficiaire.hide();$("#btnConfirmer").prop("disabled",true);var virementData={};var callbackTransfertCheck=function(cbData){var jsonResponse=JSON.parse(cbData);window.location.href=jsonResponse.page};if(sendEmailEmetteur){virementData.mailEmetteur=$("#mailEmetteur").val();virementData.mailEmetteur=virementData.mailEmetteur!=undefined?virementData.mailEmetteur.trim():undefined;if(virementData.mailEmetteur==undefined||virementData.mailEmetteur==
""){errorDivEmetteur.html("Vous devez renseigner votre adresse email  pour valider votre demande de modification");errorDivEmetteur.show();emailEmetteur.addClass("has-error");return}if(!NPC.virement.isValidMail(virementData.mailEmetteur)){errorDivEmetteur.html("Saisie incorrecte, veuillez recommencer. \x3cbr /\x3eVous devez entrer un email conforme : exemple@mail.fr");errorDivEmetteur.show();emailEmetteur.addClass("has-error");return}}if(sendEmailBeneficiaire){virementData.mailBeneficiaire=$("#mailBeneficiaire").val();
virementData.mailBeneficiaire=virementData.mailBeneficiaire!=undefined?virementData.mailBeneficiaire.trim():undefined;if(virementData.mailBeneficiaire!==undefined&&virementData.mailBeneficiaire!=="")if(!NPC.virement.isValidMail(virementData.mailBeneficiaire)){errorDivBeneficiaire.html("Saisie incorrecte, veuillez recommencer. \x3cbr /\x3eVous devez entrer un email conforme : exemple@mail.fr");errorDivBeneficiaire.show();emailBeneficiaire.addClass("has-error");return}virementData.messageBeneficiaire=
$("#messageBeneficiaire").val()}var url=window.location.href;var page=url.substring(url.lastIndexOf("/")+1);$.post(NPC.genererURLJson("send-mail-virement"),virementData);$("#messageValidationVirement").hide()};
(function(){var CommonNPC=CommonNPC||{};CommonNPC.cssVars=CommonNPC.cssVars||{};function hex(x){return("0"+parseInt(x).toString(16)).slice(-2)}function rgb2hex(rgb){rgb=rgb.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(,\s*\d+\.*\d+)?\)$/);return"#"+hex(rgb[1])+hex(rgb[2])+hex(rgb[3])}var cssVars={colors:["brand-primary","brand-primary-dark","brand-primary-light","brand-secondary","brand-secondary-dark","brand-gray01","brand-gray02","brand-gray03","brand-gray04","brand-gray05","brand-gray06","brand-white",
"brand-contact","brand-contact-dark","brand-contact-ring","brand-success","brand-info","brand-warning","brand-danger","brand-primary-disabled","color-important","brand-positive-value","brand-negative-value","brand-negative-value2","color-facebook","color-twitter","color-periscope","color-youtube","color-linkedin","color-instagram","color-google","color-rss","body-bg","text-color","text-color","link-color","link-hover-color"],fonts:["font-family-sans-serif","font-family-serif","font-family-monospace",
"font-family-base"],sizes:["font-size-base","font-size-large","font-size-small"]};$(function(){var $elm=$('\x3cdiv style\x3d"display:none"/\x3e').appendTo("body");var elm=$elm[0];var getValues=function(listName,func){if(CommonNPC.cssVars[listName]===undefined)CommonNPC.cssVars[listName]={};$.each(cssVars[listName],function(key,value){elm.className="sass-var-"+value;CommonNPC.cssVars[listName][value]=func($elm)})};getValues("colors",function(){return rgb2hex($elm.css("color"))});getValues("fonts",
function(){return $elm.css("font-family")});getValues("sizes",function(){return $elm.css("font-size")});$elm.remove();$(window).trigger("cssVars.done")})})();var NPCD=NPCD||{};
(function($){var debounce=function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args)};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args)}};NPCD=function(){var oMarcheColors={};var popinActionsHTML={next:'\x3cbutton tabindex\x3d"0" type\x3d"button" class\x3d"npcd-popin-cta"\x3eSuivant\x3c/button\x3e\x3cbr /\x3e'+'\x3cbutton tabindex\x3d"0" type\x3d"button" class\x3d"npcd-popin-exit"\x3eNe plus afficher d\u2019aide\x3c/button\x3e',
end:'\x3cbutton tabindex\x3d"0" type\x3d"button" class\x3d"npcd-popin-cta"\x3eC\u2019est not\u00e9\x26nbsp;!\x3c/button\x3e'};var popinHTML=""+'\x3cdiv id\x3d"npc-didacticiel" \x3e'+'\x3cdiv class\x3d"npcd-mask"\x3e\x3c/div\x3e'+'\x3cdiv class\x3d"npcd-popin-sticker" aria-hidden\x3d"true"\x3e\x3c/div\x3e'+'\x3cdiv id\x3d"npcd-popin-step1" class\x3d"npcd-popin" aria-hidden\x3d"true" \x3e'+'\x3cp class\x3d"npcd-popin-pagination"\x3e$paginationstep1$/$paginationtotal$\x3c/p\x3e'+'\x3ch2 id\x3d"npcd-popin-step1-title" class\x3d"npcd-popin-title" tabindex\x3d"0" \x3eParam\u00e9trage\x3c/h2\x3e'+
'\x3cdiv tabindex\x3d"0" class\x3d"npcd-popin-desc"\x3e'+"\x3cp\x3ePersonnalisez l\u2019affichage de votre synth\u00e8se, d\u00e9finissez votre compte favori et param\u00e9trez la m\u00e9t\u00e9o de vos comptes pour un espace en ligne sur mesure.\x3c/p\x3e"+"\x3c/div\x3e"+"$actionsstep1$"+"\x3c/div\x3e"+'\x3cdiv id\x3d"npcd-popin-step2" class\x3d"npcd-popin" aria-hidden\x3d"true" \x3e'+'\x3cp class\x3d"npcd-popin-pagination"\x3e$paginationstep2$/$paginationtotal$\x3c/p\x3e'+'\x3ch2 id\x3d"npcd-popin-step2-title" class\x3d"npcd-popin-title" tabindex\x3d"0"\x3eAcc\u00e8s rapides\x3c/h2\x3e'+
'\x3cdiv tabindex\x3d"0" class\x3d"npcd-popin-desc"\x3e'+"\x3cp\x3eEffectuez rapidement des op\u00e9rations courantes sur vos comptes, livrets et contrats gr\u00e2ce aux raccourcis.\x3c/p\x3e"+"\x3c/div\x3e"+"$actionsstep2$"+"\x3c/div\x3e"+'\x3cdiv id\x3d"npcd-popin-step3" class\x3d"npcd-popin" aria-hidden\x3d"true" \x3e'+'\x3cp class\x3d"npcd-popin-pagination"\x3e$paginationstep3$/$paginationtotal$\x3c/p\x3e'+'\x3ch2 id\x3d"npcd-popin-step3-title" tabindex\x3d"0" class\x3d"npcd-popin-title"\x3eBouton vert\x3c/h2\x3e'+
'\x3cdiv tabindex\x3d"0" class\x3d"npcd-popin-desc"\x3e'+"\x3cp\x3ePr\u00e9sent durant tout votre parcours, le bouton vert vous permet d\u2019acc\u00e9der en un clic aux diff\u00e9rents moyens de contacter votre banque en fonction de votre besoin.\x3c/p\x3e"+"\x3c/div\x3e"+"$actionsstep3$"+"\x3c/div\x3e"+'\x3cdiv id\x3d"npcd-popin-step4" class\x3d"npcd-popin" tabindex\x3d"4"\x3e'+'\x3cp class\x3d"npcd-popin-pagination"\x3e$paginationstep4$/$paginationtotal$\x3c/p\x3e'+'\x3ch2 id\x3d"npcd-popin-step4-title" class\x3d"npcd-popin-title"\x3eVues graphiques\x3c/h2\x3e'+
'\x3cdiv class\x3d"npcd-popin-desc"\x3e'+"\x3cp\x3eAvec cet outil, cr\u00e9ez des graphiques pour conna\u00eetre la r\u00e9partition de vos avoirs et visualisez l\u2019avancement de vos objectifs.\x3c/p\x3e"+"\x3c/div\x3e"+"$actionsstep4$"+"\x3c/div\x3e"+"\x3cstyle\x3e"+"/* popin pagination */"+"#npc-didacticiel .npcd-popin-pagination { color:$fontprimary$; }"+"/* popin cta/link */"+"#npc-didacticiel .npcd-popin-cta { background:$brandprimary$; }"+"#npc-didacticiel .npcd-popin-exit { color:$fontprimary$; }"+
"#npc-didacticiel .npcd-popin-cta:hover,"+"#npc-didacticiel .npcd-popin-cta:focus { background:$brandprimarydark$; }"+"/* popin sticker bg */"+"#npc-didacticiel .npcd-popin-sticker:after { background:$brandprimary$; }"+"\x3c/style\x3e"+"\x3c/div\x3e";var currentPopin="";var eLastFocus;var moduleIsActive=false;var itemAnchorList={step1:{targetdom:null,popindom:null,state:"current"},step2:{targetdom:null,popindom:null,state:"waiting"},step3:{targetdom:null,popindom:null,state:"waiting"},step4:{targetdom:null,
popindom:null,state:"waiting"}};var stepCount=Object.keys(itemAnchorList).length;var animateStickerBorder=function(show){var nOffset=show?0:1E3;var easing=show?"linear":"swing";$(".npcd-popin-sticker svg rect").animate({strokeDashoffset:nOffset},1500,easing)};var closePopin=function(){var $popin=itemAnchorList[currentPopin].popindom;eLastFocus=eLastFocus||$("body").get(0);eLastFocus.focus();$(".npcd-popin-sticker").removeClass("npcd-animate");animateStickerBorder();$popin.fadeOut();stepClean(currentPopin);
itemAnchorList[currentPopin].state="done";currentPopin=""};var hideMask=function(){$(".npcd-mask").stop(true,true).removeClass("npcd-mask-visible");$(document).off("scroll.npcd")};var showMask=function(){$(".npcd-mask").show(function(){$(document).on("scroll.npcd",function(){if($(document).scrollTop()!==0)$(document).scrollTop(0)});$(this).addClass("npcd-mask-visible")})};var didacticielNextStep=function(){closePopin();var nextStep="";setTimeout(function(){for(var i=1;i<stepCount+1;i++){var stepName=
"step"+i;if(itemAnchorList[stepName].state==="current"){stepPrepare(stepName);nextStep=stepName;break}else if(itemAnchorList[stepName].state==="waiting"){itemAnchorList[stepName].state="current";stepPrepare(stepName);nextStep=stepName;break}}if(nextStep&&itemAnchorList[stepName].targetdom!=null){var oAdvancement={};for(var j=1;j<stepCount+1;j++){var stepName2="step"+j;oAdvancement[stepName2]=itemAnchorList[stepName2].state}if(window.localStorage)window.localStorage.setItem("npcd",JSON.stringify(oAdvancement))}else didacticielStop()},
1450)};var didacticielStart=function(){var startingStep="";for(var i=1;i<stepCount+1;i++){var stepName="step"+i;if(itemAnchorList[stepName].state==="done")stepClean(stepName);if(itemAnchorList[stepName].state==="current"){startingStep=stepName;stepPrepare(stepName)}}if(startingStep===""){didacticielStop();return}$(".npcd-popin-exit, .npcd-mask").on("click",function(e){e.preventDefault();didacticielStop()});$(".npcd-popin-cta").on("click",function(e){e.preventDefault();didacticielNextStep()});$("#npc-didacticiel").on("keydown.npcd",
function(e){if((e.keyCode||e.which)===27){e.preventDefault();didacticielNextStep()}});$(".npcd-popin-exit").on("keydown.npcd",function(e){if((e.keyCode||e.which)===9){$(this).closest(".npcd-popin").focus();e.preventDefault()}})};var didacticielStop=function(){if(currentPopin)closePopin();moduleIsActive=false;var oAdvancement={};for(var i=1;i<stepCount+1;i++){var stepName="step"+i;oAdvancement[stepName]="done";if(itemAnchorList[stepName].state!=="done"){stepClean(stepName);itemAnchorList[stepName].state=
"done"}}setTimeout(function(){hideMask();setTimeout(function(){$("#npc-didacticiel").remove()},300)},1E3);if(window.localStorage)window.localStorage.setItem("npcd",JSON.stringify(oAdvancement))};var stepClean=function(stepName){var $target=itemAnchorList[stepName].targetdom;var $popin=itemAnchorList[stepName].popindom;if(!($target&&$target.length))return;$target.removeClass("npcd-animate npcd-target");$target.removeAttr("data-npcd-position aria-describedby data-npcd tabindex");animateStickerBorder();
$popin.remove()};var stepPrepare=function(stepName){var $target=itemAnchorList[stepName].targetdom;var $popin=itemAnchorList[stepName].popindom;var chart='\x3csvg\x3e\x3crect class\x3d"npcd-border" x\x3d"0" y\x3d"0" rx\x3d"5" width\x3d"100%" height\x3d"100%" /\x3e\x3c/svg\x3e';if(!($target&&$popin)){console.info("This step ("+stepName+") does not exist. Didacticiel will close.");moduleIsActive=false;hideMask();return}var $sticker=$(".npcd-popin-sticker");$sticker.removeClass("npcd-popin-sticker-step1 npcd-popin-sticker-step1-link npcd-popin-sticker-step2 npcd-popin-sticker-step3 npcd-popin-sticker-step4");
$sticker.addClass("npcd-popin-sticker-"+stepName);if($target.hasClass("npcd-param-link"))$sticker.addClass("npcd-popin-sticker-step1-link");$sticker.html('\x3cspan class\x3d"npcd-popin-sticker-label"\x3e'+$target.html()+"\x3c/span\x3e");$sticker.append(chart);var openPopin=function(){currentPopin=stepName;showMask();$("html").animate({scrollTop:0},300,function(){var cfgPopinPos=$target.attr("data-npcd-position");var pos=getPopinAnMaskPosition($target,$popin,cfgPopinPos);$popin.css({top:pos.popin.top+
"px",left:pos.popin.left+"px"});$(".npcd-popin-sticker").css({top:pos.picto.top+"px",left:pos.picto.left+"px",width:pos.picto.width+"px",height:pos.picto.height+"px"});setTimeout(function(){$sticker.addClass("npcd-animate");animateStickerBorder(true);setTimeout(function(){$popin.fadeIn();$popin.attr("aria-hidden",false);eLastFocus=document.activeElement;$("#npcd-popin-"+stepName+"-title").focus()},700)},500)})};openPopin()};var setCurrentMarche=function(oCharter){oMarcheColors.brandPrimary=oCharter.couleurs.brandPrimary||
"#007D8F";oMarcheColors.brandPrimaryDark=oCharter.couleurs.brandPrimaryDark||"#006675";oMarcheColors.fontPrimary=oCharter.couleurs.fontPrimary||"#007D8F"};var setDomElements=function(){var nStepPaginationTotal=0;var oPaginationItem={step1:"",step2:"",step3:"",step4:""};for(var j=0;j<stepCount;j++){var stepName="step"+(j+1);var $target=$(".npcd-target[data-npcd\x3d"+stepName+"]");if($target.length){itemAnchorList[stepName].targetdom=$target;if(itemAnchorList[stepName].state!=="done"){nStepPaginationTotal++;
oPaginationItem[stepName]=nStepPaginationTotal}}else;}var lastStep="step4";for(var k=0;k<stepCount;k++){var stepName3="step"+(k+1);if(oPaginationItem[stepName3]===nStepPaginationTotal)lastStep=stepName3}var popinHTMLThemed=popinHTML.replace(/\$brandprimary\$/gi,oMarcheColors.brandPrimary).replace(/\$brandprimarydark\$/gi,oMarcheColors.brandPrimaryDark).replace(/\$fontprimary\$/gi,oMarcheColors.fontPrimary).replace(/\$paginationtotal\$/gi,nStepPaginationTotal).replace(/\$paginationstep1\$/gi,oPaginationItem.step1).replace(/\$paginationstep2\$/gi,
oPaginationItem.step2).replace(/\$paginationstep3\$/gi,oPaginationItem.step3).replace(/\$paginationstep4\$/gi,oPaginationItem.step4).replace(/\$actionsstep1\$/gi,lastStep==="step1"?popinActionsHTML.end:popinActionsHTML.next).replace(/\$actionsstep2\$/gi,lastStep==="step2"?popinActionsHTML.end:popinActionsHTML.next).replace(/\$actionsstep3\$/gi,lastStep==="step3"?popinActionsHTML.end:popinActionsHTML.next).replace(/\$actionsstep4\$/gi,lastStep==="step4"?popinActionsHTML.end:popinActionsHTML.next);
$("body").append(popinHTMLThemed);for(var i=0;i<stepCount;i++){var stepName2="step"+(i+1);itemAnchorList[stepName2].popindom=$("#npcd-popin-"+stepName2)}setTimeout(function(){$(".npcd-popin-title").focus()},50)};var setAdvancementStatus=function(){var advancement;if(window.localStorage)advancement=window.localStorage.getItem("npcd");if(advancement){advancement=JSON.parse(advancement);for(var i=1;i<stepCount+1;i++){var stepName="step"+i;itemAnchorList[stepName].state=advancement[stepName]}}else{var initAdvancement=
{step1:"current",step2:"waiting",step3:"waiting",step4:"waiting"};if(window.localStorage)window.localStorage.setItem("npcd",JSON.stringify(initAdvancement))}};var getPopinAnMaskPosition=function($target,$popin,cfgPopinPos){if(cfgPopinPos!=="top"&&cfgPopinPos!=="bottom"&&cfgPopinPos!=="right"&&cfgPopinPos!=="left")cfgPopinPos="bottom";var deviceWidth=window.innerWidth>0?window.innerWidth:screen.width;if(deviceWidth<=992)cfgPopinPos="bottom";var targetPos=$target.offset();var targetX=targetPos.left;
var targetY=targetPos.top;var targetW=$target.outerWidth();var targetH=$target.outerHeight();var popinW=$popin.outerWidth();var popinPos={top:0,left:0};switch(cfgPopinPos){case "right":popinPos.top=targetY+targetH/2-37;popinPos.left=targetX+targetW+40;break;case "left":popinPos.top=targetY+targetH/2-37;popinPos.left=targetX-popinW-40;break;case "bottom":default:popinPos.top=targetY+targetH+20;popinPos.left=targetX+targetW/2+37-popinW}var pictoPos={top:0,left:0,width:0,height:0};var stepName=$target.hasClass("npcd-param-link")?
"step1bis":$target.attr("data-npcd");switch(stepName){default:case "step1":pictoPos.top=targetY+targetH/2;pictoPos.left=targetX+targetW/2;pictoPos.width=50;pictoPos.height=50;break;case "step1bis":pictoPos.top=targetY;pictoPos.left=targetX;pictoPos.width=targetW+30;pictoPos.height=targetH+20;break;case "step2":case "step4":pictoPos.top=targetY;pictoPos.left=targetX;pictoPos.width=targetW;pictoPos.height=targetH;break;case "step3":pictoPos.top=targetY+5;pictoPos.left=targetX+5;pictoPos.width=targetW-
10;pictoPos.height=targetH-10;break}return{picto:pictoPos,popin:popinPos}};var repositionPopin=function(stepName){var $target=itemAnchorList[stepName].targetdom;var $popin=itemAnchorList[stepName].popindom;var cfgPopinPos=$target.attr("data-npcd-position");var pos=getPopinAnMaskPosition($target,$popin,cfgPopinPos);$popin.css({top:pos.popin.top+"px",left:pos.popin.left+"px"});$(".npcd-popin-sticker").css({top:pos.picto.top+"px",left:pos.picto.left+"px"})};var handleResize=function(){$(window).on("resize.npcd",
debounce(function(){if(currentPopin)repositionPopin(currentPopin)},50));var mediaQueryList=window.matchMedia("(max-width:990px)");var handleOrientationChange=function(){if(!moduleIsActive)return;if(mediaQueryList.matches)hideMask();else showMask()};mediaQueryList.addListener(handleOrientationChange);handleOrientationChange()};return{init:function(oCharter){moduleIsActive=true;setCurrentMarche(oCharter);setAdvancementStatus();setDomElements();didacticielStart();handleResize()},getAnchors:function(){return itemAnchorList},
getColors:function(){return oMarcheColors},getCurrentPopin:function(){return currentPopin},checkIfModuleActive:function(){return moduleIsActive},endDidacticiel:function(){didacticielStop()}}}();$(window).on("didacticiel.init",function(event,param1){NPCD.init(param1)})})(jQuery);NPC=NPC||{};NPC.syntheseN0N1=NPC.syntheseN0N1||{};NPC.syntheseN0N1.utils=NPC.syntheseN0N1.utils||{};NPC.syntheseN0N1.utils.setTabIndex=function(selector,index){$(selector).each(function(){$(this).attr("tabindex",index)})};
$("a").each(function(){if($(this).attr("tabindex")>0)$(this).attr("tabindex","0")});
NPC.syntheseN0N1.utils.launchDidacticiel=function(){if(localStorage.getItem("BVModeConnecteOuvert")){localStorage.removeItem("BVModeConnecteOuvert");return}console.info("Launch Didacticiel !");var param;if(CommonNPC.cssVars&&CommonNPC.cssVars.colors)param={couleurs:{brandPrimary:CommonNPC.cssVars.colors["brand-primary"],brandPrimaryDark:CommonNPC.cssVars.colors["brand-primary-dark"],fontPrimary:CommonNPC.cssVars.colors["link-color"]}};else{var color=$(".HeaderLogged-secondNavLink--logoff").css("background-color");
param={couleurs:{brandPrimary:color,brandPrimaryDark:color,fontPrimary:color}}}var $window=$(window);$window.load(function(){$window.trigger("didacticiel.init",param)})};
NPC.syntheseN0N1.utils.hasValidatedNotificationRemediation=function(){var notificationRemediationValide=false;var infoDerniereNotificationRemediation=JSON.parse(localStorage.getItem("infoNotificationRemediation"));if(infoDerniereNotificationRemediation!=null&&infoDerniereNotificationRemediation.timestamp!=null){var timestampDerniereNotificationRemediation=infoDerniereNotificationRemediation.timestamp;var dateExpirationNotificationRemediation=new Date(timestampDerniereNotificationRemediation);dateExpirationNotificationRemediation.setMonth(dateExpirationNotificationRemediation.getMonth()+
6);var dateNow=new Date;if(dateNow.getTime()<dateExpirationNotificationRemediation.getTime())notificationRemediationValide=true}return notificationRemediationValide};NPC.syntheseN0N1.utils.validationNotificationRemediation=function(){var infoDerniereNotificationRemediation={timestamp:(new Date).getTime()};localStorage.setItem("infoNotificationRemediation",JSON.stringify(infoDerniereNotificationRemediation));$("#modalNotificationRemediation").hide()};
NPC.syntheseN0N1.utils.consultationNotificationRemediation=function(){NPC.syntheseN0N1.utils.validationNotificationRemediation();var endUrlCoordonnes="";if(NPC.utilisateur.marche==="particulier"||NPC.utilisateur.marche==="banque-privee")endUrlCoordonnes="gerer-coordonnees.html";else endUrlCoordonnes="controler-coordonnees.html";window.location=NPC.urlLiveCopyCaisse+NPC.utilisateur.marche+"/operations/profil/infos-personnelles/"+endUrlCoordonnes};
NPC.syntheseN0N1.utils.showNotificationRemediationSiPresente=function(){if($("#modalNotificationRemediation").length>0)$("#modalNotificationRemediation").show()};
$(function(){var toggleActions=function($head){if($head.hasClass("SynthesisMainAccount-head")){$head.toggleClass("SynthesisMainAccount-head--actionsOpen");var hasClass=$head.hasClass("SynthesisMainAccount-head--actionsOpen");$head.find(".SynthesisMainAccount-headActions").attr("aria-expanded",hasClass);if(hasClass){$head.find(".SynthesisMainAccount-headActionsToggleOpener").toggleClass("notyet");setTimeout(function(){$head.find(".SynthesisMainAccount-headAction-resetFocus.goto.next").focus();$head.find(".SynthesisMainAccount-headActionsToggleOpener").toggleClass("notyet")},
301)}else setTimeout(function(){$head.find(".SynthesisMainAccount-headActionsToggleOpener").focus()},301)}};$(".js-SynthesisMainAccount-headActionsToggle").on("click",function(e){e.preventDefault();e.stopPropagation();toggleActions($(this).closest(".js-SynthesisMainAccount-head,.js-SynthesisAccount,.js-SynthesisActions"))});var $SynthesisLinksBars=$(".SynthesisLinksBar");$SynthesisLinksBars.each(function(){var $SynthesisLinksBar=$(this);var maxItems=$SynthesisLinksBar.data("maxItems")?$SynthesisLinksBar.data("max-items"):
Infinity;var currentMax=maxItems;var currentIndex=0;var $SynthesisLinksBarItems=$SynthesisLinksBar.find(".SynthesisLinksBar-item");var setItemsVisible=function(index,max){currentMax=max;index=index+max<$SynthesisLinksBarItems.length?index:$SynthesisLinksBarItems.length-max;if($SynthesisLinksBarItems.length>max){$SynthesisLinksBar.addClass("SynthesisLinksBar--slider");$SynthesisLinksBar.find(".SynthesisLinksBar-prev").toggleClass("hidden",index<=0);$SynthesisLinksBar.find(".SynthesisLinksBar-next").toggleClass("hidden",
index+max>=$SynthesisLinksBarItems.length);$SynthesisLinksBarItems.each(function(i){$(this).toggleClass("hidden",i<index||i>=index+max)})}else{$SynthesisLinksBar.removeClass("SynthesisLinksBar--slider");$SynthesisLinksBarItems.removeClass("hidden")}};$SynthesisLinksBar.off("click.linksNav",".SynthesisLinksBar-prev").off("click.linksNav",".SynthesisLinksBar-next");$SynthesisLinksBar.on("click.linksNav",".SynthesisLinksBar-prev",function(e){e.preventDefault();setItemsVisible(--currentIndex,currentMax)}).on("click.linksNav",
".SynthesisLinksBar-next",function(e){e.preventDefault();setItemsVisible(++currentIndex,currentMax)});enquire.register(CommonNPC.medias.mqXsMax,{match:function(){var max=3;setItemsVisible(currentIndex,max)},unmatch:function(){setItemsVisible(currentIndex,maxItems)}});setItemsVisible(currentIndex,maxItems)});$(".js-Operation-header").on("click",function(e){e.preventDefault();$(this).closest(".js-Operation").toggleClass("Operation--open")});$(".js-Operations-more").on("click",function(e){e.preventDefault();
$(this).toggleClass("Operations-more--loading")});var $checks=$(".js-OperationsSearch-input--check");$checks.each(function(){var $check=$(this);var SMALL_FORM_CLASS="OperationsSearch--small";var $prev=$check.prev();var $form=$check.closest(".js-OperationsSearch");var updateCheckOrder=function(){$form.removeClass(SMALL_FORM_CLASS);if($prev.offset().top+$prev.height()<$check.offset().top)$form.addClass(SMALL_FORM_CLASS)};$("#OperationsSearch").on("show.bs.collapse.toggle",function(){setTimeout(updateCheckOrder,
0)});$(window).on("debounced-resize.updateCheckOrder",updateCheckOrder);updateCheckOrder()});$(document).off("focus",".SynthesisMainAccount-headAction-resetFocus.goto").on("focus",".SynthesisMainAccount-headAction-resetFocus.goto",function(){if($(this).hasClass("next"))$(this).parent().children(":not(.goto)").first().focus();else if($(this).hasClass("previous"))$(this).parent().children(":not(.goto)").last().focus()}).off("keyup",".SynthesisMainAccount-headActions a,.SynthesisMainAccount-headActions button").on("keyup",
".SynthesisMainAccount-headActions a,.SynthesisMainAccount-headActions button",function(e){var keyPressed=e.keyCode||e.which;if(keyPressed==27)$(".js-SynthesisMainAccount-headActionsToggle.SynthesisMainAccount-headActionsToggleCloser").click()})});(function(angular){var app=angular.module("synthese",["npc","ngResource"])})(angular);
(function(angular){var module=angular.module("synthese");module.filter("dateJJMM",["$sce",function($sce){return function(time){var date=new Date(time);var day=date.getDate();day=day<10?"0"+day:day;var month=date.getMonth()+1;month=month<10?"0"+month:month;return day+"/"+month}}]);module.filter("dateJJMMAAAA",["$sce",function($sce){return function(time){var date=new Date(time);var day=date.getDate();day=day<10?"0"+day:day;var month=date.getMonth()+1;month=month<10?"0"+month:month;return day+"/"+month+
"/"+date.getFullYear()}}]);module.filter("mois",["$sce",function($sce){return function(time,short){var listeMois=short?NPC.constantes.listeMoisCourts:NPC.constantes.listeMois;if(time===null||time===undefined)return"";return listeMois[(new Date(time)).getMonth()].toLowerCase()}}]);module.filter("Mois",["$sce",function($sce){return function(time,short){var listeMois=short?NPC.constantes.listeMoisCourts:NPC.constantes.listeMois;if(time===null||time===undefined)return"";return listeMois[(new Date(time)).getMonth()]}}]);
module.filter("range",function(){return function(input,total){total=parseInt(total);for(var i=0;i<total;i++)input.push(i);return input}});module.filter("currentPage",["$sce",function($sce){return function(listeItems,bloc){bloc.nombrePages=Math.max(1,Math.ceil(listeItems.length/bloc.itemsPerPage));var pageId=bloc.currentPage-1;var startIndex=pageId*bloc.itemsPerPage;return listeItems.slice(startIndex,startIndex+bloc.itemsPerPage)}}]);module.filter("regroupement",[function(){return function(elementsContrats,
bloc){if(elementsContrats==undefined||bloc==undefined){console.warn("Des param\u00e8tres sont ind\u00e9finis dans le filtre grouperParPartenaire.");return}if(bloc.groupementParPage==undefined||bloc.derniereRecherche!=bloc.champsRecherche){bloc.groupementParPage={};bloc.derniereRecherche=bloc.champsRecherche}if(bloc.groupementParPage[bloc.currentPage]!=undefined)return bloc.groupementParPage[bloc.currentPage];bloc.groupementParPage[bloc.currentPage]=NPC.synthese.creerListeRegroupementParPartenaire(elementsContrats,
bloc.grouperParEtablissement);return bloc.groupementParPage[bloc.currentPage]}}])})(angular);
(function(angular){var module=angular.module("synthese");module.directive("npcInitVoletActions",function(){return{restrict:"A",scope:{produit:"\x3dnpcInitVoletActions"},link:function($scope,$element,$attrs){var element=$element;var unbind=$scope.$watch(function(){if($scope!=undefined&&element!=undefined&&element.children()!=undefined)if($scope.produit!=undefined)$scope.produit.hasActionsRapides=element.children(".menucontent-item").length>0;unbind()})}}})})(angular);
(function(angular){var module=angular.module("synthese");module.directive("selectCustom",function(){return{templateUrl:"selectCustom.template.html",restrict:"AE",transclude:true,scope:{wrapperClass:"@",inputId:"@",inputName:"@",inputModel:"\x3d",inputModel2:"\x3d",inputBloc:"\x3d",inputPlaceholder:"@",inputClass:"@",inputDisabled:"\x3c",inputChange:"\x3d",inputLabel:"@"},controllerAs:"$ctrl",controller:["$scope","$element","$timeout",function($scope,$element,$timeout){var initialized=false;var updateSelect=
function(){if(initialized===true)$timeout(function(){$element.find("select").selectpicker("refresh");$element.find("select").selectpicker("val",$scope.inputModel)})};$scope.$evalAsync(function(){$timeout(function(){$element.find(".bootstrap-select-wrapper").addSelectLabel();var $select=$element.find("select");var firstOption=$select[0].options[0];if(firstOption.value[0]==="?"&&firstOption.value[firstOption.value.length-1]==="?")$(firstOption).remove();$element.find("select").selectpicker({title:$scope.inputPlaceholder}).on("change",
function(){if($scope.inputChange!=undefined)$scope.inputChange($scope.inputBloc);$scope.$apply()});$select.bind("DOMNodeInserted DOMNodeRemoved",function(e){updateSelect()});initialized=true})});$scope.$watch("inputDisabled",updateSelect);$scope.$watch("inputModel",updateSelect);$scope.$watch("inputModel2",updateSelect)}]}})})(angular);
(function(angular){var module=angular.module("synthese");module.factory("produitsValorisationService",["$resource",ProduitsValorisationService]);function ProduitsValorisationService($resource){var _getUrl=function(){if(window.location.pathname){var lastSlashIndex=window.location.pathname.lastIndexOf("/");var nextPointIndex=window.location.pathname.indexOf(".",lastSlashIndex);return window.location.pathname.substr(lastSlashIndex+1,nextPointIndex-lastSlashIndex-1)+"/jcr%3Acontent.produits-valorisation.json"}return""};
var url=_getUrl();var produitsValorisation=$resource(url+"/:codeGdeFamilleProduits",{codeGdeFamilleProduits:"@codeGdeFamilleProduits"},{rechercher:{method:"GET",isArray:true}});return produitsValorisation}})(angular);
$(document).ready(function(){var manageFocusOnSynthesisAccountAction=function(e){var $this=$(":focus");if(e.which===9&&$this.is(".SynthesisAccount-action:last-child")){e.preventDefault();$this.closest(".SynthesisAccount").find(".js-SynthesisAccount-actionsToggle").focus()}};$("body").on("keydown",".SynthesisAccount-action",manageFocusOnSynthesisAccountAction);var manageContextHubEvents=function(){if(ContextHub&&ContextHub.Utils){ContextHub.eventing.on(ContextHub.Constants.EVENT_TEASER_LOADED,function(){ContextHub.Utils.putEventOnOffers(!NPC.isAuthor)});
$(document).on("click",".SynthesisDropdown-toggle",function(){ContextHub.Utils.putEventOnOffers(!NPC.isAuthor)})}};manageContextHubEvents();var manageDisplayEmessagesPrioritaires=function(){var $iframes=$(".iframeEmessagesPrioritaires");var numbreOfIframes=$iframes.length;var $btnSuivant=$(".btnEmessagesPrioritairesSuivant");var $btnFermer=$(".btnEmessagesPrioritairesFermer");var idMessages=[];if(numbreOfIframes>1){$btnSuivant.removeClass("hidden");$btnSuivant.on("click",function(e){var $iframeDisplayed=
$iframes.not($(".hidden"));var currentIframeId=$iframeDisplayed.attr("data-id-iframe");var nextIframeId=parseInt(currentIframeId)+1;var isLastIframe=numbreOfIframes==nextIframeId;var $iframeToDisplay=$(".iframeEmessagesPrioritaires[data-id-iframe\x3d"+nextIframeId+"]");$iframeDisplayed.addClass("hidden");$iframeToDisplay.removeClass("hidden");var currentMessageId=$iframeDisplayed.attr("data-id-message");idMessages.push(currentMessageId);if(isLastIframe){$btnSuivant.addClass("hidden");$btnFermer.removeClass("hidden");
updateMessagePrioritaires(idMessages.toString())}})}else if(numbreOfIframes==1)$btnFermer.removeClass("hidden")};var updateMessagePrioritaires=function(idMessages){if(idMessages.length>0)$.ajax({url:typeof NPC!="undefined"?NPC.genererURLJson("synthese.messages.prioritaires.update"):"",method:"POST",data:{"idMessages":idMessages},success:function(data){console.log("Messages Prioritaires ont \u00e9t\u00e9 mis \u00e0 jour")}})};if(NPC.afficherEmessagesPrioritaires&&!NPC.informationNavigateur.mobile){$("#modalPuMessagesPrioritaires").appendTo("body");
manageDisplayEmessagesPrioritaires();console.log("Init E Messages Prioritaires");$("#modalPuMessagesPrioritaires").modal({backdrop:"static",keyboard:false});$("#modalPuMessagesPrioritaires").on("hidden.bs.modal",function(e){console.log("Fermeture E Messages Prioritaires");NPC.syntheseN0N1.utils.launchDidacticiel();var idMessages=[];var $iframes=$(".iframeEmessagesPrioritaires");var $iframeDisplayed=$iframes.not($(".hidden"));var currentMessageId=$iframeDisplayed.attr("data-id-message");idMessages.push(currentMessageId);
updateMessagePrioritaires(idMessages.toString());updateMessagerieCounter()})}var updateMessagerieCounter=function(){if(NPC&&NPC.user&&NPC.user.isConnected)$.get(NPC.genererURLJsonPageCourante("messagerie.count")).success(function(data){window.location.reload(true)})};$(".js-openMenuMobile").focus();if(!NPC.syntheseN0N1.utils.hasValidatedNotificationRemediation())NPC.syntheseN0N1.utils.showNotificationRemediationSiPresente();var handleAccessibilityClickN0=function(e){var $this=$(":focus");if(e.which===
13&&($this.is(".js-SynthesisMainAccount-head")||$this.is(".SynthesisMainAccount-footerLegend")||$this.is(".SynthesisMainAccount-footerLine")))$(".js-SynthesisMainAccount-head").click()};$(".js-SynthesisMainAccount-head, .SynthesisMainAccount-footerLegend, .SynthesisMainAccount-footerLine").on("keydown",handleAccessibilityClickN0)});
(function(angular){var module=angular.module("synthese");module.controller("SyntheseController",["$scope","$http","$location","produitsValorisationService","$timeout",SyntheseController]);function SyntheseController($scope,$http,$location,produitsValorisationService,$timeout){var syntheseController=this;var vm=this;var CODE_PRODUIT_DEVISE_ELIGIBLE_CAFX="288";var isButtonGoToRibCancelled=false;var _compareCodeProduit=function(codeProduit1,codeProduit2){return parseInt(codeProduit1)==parseInt(codeProduit2)};
var _initNotification=function(notification){if(notification!=undefined){notification.withRollOver=false;switch(notification.type){case "CONTRAT_EN_ATTENTE":notification.templateId="notif-contrat-en-attente.html";notification.withRollOver=true;break;case "DEMANDE_REGLEMENT_SEPAMAIL":notification.templateId="notif-demande-reglement-sepamail.html";notification.withRollOver=true;break;case "MOYEN_PAIEMENT_DISPONIBLE":notification.templateId="notif-moyen-paiement-disponible.html";break}}};var _getUrlMessagerie=
function(){var nomMarcheUrl=NPC.synthese.getCurrentMarcheUrl();var pageNPC=NPC.arbo.recupererPageMarche(nomMarcheUrl);var sousPageNPC="";if(pageNPC==NPC.arbo.particulier||pageNPC==NPC.arbo.banquePrivee)sousPageNPC=NPC.arbo.particulier.messagerie;else sousPageNPC=NPC.arbo.professionnel.messagerie;return"../"+sousPageNPC.toString()+".html"};var _regrouperProduitsParIdContrat=function(bloc){var elementsContrats=bloc.elementsContrats;var groupementParIdContrat={};for(var i=0;i<elementsContrats.length;i++)if(elementsContrats[i]!=
undefined&&elementsContrats[i].idContrat!=undefined){var key=elementsContrats[i].idPartenaire+"-"+elementsContrats[i].idContrat;if(groupementParIdContrat[key]==undefined)groupementParIdContrat[key]=[];var inserted=false;for(var j=0;j<groupementParIdContrat[key].length;j++)if(elementsContrats[i].idElementContrat<groupementParIdContrat[key][j].idElementContrat){groupementParIdContrat[key].splice(j,0,elementsContrats[i]);inserted=true;break}if(!inserted)groupementParIdContrat[key].push(elementsContrats[i])}for(var i=
0;i<elementsContrats.length;i++){var key=elementsContrats[i].idPartenaire+"-"+elementsContrats[i].idContrat;var groupement=groupementParIdContrat[key];if(groupement!=undefined&&groupement.length>1){var indexInGroupe=groupement.indexOf(elementsContrats[i]);if(indexInGroupe>0){var elementBefore=groupement[indexInGroupe-1];var toIndex=elementsContrats.indexOf(elementBefore)+1;if(i!=toIndex&&toIndex>0){var supprimes=elementsContrats.splice(i,1);if(supprimes!=undefined&&supprimes.length==1){elementsContrats.splice(toIndex,
0,supprimes[0]);i-=1}}}}}bloc.groupementParPage=undefined};var _initCompteN0=function(produit){var CODES_SITUATION_ACCEPTES=["2","3"];if(produit){produit.hasActionsRapides=true;if(produit.reserveCredit&&produit.reserveCredit.codeSituationContrat&&CODES_SITUATION_ACCEPTES.indexOf(produit.reserveCredit.codeSituationContrat)>=0)produit.reserveCredit.isVisible=true}};syntheseController.isAffichgeCompteN1=function(produit){var CODES_SITUATION_ACCEPTES=["2","3"];if(produit){produit.hasActionsRapides=true;
if(produit.reserveCredit&&produit.reserveCredit.codeSituationContrat&&CODES_SITUATION_ACCEPTES.indexOf(produit.reserveCredit.codeSituationContrat)>=0)return true;else return false}};var _preventDefaultAndStopPropatation=function(e){if(e!=undefined){e.preventDefault();e.stopPropagation()}};var _iniDidacticiel=function(){var el=$(".npcd-target");if(el.length<3){$timeout(_iniDidacticiel,500);return}NPC.syntheseN0N1.utils.launchDidacticiel()};$scope.isCompteN0N1DeviseEtrangere=function(produit){return produit.codeProduit===
CODE_PRODUIT_DEVISE_ELIGIBLE_CAFX};var _initAutorisations=function(autorisations){syntheseController.autorisations=autorisations;syntheseController.autorisationVirement=autorisations!=undefined&&autorisations.virement;syntheseController.autorisationTelechargerHistorique=autorisations!=undefined&&autorisations.telechargerHistorique;syntheseController.autorisationEditerRib=autorisations!=undefined&&autorisations.editerRib;syntheseController.autorisationCAFXIHML=autorisations!=undefined&&autorisations.gererChange&&
syntheseController.cafxEligibilite;if(autorisations.eDocumentsIHML)syntheseController.autorisationEDocumentsIHML=autorisations.eDocumentsIHML;if(autorisations.eDocuments&&autorisations.eDocumentsPU)syntheseController.autorisationEDocuments=autorisations!=undefined&&autorisations.eDocuments&&autorisations.eDocumentsPU;else if(autorisations.eDocuments)syntheseController.autorisationEDocuments=autorisations!=undefined&&autorisations.eDocuments;else if(autorisations.eDocumentsPU)syntheseController.autorisationEDocumentsPU=
autorisations!=undefined&&autorisations.eDocumentsPU;syntheseController.autorisationModifierVersementPEL=autorisations!=undefined&&autorisations.modifierVersementPEL;syntheseController.autorisationAttestationAssurance=autorisations!=undefined&&autorisations.attestationAssurance;syntheseController.autorisationDeclarerSinistre=autorisations!=undefined&&autorisations.declarerSinistre;syntheseController.autorisationMessagerie=autorisations!=undefined&&autorisations.messagerie};var _declareEventListener=
function(){document.addEventListener("messagerie.count",function(e){_initLibelleMessagesNonLus()})};var _initLibelleMessagesNonLus=function(){syntheseController.libelleMessagesNonLus="";syntheseController.urlMessagerie=_getUrlMessagerie();var nbMessages=0;if(NPC.messagerie&&NPC.messagerie.nbMessageNonLus)nbMessages=NPC.messagerie.nbMessageNonLus;if(!isNaN(nbMessages)&&nbMessages>0){var suffix=nbMessages==1?" non lu":" non lus";syntheseController.libelleMessagesNonLus=nbMessages+suffix}};var _initEntrepriseInformations=
function(proEnt,data){if(proEnt){syntheseController.entrepriseInformations=data.entrepriseInformations;if(syntheseController.entrepriseInformations!=undefined){syntheseController.isEspaceDelegue=false;var typeEspacePerimetre=syntheseController.entrepriseInformations.typeEspacePerimetre;if(typeEspacePerimetre!=undefined){var libelleSimplifie=typeEspacePerimetre.toLowerCase().replace(new RegExp(" ","g"),"");syntheseController.isEspaceDelegue=libelleSimplifie=="espaced\u00e9l\u00e9gu\u00e9"||libelleSimplifie==
"espacedelegue"}}else console.log("Attention : les informations d'entreprise sont null.")}};var _verifierLien=function(produit,configurationLiensProduits){return produit!==undefined&&configurationLiensProduits!==undefined&&configurationLiensProduits[produit.codeProduit]!==undefined};var _initProduitTemplate=function(bloc,produit){produit.chargement=_getChargementStatut(bloc,produit);produit.possedeLien=_verifierLien(produit,syntheseController.configurationLiensProduits);if(bloc.produitTemplateDefault){produit.produitTemplate=
syntheseController.getProduitTemplate(bloc,produit);produit.classesCSS=bloc.classesCSSProduit;if(produit.classesCSS!=undefined){if(bloc.codeGdeFamilleProduits=="1"||bloc.codeGdeFamilleProduits=="3")produit.classesCSS+=" "+syntheseController.getMeteoClassCSS(produit);else if(bloc.codeGdeFamilleProduits=="4"&&produit.typeProduit!="credit-avec-billets-financiers")produit.classesCSS+=" "+"SynthesisActions SynthesisActions--fade js-SynthesisActions SynthesisActions--small";else produit.classesCSS+=" "+
"SynthesisAccount--noIcon";if(produit.typeProduit!=undefined){if(bloc.classesCSSToAddParTypeProduit!=undefined&&bloc.classesCSSToAddParTypeProduit[produit.typeProduit]!=undefined){var listeClassesToAdd=bloc.classesCSSToAddParTypeProduit[produit.typeProduit];for(var i=0;i<listeClassesToAdd.length;i++)produit.classesCSS+=" "+listeClassesToAdd[i]}if(bloc.classesCSSToRemoveParTypeProduit!=undefined&&bloc.classesCSSToRemoveParTypeProduit[produit.typeProduit]!=undefined){var listeClassesToRemove=bloc.classesCSSToRemoveParTypeProduit[produit.typeProduit];
for(var i=0;i<listeClassesToRemove.length;i++)produit.classesCSS.replace(new RegExp(listeClassesToRemove[i],"g"),"")}}}}if(produit.libellePeriodicite!==undefined)switch(produit.libellePeriodicite){case "Trimestriel":produit.libellePeriodicite="Trimestrielle";break;case "Semestriel":produit.libellePeriodicite="Semestrielle";break;case "Annuel":produit.libellePeriodicite="Annuelle";break;case "Mensuel":produit.libellePeriodicite="Mensuelle";break}};var _initBlocInfos=function(bloc,configurationLiensProduits){_configureBloc(syntheseController.proEnt,
bloc,configurationLiensProduits)};var _initProduit=function(produit,bloc){_initProduitTemplate(bloc,produit);produit.isPEL=_compareCodeProduit("00011",produit.codeProduit);produit.hasActionsRapides=true};var _configureBloc=function(proEnt,bloc,configurationLiensProduits){bloc.itemsPerPage=20;bloc.currentPage=1;bloc.paginationLabel="produits";bloc.grouperParPartenaire=!proEnt;bloc.grouperParEtablissement=proEnt;bloc.grouperParSousFamille=false;bloc.template="mes-produits-depliables";bloc.produitTemplatePath=
"synthese.angular-templates.n1.liste.produits.";bloc.produitTemplateDefault=null;bloc.classesCSSProduit="SynthesisAccount SynthesisAccount--small js-SynthesisAccount";bloc.classesCSSActionsOpened="SynthesisAccount--actionsOpen";bloc.classesCSSLoading="SynthesisAccount--loading";bloc.elementBemCSS="SynthesisAccount";bloc.classesCSSToAddParTypeProduit=null;bloc.classesCSSToRemoveParTypeProduit=null;bloc.vueCondensee=false;bloc.compatibleSoldeEnDateValeur=false;bloc.produitsAFiltrer=false;bloc.autoriseProduitHorsSurfaceBancaire=
false;bloc.libelleAfficherProduits="Afficher ";bloc.libelleMasquerProduits="Masquer ";switch(bloc.codeGdeFamilleProduits){case "1":bloc.template=proEnt?"mes-comptes-pro":"mes-comptes-part";bloc.produitTemplatePath+="comptes.";bloc.produitTemplateDefault="compte";bloc.classesCSSProduit="SynthesisAccount js-SynthesisAccount";bloc.paginationLabel="comptes";bloc.produitsValorises=true;bloc.grouperParPartenaire=false;bloc.grouperParEtablissement=false;bloc.grouperParSousFamille=false;if(proEnt){if(bloc.elementsContrats.length>
5){bloc.grouperParEtablissement=true;bloc.classesCSSProduit="SynthesisAccount SynthesisAccount--small js-SynthesisAccount";bloc.produitTemplateDefault="compte-pro-condense";bloc.vueCondensee=true}bloc.outilRechercheTemplate=bloc.elementsContrats!=undefined&&bloc.elementsContrats.length>bloc.itemsPerPage?"outil-comptes-pro-complexe.html":"outil-comptes-pro-simple.html";bloc.compatibleSoldeEnDateValeur=true}break;case "3":bloc.template="mon-epargne-disponible";bloc.produitTemplatePath+="epargnes.";
bloc.produitTemplateDefault="epargne";bloc.produitsValorises=true;break;case "7":bloc.produitTemplatePath+="epargnes.";bloc.produitTemplateDefault="epargne";bloc.compatibleSoldeEnDateValeur=proEnt;bloc.libelleAfficherProduits+=proEnt?"vos placements":bloc.elementsContrats.length>1?"mes "+bloc.elementsContrats.length+" placements":"mon placement";bloc.libelleMasquerProduits+=proEnt?"vos placements":bloc.elementsContrats.length>1?"mes "+bloc.elementsContrats.length+" placements":"mon placement";bloc.valorisationCallback=
function(){_regrouperProduitsParIdContrat(bloc)};break;case "4":bloc.produitTemplatePath+="credits.";bloc.produitTemplateDefault="credit";bloc.classesCSSProduit="SynthesisCredit account SynthesisCredit--short js-SynthesisAccount";bloc.classesCSSActionsOpened="SynthesisActions--open SynthesisCredit--actionsOpen";bloc.classesCSSLoading="SynthesisCredit--loading";bloc.elementBemCSS="SynthesisCredit";bloc.paginationLabel="cr\u00e9dits";bloc.libelleAfficherProduits+=proEnt?"vos cr\u00e9dits":bloc.elementsContrats.length>
1?"mes cr\u00e9dits":"mon cr\u00e9dit";bloc.libelleMasquerProduits+=proEnt?"vos cr\u00e9dits":bloc.elementsContrats.length>1?"mes cr\u00e9dits":"mon cr\u00e9dit";bloc.produitsAFiltrer=true;bloc.autoriseProduitHorsSurfaceBancaire=true;bloc.codesFamillesValorises=["RDPx2300"];bloc.valorisationCallback=function(){var CODES_ETAT_ACCEPTES=["00","01","02"];var CODES_SITUATION_ACCEPTES=["2","3"];var CS_AMORTISSEMENT="A";var CS_RENOUVELABLE="R";var CS_PLAFOND="P";var CS_TYPE_BILLET="PB";var elementsContratsTmp=
[];for(var j=0;j<bloc.elementsContrats.length;j++){var contrat=bloc.elementsContrats[j];var codeType=contrat.codeTypeCredit;var codeEtat=contrat.codeEtatContrat;var codeSituation=contrat.codeSituationContrat;var addContrat=false;if(contrat!=null)if(contrat.codeStatut==="G"){addContrat=[CS_AMORTISSEMENT,CS_RENOUVELABLE].indexOf(codeType)>=0&&(CODES_ETAT_ACCEPTES.indexOf(codeEtat)>=0||CODES_SITUATION_ACCEPTES.indexOf(codeSituation)>=0);addContrat=addContrat||codeType===CS_PLAFOND&&CODES_ETAT_ACCEPTES.indexOf(codeEtat)>=
0;addContrat=addContrat||codeType===CS_TYPE_BILLET}if(addContrat)elementsContratsTmp.push(contrat);else bloc.groupementParPage=null}bloc.elementsContrats=elementsContratsTmp;bloc.produitsAFiltrer=false};break;case "5":bloc.produitTemplatePath+="assurances.";bloc.produitTemplateDefault="assurance";bloc.classesCSSProduit="SynthesisGuarantee SynthesisActions SynthesisActions--fade js-SynthesisActions SynthesisActions--small";bloc.classesCSSActionsOpened="SynthesisActions--open";bloc.classesCSSLoading=
"SynthesisGuarantee--loading";bloc.elementBemCSS="SynthesisGuarantee";bloc.paginationLabel="assurances";bloc.libelleAfficherProduits+=proEnt?"vos assurances":bloc.elementsContrats.length>1?"mes "+bloc.elementsContrats.length+" assurances":"mon assurance";bloc.libelleMasquerProduits+=proEnt?"vos assurances":bloc.elementsContrats.length>1?"mes "+bloc.elementsContrats.length+" assurances":"mon assurance";break}bloc.afficherListeDeroulanteSoldeEnDateValeur=bloc.compatibleSoldeEnDateValeur&&bloc.elementsContrats.length>
0;for(var j=0;j<bloc.elementsContrats.length;j++){var produit=bloc.elementsContrats[j];_initProduit(produit,bloc);if(bloc.codeGdeFamilleProduits=="1")syntheseController.nombreCartes+=NPC.synthese.compterCartes(produit)}};var _getChargementStatut=function(bloc,produit){return produit.typeProduit==undefined||bloc.affichageParDateValeur=="true"&&produit.uniquementDateOperation===undefined};var _filtrerlistCartesDD=function(compte){var listCartesDD=[];if(compte.cartesDD!=undefined){listCartesDD=compte.cartesDD;
var countCarte=listCartesDD.length;for(var j=countCarte-1;j>=0;j--){var carte=listCartesDD[j];var carteStatus=carte!=undefined&&(carte.encoursCarteM!=undefined&&carte.encoursCarteM!=0||carte.encoursCarteM1!=undefined&&carte.encoursCarteM1!=0||carte.codeSituationCarte==7);if(!carteStatus)listCartesDD.splice(j,1)}}return listCartesDD};var _isValidAccount=function(compte){var result=compte;result=result&&compte.libelleCompte&&compte.libelleCompte!="";result=result&&compte.numeroCompte&&compte.numeroCompte!=
"";result=result&&compte.libelleProduit&&compte.libelleProduit!="";return result};var _displayNoMainAccountDiv=function(){$(".js-SyntheseN0N1NoAccount").css("display","block")};var _valoriserProduits=function(bloc,valorisationType){var fieldsToUpdateByValorisationType={"solde-en-date-valeur":["soldeEnDateValeur","dateValeur","uniquementDateOperation"],undefined:["codeProduit"]};produitsValorisationService.rechercher({codeGdeFamilleProduits:bloc.codeGdeFamilleProduits,ex:bloc.codesFamillesValorises,
type:valorisationType}).$promise.then(function(liste){console.log("valorisation finie pour "+bloc.codeGdeFamilleProduits+" : "+liste);var elementsContratsClone=bloc.elementsContrats.slice();var retrierSuivantReponse=bloc.autoriseProduitHorsSurfaceBancaire;if(retrierSuivantReponse)bloc.elementsContrats=[];var produitsValorises=[];for(var i=0;i<liste.length;i++){var produitReponse=liste[i];var produit=null;var trouve=false;for(var j=0;j<elementsContratsClone.length;j++){produit=elementsContratsClone[j];
if(liste[i].numeroCompte==produit.numeroCompte&&liste[i].idElementContrat==produit.idElementContrat){for(var propertyName in produitReponse)if(produit[propertyName]==undefined||fieldsToUpdateByValorisationType[valorisationType]!=undefined&&fieldsToUpdateByValorisationType[valorisationType].indexOf(propertyName)!=-1)produit[propertyName]=produitReponse[propertyName];if(produit.valorise!=undefined&&produit.typeProduit)produitsValorises.push(produit);elementsContratsClone.splice(j,1);trouve=true;break}}if(retrierSuivantReponse)if(trouve)bloc.elementsContrats.push(produit);
else{bloc.elementsContrats.push(produitReponse);_initProduit(produitReponse,bloc)}}while(elementsContratsClone.length>0)bloc.elementsContrats.push(elementsContratsClone.shift());for(var j=0;j<bloc.elementsContrats.length;j++){if(produitsValorises.indexOf(bloc.elementsContrats[j])==-1){if(bloc.elementsContrats[j].valorise==undefined)bloc.elementsContrats[j].valorise=false;if(bloc.elementsContrats[j].typeProduit==undefined)bloc.elementsContrats[j].typeProduit=""}_initProduitTemplate(bloc,bloc.elementsContrats[j])}if(bloc.valorisationCallback!=
undefined)bloc.valorisationCallback();syntheseController.resizeN0()}).catch(function(data){console.log("Echec : la valorisation a \u00e9chou\u00e9.");var typesProduits={3:"epargne",7:"epargne",5:"assurance",4:"credit"};for(var j=0;j<bloc.elementsContrats.length;j++){bloc.elementsContrats[j].valorise=false;bloc.elementsContrats[j].typeProduit=typesProduits[bloc.codeGdeFamilleProduits];_initProduitTemplate(bloc,bloc.elementsContrats[j])}if(bloc.valorisationCallback!=undefined)bloc.valorisationCallback();
syntheseController.resizeN0()});console.log("valorisation en cours pour "+bloc.codeGdeFamilleProduits)};syntheseController.init=function(data,autorisations){if(!data){console.error("Les donn\u00e9es re\u00e7ues sont null");return}syntheseController.data=data;syntheseController.cafxEligibilite=data.hasOwnProperty("cafxActivated")&&data.cafxActivated;_initAutorisations(autorisations);syntheseController.peapEligibilite={"activated":data.peapActivated,"eligibilite":false,"montantPreattribution":0};syntheseController.proEnt=
data.syntheseType=="PRO_ENT";syntheseController.marche=data.marche;syntheseController.compteN0=data.comptePrincipal;if(!_isValidAccount(syntheseController.compteN0))syntheseController.compteN0=null;if(syntheseController.compteN0==null)setTimeout(_displayNoMainAccountDiv,100);syntheseController.informationsClient=data.informationsClient;syntheseController.blocsN1=data.grandesFamilles;syntheseController.nombreCartes=NPC.synthese.compterCartes(syntheseController.compteN0);syntheseController.listeCodesFamilleNiveau4EpargneDisponible=
data.listeCodesFamilleNiveau4EpargneDisponible;syntheseController.notificationsTransactionnelles=data.notificationsTransactionnelles;syntheseController.notificationsTransactionnellesOuvertes=false;syntheseController.configurationLiensProduits=data.donneesConfigurationLiens;_initEntrepriseInformations(syntheseController.proEnt,data);_declareEventListener();_initLibelleMessagesNonLus();_initCompteN0(syntheseController.compteN0);if(data.peapActivated)syntheseController.recupererPeapEligibilite();for(var i=
0;i<syntheseController.blocsN1.length;i++)_initBlocInfos(syntheseController.blocsN1[i],data.donneesConfigurationLiens);for(var i=0;i<syntheseController.notificationsTransactionnelles.length;i++)_initNotification(syntheseController.notificationsTransactionnelles[i]);if(!NPC.afficherEmessagesPrioritaires)_iniDidacticiel()};syntheseController.getMeteoClassCSS=function(compte){if(syntheseController.compteN0==compte&&compte!=undefined){if(compte.meteo!=undefined)switch(compte.meteo){case "SOLEIL":return"SynthesisMainAccount--sun";
case "NUAGE":return"SynthesisMainAccount--cloud";case "PLUIE":return"SynthesisMainAccount--rain"}return"SynthesisMainAccount--noIcon"}else{if(compte.meteo!=undefined)switch(compte.meteo){case "SOLEIL":return"SynthesisAccount--sun";case "NUAGE":return"SynthesisAccount--cloud";case "PLUIE":return"SynthesisAccount--rain"}return"SynthesisAccount--noIcon"}};syntheseController.hasEncours=function(compte){return compte===undefined?false:syntheseController.hasEncoursM(compte)||syntheseController.hasEncoursM1(compte)};
syntheseController.hasEncoursM=function(compte){return compte===undefined?false:compte.cumulEncoursCartesDDM!=undefined&&compte.cumulEncoursCartesDDM!=0};syntheseController.hasEncoursM1=function(compte){return compte===undefined?false:compte.cumulEncoursCartesDDM1!=undefined&&compte.cumulEncoursCartesDDM1!=0};syntheseController.getTitreEncours=function(compte){var listCartesDD=_filtrerlistCartesDD(compte);if(compte==null||!syntheseController.hasEncours(compte))return"";else return listCartesDD.length>
1?"Encours cartes":"Encours carte"};syntheseController.isEpargneDisponible=function(produit){return produit!=undefined&&(produit.grandeFamilleProduitCode=="3"||syntheseController.isSousFamilleEpargneDisponible(produit))};syntheseController.isSousFamilleEpargneDisponible=function(produit){return produit!=undefined&&produit.sousFamilleProduit!=undefined&&syntheseController.listeCodesFamilleNiveau4EpargneDisponible!=undefined&&syntheseController.listeCodesFamilleNiveau4EpargneDisponible.indexOf(produit.sousFamilleProduit.code)!=
-1};syntheseController.afficherPromoBlocVide=function(bloc){if(bloc.codeGdeFamilleProduits=="1")return syntheseController.compteN0==null;else return bloc.elementsContrats.length==0};syntheseController.afficherSoldeEnDateValeur=function(bloc,produit){return bloc.affichageParDateValeur=="true"&&produit.soldeEnDateValeur!=undefined};syntheseController.getBlocVideTemplate=function(bloc){return"bloc-vide-"+bloc.codeGdeFamilleProduits+".html"};syntheseController.hasOperations=function(compte){return compte!=
null&&compte.operations!=null&&compte.operations.length>0};syntheseController.getBlocTemplate=function(bloc){var pathPrefix="synthese.angular-templates.n1.";var file=bloc.template;return pathPrefix+file+".html"};syntheseController.getBlocListeProduitsTemplate=function(bloc){var pathPrefix="synthese.angular-templates.n1.liste.";var file=bloc.grouperParPartenaire||bloc.grouperParEtablissement?"regrouper-par":"liste-simple";return pathPrefix+file+".html"};syntheseController.getProduitTemplate=function(bloc,
produit){var pathPrefix=bloc.produitTemplatePath;var file=bloc.produitTemplateDefault;if(produit.typeProduit&&["4","5"].indexOf(bloc.codeGdeFamilleProduits)!=-1)file=produit.typeProduit;if(file==undefined){console.warn("Le template du produit est ind\u00e9fini pour le bloc "+bloc.codeGdeFamilleProduits);return}return pathPrefix+file+".html"};syntheseController.isProductGotlink=function(produit,bloc,$event){var donneesLien=syntheseController.data.donneesConfigurationLiens[produit.codeProduit];if(donneesLien!=
undefined)return true;else return false};syntheseController.hasDonneeConfigurationLien=function(produit){var data=syntheseController.data;if(data&&data.donneesConfigurationLiens&&produit.codeProduit)return data.donneesConfigurationLiens[produit.codeProduit]!=undefined;return false};syntheseController.afficherDetailProduit=function(produit,bloc,$event){_preventDefaultAndStopPropatation($event);if(""+produit.codeProduit==="30013")if(syntheseController.data.donneesConfigurationLiens["30202"])produit.codeProduit=
"30202";else if(syntheseController.data.donneesConfigurationLiens["30204"])produit.codeProduit="30204";if(syntheseController.data!==undefined&&syntheseController.data.donneesConfigurationLiens!==undefined)NPC.synthese.afficherDetailProduit(syntheseController.data.donneesConfigurationLiens,produit)};syntheseController.getUrlDecouvrirNosOffres=function(bloc){var nomMarcheUrl=NPC.synthese.getCurrentMarcheUrl();var pageNPC=NPC.arbo.recupererPageMarche(nomMarcheUrl);var sousPageNPC="";if(pageNPC==NPC.arbo.particulier||
pageNPC==NPC.arbo.banquePrivee)if(bloc.codeGdeFamilleProduits=="3"||bloc.codeGdeFamilleProduits=="7")sousPageNPC=NPC.arbo.particulier.epargner;else if(bloc.codeGdeFamilleProduits=="4")sousPageNPC=NPC.arbo.particulier.emprunter;else{if(bloc.codeGdeFamilleProduits=="5")sousPageNPC=NPC.arbo.particulier.assurances}else if(bloc.codeGdeFamilleProduits=="3"||bloc.codeGdeFamilleProduits=="7")sousPageNPC=NPC.arbo.professionnel.fluxTresorerie;else if(bloc.codeGdeFamilleProduits=="4")sousPageNPC=NPC.arbo.professionnel.financerDeveloppement;
else if(bloc.codeGdeFamilleProduits=="5")sousPageNPC=NPC.arbo.professionnel.protegerMotiverSalaries;return"../"+sousPageNPC.toString()+".html"};syntheseController.getLienPuSEPAmail=function(){var nomMarcheUrl=NPC.synthese.getCurrentMarcheUrl();var pageNPC=NPC.arbo.recupererPageMarche(nomMarcheUrl);var sousPageNPC="";if(pageNPC==NPC.arbo.particulier||pageNPC==NPC.arbo.banquePrivee)sousPageNPC=NPC.arbo.particulier.puSepamail;else sousPageNPC=NPC.arbo.professionnel.puSepamail;return"../"+sousPageNPC.toString()+
".html"};syntheseController.ouvrirPersonnalisation=function($event){_preventDefaultAndStopPropatation($event);if(syntheseController.data.personnalisationActive)window.location="profil/parametres/parametrer-espace-personnel.html";else $("#personnalisation-erreur-popin").modal("show")};syntheseController.lienInactif=function($event){_preventDefaultAndStopPropatation($event)};syntheseController.gotoEDocuments=function(compte,$event){if($event!=undefined){$event.preventDefault();$event.stopPropagation()}if(compte!=
undefined){var url=window.location.pathname.split("synthese")[0]+"documents/mes-e-documents.html?numeroCompte\x3d"+compte.numeroCompte;window.location.href=url}};syntheseController.gotoEDocumentsPU=function($event){if($event!=undefined){$event.preventDefault();$event.stopPropagation()}var url=window.location.pathname.split("synthese")[0]+"documents/edocuments.html";window.location.href=url};syntheseController.gotoEDocumentsIHML=function(compte,url,$event){if($event!==undefined){$event.preventDefault();
$event.stopPropagation()}if(compte!==undefined)syntheseController.gotoEDoc(compte,url)};syntheseController.gotoCAFXIHML=function(compte,$event){if($event!==undefined){$event.preventDefault();$event.stopPropagation()}if(compte!==undefined){var url=window.location.pathname.split("synthese")[0]+"operations-courantes/gerer-change.html";window.location.href=url}};syntheseController.gotoURL=function(url,$event){_preventDefaultAndStopPropatation($event);window.location.href=NPC.adaptUrl(url)};syntheseController.gotoVirement=
function(compte,$event,virementVers){if($event!=undefined){$event.preventDefault();$event.stopPropagation()}var synthesePath=window.location.pathname;var postRedirectParameters={pageOrigine:synthesePath};if(compte===undefined)NPC.postRedirect(NPC.synthese.getCheminPageVirement(),postRedirectParameters);else{postRedirectParameters.grandeFamilleCode=compte.grandeFamilleProduitCode;if(virementVers)postRedirectParameters.recipientOfTransferIdx=compte.index;else postRedirectParameters.senderOfTransferIdx=
compte.index;NPC.postRedirect(NPC.synthese.getCheminPageEditVirement(),postRedirectParameters)}};syntheseController.telechargerAttestationAssurance=function(produit,$event){_preventDefaultAndStopPropatation($event);NPC.postPartenaire("moco/pacifica/jcr:content",{situation_travail:"LSTATT",idelco:produit.idElementContrat})};syntheseController.declencherMocoPleinchamp=function($event){_preventDefaultAndStopPropatation($event);NPC.postPartenaire("moco/pleinchamp/jcr:content",{situation_travail:"BANCAIRE"})};
syntheseController.declencherDetailCredit=function(produit,billet,urlIhml,urlPu,$event){_preventDefaultAndStopPropatation($event);callbackTrue=function(){syntheseController.declencherIhmlDetailCredit(produit,billet,urlIhml)};callbackFalse=function(){syntheseController.declencherPuDetailCredit(produit,billet,urlPu)};syntheseController.recupererProprieteActivationFonctionnalite("isDetailCreditPlafondIhmlActivated",callbackTrue,callbackFalse)};syntheseController.recupererProprieteActivationFonctionnalite=
function(prop,callbackTrue,callbackFalse){var ref="n1.switchihml";var param={propIhmlActivated:prop};$.get(NPC.genererURLJson(ref),param,function(data){if(data)callbackTrue();else callbackFalse()}).fail(function(data){console.log("Erreur lors de l'appel \u00e0 la servlet : "+ref+" status : "+data.status)})};syntheseController.declencherIhmlDetailCredit=function(produit,billet,urlIhml){var ref="n1.chargercontexteihml.detailcreditplafond";var param={id_element_contrat:produit.idElementContrat,numero_compte:produit.numeroCompte,
numero_credit_billet:billet.numeroBillet,url:urlIhml};$.post(NPC.genererURLJson(ref),param,function(data){window.location=data}).fail(function(data){console.log("Erreur lors de l'appel \u00e0 la servlet : "+ref+" status : "+data.status)})};syntheseController.gotoEDoc=function(compte,url){var ref="n1.chargercontexteihml.parcourssynthesecontexteservlet";$.post(NPC.genererURLJson(ref),{id_element_contrat:compte.idElementContrat,url:url,numero_compte:compte.numeroCompte},function(data){window.location=
data}).fail(function(data){NPC.clientSideLogger.error("ERROR","Erreur lors de l'appel \u00e0 la servlet : "+ref+" status : "+data.status)})};syntheseController.declencherPuDetailCredit=function(produit,billet,urlPu){var url=NPC.adaptUrl(urlPu);url=url.replace(".html","/jcr:content.init.html");var numeroPret=billet.numeroCredit;NPC.postPartenaire(url,{numcompte:produit.numeroCompteBam,num:numeroPret,numord:billet.numeroBillet,indexList:produit.indexList})};syntheseController.formatNumeroBillet=function(billet){switch(billet.numeroBillet.length){case 1:return"00"+
billet.numeroBillet;break;case 2:return"0"+billet.numeroBillet;break;case 3:return billet.numeroBillet;break;default:return billet.numeroBillet}};syntheseController.declarerSinistre=function(produit,$event){if($event!=undefined){$event.preventDefault();$event.stopPropagation()}NPC.postPartenaire("moco/pacifica/jcr:content",{situation_travail:"DECLASINI",idelco:produit.idElementContrat})};syntheseController.effectuerAvenant=function(produit,$event){_preventDefaultAndStopPropatation($event);NPC.postPartenaire("moco/innovation/jcr:content",
{code_produit:NPC.synthese.formaterCodeProduit(produit.codeProduit),situation_travail:"BANCAIRE"})};syntheseController.gotoMesCartes=function(uneSeulCarte){callbackTrue=function(){NPC.synthese.gotoGestionCartes()};callbackFalse=function(){NPC.synthese.gotoMesCartes(uneSeulCarte)};syntheseController.recupererProprieteActivationFonctionnalite("isGestionDeLaCarteIhmlActivated",callbackTrue,callbackFalse)};syntheseController.gotoEditerRib=function(compte,$event){_preventDefaultAndStopPropatation($event);
if(!isButtonGoToRibCancelled){isButtonGoToRibCancelled=true;if(compte==undefined)NPC.postRedirect(NPC.synthese.getCheminEditerRib());else{var data={grandeFamilleCode:compte.grandeFamilleProduitCode,compteIdx:compte.index};NPC.postRedirect(NPC.synthese.getCheminEditerRib(),data)}}};syntheseController.telechargerHistorique=function(produit,$event){_preventDefaultAndStopPropatation($event);if(produit&&produit.numeroCompte){var telechargementOptions={comptes:[produit.numeroCompte],format:"",debut:"",
fin:"",type:"c"};var servletUrl=NPC.synthese.getCheminTelechargement();var promise=$http({method:"POST",url:servletUrl,data:telechargementOptions,responseType:"blob"});promise.then(function successCallback(response,produit,$event){var data=response.data;var disposition=response.headers("Content-Disposition");var defaultFileName="";if(disposition){var match=disposition.match(/.*filename="?([^;"]+)"?.*/);if(match[1])defaultFileName=match[1]}defaultFileName=defaultFileName.replace(/[<>:"\/\\|?*]+/g,
"_");if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(data,defaultFileName);else{var a=window.document.createElement("a");a.href=window.URL.createObjectURL(data);a.download=defaultFileName;document.body.appendChild(a);a.click();document.body.removeChild(a)}},function errorCallback(response){console.log("error callback ")})}};syntheseController.gotoSyntheseN3=function(compte,encoursCarte,$event){if($event!=undefined){$event.preventDefault();$event.stopPropagation()}var data={grandeFamilleCode:compte.grandeFamilleProduitCode,
compteIdx:compte.index};if(encoursCarte)data.onglet="encours-carte";NPC.postRedirect("synthese/detail-comptes.html",data)};syntheseController.isProEnt=function(compte){return this.proEnt};syntheseController.resizeN0=function(){$timeout(function(){$(window).trigger("sticky.heightChanged")})};syntheseController.toggleNotificationsN0=function(){syntheseController.notificationsTransactionnellesOuvertes=!syntheseController.notificationsTransactionnellesOuvertes;$("#conteneur-personnalisation").toggle(!syntheseController.notificationsTransactionnellesOuvertes);
$(".Synthesis-mainAccount").toggle(!syntheseController.notificationsTransactionnellesOuvertes)};syntheseController.toggleBloc=function(bloc){bloc.ouvert=!bloc.ouvert;if(bloc.ouvert&&!bloc.produitsValorises){_valoriserProduits(bloc);bloc.produitsValorises=true}syntheseController.resizeN0()};syntheseController.toggleDetail=function(produit,$event){_preventDefaultAndStopPropatation($event);produit.detailAffiche=!produit.detailAffiche};syntheseController.toggleActionsRapides=function($event,bloc,produit){if(syntheseController.produitVoletOuvert!=
undefined&&syntheseController.produitVoletOuvert!=produit)syntheseController.produitVoletOuvert.voletOuvert=false;produit.voletOuvert=!produit.voletOuvert;syntheseController.produitVoletOuvert=produit.voletOuvert?produit:null};syntheseController.isActionRapideECautionAutorise=function(produit){if(produit!=undefined&&produit.sousFamilleProduit!=undefined)return["RDPE2300","RDPy2101"].indexOf(produit.sousFamilleProduit.code)!=-1;return false};syntheseController.setMarketingMessageVariablesFromSegment=
function(segment){if(ContextHub&&ContextHub.Utils)ContextHub.Utils.setMarketingMessageVariablesFromSegment(segment)};syntheseController.updateAffichageSoldeEnDateValeur=function(bloc){console.debug("updateAffichageDateValeur : "+bloc.affichageParDateValeur);if(bloc.affichageParDateValeur)if(!bloc.soldesEnDateValeurValorises){_valoriserProduits(bloc,"solde-en-date-valeur");bloc.soldesEnDateValeurValorises=true}for(var i=0;i<bloc.elementsContrats.length;i++)bloc.elementsContrats[i].chargement=_getChargementStatut(bloc,
bloc.elementsContrats[i])};syntheseController.isShowValorisationDate=function(produit){return produit.codeRoutageProducteur!=="PREDICA"&&produit.dateValorisationEpargne!=undefined&&!syntheseController.isEpargneDisponible(produit)&&(""+produit.typeProduit.toLowerCase()!=="epargne-collecte"?true:false)};syntheseController.isShowEncoursDate=function(produit){return produit.dateValorisationEpargne!=undefined&&produit.codeRoutageProducteur=="PREDICA"&&!syntheseController.isEpargneDisponible(produit)};
syntheseController.recupererPeapEligibilite=function(){var ref="genericapicall";$.post(NPC.genererURLJson(ref),{"cible":"peap"},function(data){syntheseController.peapEligibilite.eligibilite=data.eligible;syntheseController.peapEligibilite.montantPreattribution=NPC.formatNumber(data.montantPreattribution,0,3," ",",");$scope.$apply()}).fail(function(data){NPC.clientSideLogger.postLogData("ERROR",data.status,data.responseJSON.erreurType,data.responseJSON.message)})};syntheseController.decouvrirLePretExpress=
function(){tC.event.actionUtilisateur(this,{evt_action_libelle:"lanc_fct_zdd",evt_fonction:"PEAP"});window.location="synthese/pret-express-agri-pro.html"};$scope.$on("$includeContentLoaded",function(event,templateName){if(templateName.startsWith("message-contrat.html"))if(ContextHub&&ContextHub.Utils&&ContextHub.Utils.putEventOnOffers)setTimeout(function(){var event=new Event("ContextHub_checkMarketingMessages");document.dispatchEvent(event)},50)})}})(angular);